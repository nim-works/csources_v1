/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_TLineInfo__LpCBEHcAwE2yCs4l9cD1BOA tyObject_TLineInfo__LpCBEHcAwE2yCs4l9cD1BOA;
typedef struct tySequence__V9cBl110bSARQ3Xk9bVaXHDw tySequence__V9cBl110bSARQ3Xk9bVaXHDw;
typedef struct tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ;
typedef struct tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ;
typedef NU8 tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tyObject_TLineInfo__LpCBEHcAwE2yCs4l9cD1BOA {
NU16 line;
NI16 col;
NI32 fileIndex;
};
struct tySequence__V9cBl110bSARQ3Xk9bVaXHDw {
  NI len; tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content* p;
};
struct tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ {
tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ kind;
union{
struct {NimStringV2 text;
} _kind_1;
struct {NimStringV2 labelFmt;
} _kind_2;
struct {NimStringV2 lineIndent;
} _kind_3;
struct {NimStringV2 adType;
} _kind_4;
struct {NI level;
} _kind_5;
struct {NI order;
} _kind_6;
struct {tyObject_TLineInfo__LpCBEHcAwE2yCs4l9cD1BOA info;
} _kind_7;
};
NimStringV2 anchor;
tySequence__V9cBl110bSARQ3Xk9bVaXHDw sons;
};
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {
NI rc;
NI rootIdx;
};
struct tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ {
NI len;
tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ* p;
};
struct tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ {
NI cap;
tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* data[SEQ_DECL_SIZE];
};


#ifndef tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content_PP
#define tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content_PP
struct tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content { NI cap; tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content_PP
#define tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content_PP
struct tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content { NI cap; tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content_PP
#define tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content_PP
struct tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content { NI cap; tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3228)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___packagesZdocutilsZrstast_130)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* dest);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p);
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___packagesZdocutilsZrstast_144)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* dest);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p, NI alignment);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p, NI align);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(void, nimIncRef)(void* p);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___packagesZdocutilsZrstast_133)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* dest, tySequence__V9cBl110bSARQ3Xk9bVaXHDw src);
N_LIB_PRIVATE N_NIMCALL(void, setLen__packagesZdocutilsZrstast_165)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* s, NI newlen);
N_LIB_PRIVATE N_NIMCALL(void, shrink__packagesZdocutilsZrstast_172)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* x, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void, reset__packagesZdocutilsZrstast_192)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** obj);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___packagesZdocutilsZrstast_206)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** dest, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* src);
N_LIB_PRIVATE N_NIMCALL(void*, prepareSeqAdd)(NI len, void* p, NI addlen, NI elemSize, NI elemAlign);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_3231)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(void, add__packagesZdocutilsZrstast_323)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* x, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* value);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___packagesZdocutilsZrstast_203)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** dest, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* src);
N_LIB_PRIVATE N_NIMCALL(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*, newRstNode__packagesZdocutilsZrstast_109)(tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ kind, tySequence__V9cBl110bSARQ3Xk9bVaXHDw sons, NimStringV2 anchor);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap, NI elemSize, NI elemAlign);
N_LIB_PRIVATE N_NIMCALL(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*, newRstLeaf__packagesZdocutilsZrstast_311)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(void, add__packagesZdocutilsZrstast_320)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* father, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* son);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s, NI addlen);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, renderRstToText__packagesZdocutilsZrstast_635)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* node);
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__FFuHZ12IqCWTUfe3IbRMEg_2 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__FFuHZ12IqCWTUfe3IbRMEg_3 = {0, (NimStrPayload*)&TM__FFuHZ12IqCWTUfe3IbRMEg_2};
static const NimStringV2 TM__FFuHZ12IqCWTUfe3IbRMEg_4 = {0, (NimStrPayload*)&TM__FFuHZ12IqCWTUfe3IbRMEg_2};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__FFuHZ12IqCWTUfe3IbRMEg_5 = { 1 | NIM_STRLIT_FLAG, "`" };
static const NimStringV2 TM__FFuHZ12IqCWTUfe3IbRMEg_6 = {1, (NimStrPayload*)&TM__FFuHZ12IqCWTUfe3IbRMEg_5};
static const NimStringV2 TM__FFuHZ12IqCWTUfe3IbRMEg_7 = {1, (NimStrPayload*)&TM__FFuHZ12IqCWTUfe3IbRMEg_5};
extern NIM_BOOL nimInErrorMode__system_4174;
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU32)(((NU) (x))) - (NU32)(((NU) (y))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;
		NI T5_;
		if (!!((p == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_704(((NI) (ptrdiff_t) (p)), ((NI) 8));
		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
		{
			{
				if (!((NI)((NI32)((*cell).rc) >> (NU32)(((NI) 4))) == ((NI) 0))) goto LA9_;
				result = NIM_TRUE;
				goto LA6;
			}
			LA9_: ;
			(*cell).rc -= ((NI) 16);
		} LA6: ;
	}
	LA3_: ;
	return result;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___packagesZdocutilsZrstast_130)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* dest) {
	NI colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = ((NI) 0);
	{
		while (1) {
			{
				NI T5_;
				T5_ = (*dest).len;
				if (!!((colontmp_ < T5_))) goto LA6_;
				goto LA2;
			}
			LA6_: ;
			{
				NIM_BOOL T10_;
				T10_ = (NIM_BOOL)0;
				T10_ = nimDecRefIsLast((*dest).p->data[colontmp_]);
				if (!T10_) goto LA11_;
				eqdestroy___packagesZdocutilsZrstast_144((*dest).p->data[colontmp_]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimRawDispose((*dest).p->data[colontmp_], ((NI) 4));
			}
			LA11_: ;
			colontmp_ += ((NI) 1);
		} LA2: ;
	}
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*));
}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___packagesZdocutilsZrstast_144)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	switch ((*dest).kind) {
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 73):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 71):
	{
		eqdestroy___system_3228((&(*dest)._kind_1.text));
	}
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 8):
	{
		eqdestroy___system_3228((&(*dest)._kind_2.labelFmt));
	}
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 28):
	{
		eqdestroy___system_3228((&(*dest)._kind_3.lineIndent));
	}
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 52):
	{
		eqdestroy___system_3228((&(*dest)._kind_4.adType));
	}
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 2):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 1):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 3):
	{
	}
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 36):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 37):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 19):
	{
	}
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 41):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 70):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 67):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 15):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 58):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 51):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 43):
	{
	}
	break;
	default:
	{
	}
	break;
	}
	eqdestroy___system_3228((&(*dest).anchor));
	eqdestroy___packagesZdocutilsZrstast_130((&(*dest).sons));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, nimIncRef)(void* p) {
	NI T1_;
	T1_ = (NI)0;
	T1_ = minuspercent___system_704(((NI) (ptrdiff_t) (p)), ((NI) 8));
	(*((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T1_))).rc += ((NI) 16);
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___packagesZdocutilsZrstast_203)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** dest, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* src) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!src) goto LA3_;
		nimIncRef(src);
	}
	LA3_: ;
	{
		NIM_BOOL T7_;
		T7_ = (NIM_BOOL)0;
		T7_ = nimDecRefIsLast((*dest));
		if (!T7_) goto LA8_;
		eqdestroy___packagesZdocutilsZrstast_144((*dest));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest), ((NI) 4));
	}
	LA8_: ;
	(*dest) = src;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___packagesZdocutilsZrstast_206)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** dest, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* src) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___packagesZdocutilsZrstast_144((*dest));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
	(*dest) = src;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, reset__packagesZdocutilsZrstast_192)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** obj) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** colontmp_;
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* colontmp__2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = obj;
	colontmp__2 = 0;
	eqsink___packagesZdocutilsZrstast_206(colontmp_, colontmp__2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, shrink__packagesZdocutilsZrstast_172)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* x, NI newLen) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI i;
		NI colontmp_;
		NI colontmp__2;
		NI T2_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp__2 = (NI)0;
		T2_ = (*x).len;
		colontmp_ = (NI)(T2_ - ((NI) 1));
		colontmp__2 = ((NI) (newLen));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((colontmp__2 <= res))) goto LA7_;
					goto LA4;
				}
				LA7_: ;
				i = res;
				reset__packagesZdocutilsZrstast_192(&(*x).p->data[i]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				res -= ((NI) 1);
			} LA4: ;
		}
	}
	(*((tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ*) (x))).len = ((NI) (newLen));
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, setLen__packagesZdocutilsZrstast_165)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* s, NI newlen) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI oldLen;
		NI T7_;
		tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ* xu;
		NIM_BOOL colontmp_;
		{
			NI T4_;
			T4_ = (*s).len;
			if (!(((NI) (newlen)) < T4_)) goto LA5_;
			shrink__packagesZdocutilsZrstast_172(s, newlen);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA5_: ;
		T7_ = (*s).len;
		oldLen = T7_;
		{
			if (!(((NI) (newlen)) <= oldLen)) goto LA10_;
			goto BeforeRet_;
		}
		LA10_: ;
		xu = ((tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ*) (s));
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = ((*xu).p == ((tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ*) NIM_NIL));
			{
				if (!colontmp_) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			colontmp_ = ((*(*xu).p).cap < ((NI) (newlen)));
		} LA12: ;
		{
			void* T21_;
			if (!colontmp_) goto LA19_;
			T21_ = (void*)0;
			T21_ = prepareSeqAdd(oldLen, ((void*) ((*xu).p)), (NI)(((NI) (newlen)) - oldLen), ((NI) 4), ((NI) 4));
			(*xu).p = ((tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ*) (T21_));
		}
		LA19_: ;
		(*xu).len = ((NI) (newlen));
	} LA1: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___packagesZdocutilsZrstast_133)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* dest, tySequence__V9cBl110bSARQ3Xk9bVaXHDw src) {
	NI T1_;
	NI colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = src.len;
	setLen__packagesZdocutilsZrstast_165(dest, T1_);
	colontmp_ = ((NI) 0);
	{
		while (1) {
			{
				NI T6_;
				T6_ = (*dest).len;
				if (!!((colontmp_ < T6_))) goto LA7_;
				goto LA3;
			}
			LA7_: ;
			{
				if (!src.p->data[colontmp_]) goto LA11_;
				nimIncRef(src.p->data[colontmp_]);
			}
			LA11_: ;
			{
				NIM_BOOL T15_;
				T15_ = (NIM_BOOL)0;
				T15_ = nimDecRefIsLast((*dest).p->data[colontmp_]);
				if (!T15_) goto LA16_;
				eqdestroy___packagesZdocutilsZrstast_144((*dest).p->data[colontmp_]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				nimRawDispose((*dest).p->data[colontmp_], ((NI) 4));
			}
			LA16_: ;
			(*dest).p->data[colontmp_] = src.p->data[colontmp_];
			colontmp_ += ((NI) 1);
		} LA3: ;
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*, newRstNode__packagesZdocutilsZrstast_109)(tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ kind, tySequence__V9cBl110bSARQ3Xk9bVaXHDw sons, NimStringV2 anchor) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* result;
	tySequence__V9cBl110bSARQ3Xk9bVaXHDw colontmp_;
	NimStringV2 colontmp__2;
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
	T1_ = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	T1_ = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*) nimNewObj(sizeof(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ), NIM_ALIGNOF(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ));
	(*T1_).kind = kind;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	eqcopy___packagesZdocutilsZrstast_133((&colontmp_), sons);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	(*T1_).sons = colontmp_;
	colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
	eqcopy___system_3231((&colontmp__2), anchor);
	(*T1_).anchor = colontmp__2;
	result = T1_;
	switch ((*result).kind) {
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 73):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 71):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 8):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 28):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 52):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 2):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 1):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 3):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 36):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 37):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 19):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 41):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 70):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 67):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 15):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 58):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 51):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 43):
	break;
	default:
	break;
	} 
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, add__packagesZdocutilsZrstast_323)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* x, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* value) {
	NI oldLen;
	NI T1_;
	tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ* xu;
	NIM_BOOL colontmp_;
	T1_ = (*x).len;
	oldLen = T1_;
	xu = ((tyObject_NimSeqV2__QpC5v8BVJeS9bocZV3b3wTQ*) (x));
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = ((*xu).p == ((tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ*) NIM_NIL));
		{
			if (!colontmp_) goto LA5_;
			goto LA2;
		}
		LA5_: ;
		colontmp_ = ((*(*xu).p).cap < (NI)(oldLen + ((NI) 1)));
	} LA2: ;
	{
		void* T11_;
		if (!colontmp_) goto LA9_;
		T11_ = (void*)0;
		T11_ = prepareSeqAdd(oldLen, ((void*) ((*xu).p)), ((NI) 1), ((NI) 4), ((NI) 4));
		(*xu).p = ((tyObject_NimSeqPayload__P1TEu1P9aYViM9a5wDFMAhEQ*) (T11_));
	}
	LA9_: ;
	(*xu).len = (NI)(oldLen + ((NI) 1));
	(*(*xu).p).data[oldLen] = value;
}
N_LIB_PRIVATE N_NIMCALL(void, add__packagesZdocutilsZrstast_320)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* father, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* son) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	colontmp_ = 0;
	eqcopy___packagesZdocutilsZrstast_203(&colontmp_, son);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	add__packagesZdocutilsZrstast_323((&(*father).sons), colontmp_);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___packagesZdocutilsZrstast_200)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest));
		if (!T3_) goto LA4_;
		eqdestroy___packagesZdocutilsZrstast_144((*dest));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		nimRawDispose((*dest), ((NI) 4));
	}
	LA4_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*, newRstLeaf__packagesZdocutilsZrstast_311)(NimStringV2 s) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* result;
	tySequence__V9cBl110bSARQ3Xk9bVaXHDw T1_;
	NimStringV2* colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	T1_.len = 0; T1_.p = NIM_NIL;
	T1_.len = 0; T1_.p = (tySequence__V9cBl110bSARQ3Xk9bVaXHDw_Content*) newSeqPayload(0, sizeof(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*), NIM_ALIGNOF(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*));
	result = newRstNode__packagesZdocutilsZrstast_109(((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 73), T1_, TM__FFuHZ12IqCWTUfe3IbRMEg_3);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmp_ = (&(*result)._kind_1.text);
	eqcopy___system_3231(colontmp_, s);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, len__packagesZdocutilsZrstast_102)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* n) {
	NI result;
	NI T1_;
	result = (NI)0;
	T1_ = (*n).sons.len;
	result = T1_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*, newRstNode__packagesZdocutilsZrstast_278)(tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ kind, tyObject_TLineInfo__LpCBEHcAwE2yCs4l9cD1BOA info, tySequence__V9cBl110bSARQ3Xk9bVaXHDw sons) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* result;
	tySequence__V9cBl110bSARQ3Xk9bVaXHDw colontmp_;
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	T1_ = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	T1_ = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*) nimNewObj(sizeof(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ), NIM_ALIGNOF(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ));
	(*T1_).kind = kind;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	eqcopy___packagesZdocutilsZrstast_133((&colontmp_), sons);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	(*T1_).sons = colontmp_;
	result = T1_;
	switch ((*result).kind) {
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 73):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 71):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 8):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 28):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 52):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 2):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 1):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 3):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 36):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 37):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 19):
	break;
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 41):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 70):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 67):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 15):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 58):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 51):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 43):
	break;
	default:
	break;
	} 
	(*result)._kind_7.info = info;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___packagesZdocutilsZrstast_136)(tySequence__V9cBl110bSARQ3Xk9bVaXHDw* dest, tySequence__V9cBl110bSARQ3Xk9bVaXHDw src) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	if ((*dest).p != src.p) {	eqdestroy___packagesZdocutilsZrstast_130(dest);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
(*dest).len = src.len; (*dest).p = src.p;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, add__packagesZdocutilsZrstast_343)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* father, NimStringV2 s) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	T1_ = newRstLeaf__packagesZdocutilsZrstast_311(s);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	add__packagesZdocutilsZrstast_323((&(*father).sons), T1_);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, addIfNotNil__packagesZdocutilsZrstast_350)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* father, tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* son) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!!((son == ((tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*) NIM_NIL)))) goto LA3_;
		add__packagesZdocutilsZrstast_320(father, son);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1708(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, renderRstToText__packagesZdocutilsZrstast_635)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* node) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		if (!(node == ((tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*) NIM_NIL))) goto LA3_;
		result = TM__FFuHZ12IqCWTUfe3IbRMEg_4;
		goto BeforeRet_;
	}
	LA3_: ;
	switch ((*node).kind) {
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 73):
	case ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 71):
	{
		prepareAdd((&result), (*node)._kind_1.text.len + 0);
appendString((&result), (*node)._kind_1.text);
	}
	break;
	default:
	{
		{
			if (!((*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 59) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 67) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 68) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 58))) goto LA9_;
			prepareAdd((&result), 1);
appendString((&result), TM__FFuHZ12IqCWTUfe3IbRMEg_6);
		}
		LA9_: ;
		{
			NI i;
			NI colontmp_;
			NI T12_;
			NI i_2;
			i = (NI)0;
			colontmp_ = (NI)0;
			T12_ = (*node).sons.len;
			colontmp_ = T12_;
			i_2 = ((NI) 0);
			{
				while (1) {
					{
						if (!!((i_2 < colontmp_))) goto LA17_;
						goto LA14;
					}
					LA17_: ;
					i = i_2;
					{
						NimStringV2 colontmp__2;
						NIM_BOOL colontmp__3;
						colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
						colontmp__3 = (NIM_BOOL)0;
						{
							colontmp__3 = ((*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 58) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 51));
							{
								if (!!(colontmp__3)) goto LA23_;
								goto LA20;
							}
							LA23_: ;
							colontmp__3 = (i == ((NI) 0));
						} LA20: ;
						{
							if (!colontmp__3) goto LA27_;
							goto LA19;
						}
						LA27_: ;
						colontmp__2 = renderRstToText__packagesZdocutilsZrstast_635((*node).sons.p->data[i]);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						prepareAdd((&result), colontmp__2.len + 0);
appendString((&result), colontmp__2);
						eqdestroy___system_3228((&colontmp__2));
					} LA19: ;
					i_2 += ((NI) 1);
				} LA14: ;
			}
		}
		{
			if (!((*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 59) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 67) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 68) || (*node).kind == ((tyEnum_RstNodeKind__DNoJcMFu9cjq4EGXsLl82CQ) 58))) goto LA31_;
			prepareAdd((&result), 1);
appendString((&result), TM__FFuHZ12IqCWTUfe3IbRMEg_7);
		}
		LA31_: ;
	}
	break;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*, lastSon__packagesZdocutilsZrstast_314)(tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* n) {
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ* result;
	tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ** colontmp_;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_RstNode__22EYjMYlm9cWcheQxrewdHQ*)0;
	T1_ = (*n).sons.len;
	colontmp_ = &(*n).sons.p->data[(NI)(T1_ - ((NI) 1))];
	eqcopy___packagesZdocutilsZrstast_203(&result, (*colontmp_));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
