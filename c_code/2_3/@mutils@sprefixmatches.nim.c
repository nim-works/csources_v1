/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 32
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef NU8 tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, nsuToLowerAsciiChar)(NIM_CHAR c);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__P9b9adRChs9cbzL6i5n3jD9b9ag_2 = { 4 | NIM_STRLIT_FLAG, "None" };
static const NimStringV2 TM__P9b9adRChs9cbzL6i5n3jD9b9ag_3 = {4, (NimStrPayload*)&TM__P9b9adRChs9cbzL6i5n3jD9b9ag_2};
static const struct {
  NI cap; NIM_CHAR data[6+1];
} TM__P9b9adRChs9cbzL6i5n3jD9b9ag_4 = { 6 | NIM_STRLIT_FLAG, "Abbrev" };
static const NimStringV2 TM__P9b9adRChs9cbzL6i5n3jD9b9ag_5 = {6, (NimStrPayload*)&TM__P9b9adRChs9cbzL6i5n3jD9b9ag_4};
static const struct {
  NI cap; NIM_CHAR data[6+1];
} TM__P9b9adRChs9cbzL6i5n3jD9b9ag_6 = { 6 | NIM_STRLIT_FLAG, "Substr" };
static const NimStringV2 TM__P9b9adRChs9cbzL6i5n3jD9b9ag_7 = {6, (NimStrPayload*)&TM__P9b9adRChs9cbzL6i5n3jD9b9ag_6};
static const struct {
  NI cap; NIM_CHAR data[6+1];
} TM__P9b9adRChs9cbzL6i5n3jD9b9ag_8 = { 6 | NIM_STRLIT_FLAG, "Prefix" };
static const NimStringV2 TM__P9b9adRChs9cbzL6i5n3jD9b9ag_9 = {6, (NimStrPayload*)&TM__P9b9adRChs9cbzL6i5n3jD9b9ag_8};
extern NIM_BOOL nimInErrorMode__system_4174;
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q, prefixMatch__utilsZprefixmatches_10)(NimStringV2 p, NimStringV2 s) {
	tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q result;
	NI i;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q)0;
	{
		if (!(s.len < p.len)) goto LA3_;
		result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 0);
		goto BeforeRet_;
	}
	LA3_: ;
	i = ((NI) 0);
	{
		while (1) {
			NIM_BOOL colontmp_;
			{
				if (!!((i < s.len))) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			{
				if (!((NU8)(s.p->data[i]) == (NU8)(95))) goto LA13_;
				i += ((NI) 1);
			}
			LA13_: ;
			colontmp_ = (NIM_BOOL)0;
			{
				NIM_CHAR T20_;
				NIM_CHAR T21_;
				colontmp_ = (i < s.len);
				{
					if (!!(colontmp_)) goto LA18_;
					goto LA15;
				}
				LA18_: ;
				T20_ = (NIM_CHAR)0;
				T20_ = nsuToLowerAsciiChar(s.p->data[i]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				T21_ = (NIM_CHAR)0;
				T21_ = nsuToLowerAsciiChar(p.p->data[((NI) 0)]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				colontmp_ = ((NU8)(T20_) == (NU8)(T21_));
			} LA15: ;
			{
				NI ii;
				NI jj;
				if (!colontmp_) goto LA24_;
				ii = (NI)(i + ((NI) 1));
				jj = ((NI) 1);
				{
					while (1) {
						NIM_BOOL colontmp__2;
						colontmp__2 = (NIM_BOOL)0;
						{
							colontmp__2 = (ii < s.len);
							{
								if (!!(colontmp__2)) goto LA31_;
								goto LA28;
							}
							LA31_: ;
							colontmp__2 = (jj < p.len);
						} LA28: ;
						{
							if (!!(colontmp__2)) goto LA35_;
							goto LA27;
						}
						LA35_: ;
						{
							if (!((NU8)(p.p->data[jj]) == (NU8)(95))) goto LA39_;
							jj += ((NI) 1);
						}
						LA39_: ;
						{
							if (!((NU8)(s.p->data[ii]) == (NU8)(95))) goto LA43_;
							ii += ((NI) 1);
						}
						LA43_: ;
						{
							NIM_CHAR T47_;
							NIM_CHAR T48_;
							T47_ = (NIM_CHAR)0;
							T47_ = nsuToLowerAsciiChar(s.p->data[ii]);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							T48_ = (NIM_CHAR)0;
							T48_ = nsuToLowerAsciiChar(p.p->data[jj]);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							if (!!(((NU8)(T47_) == (NU8)(T48_)))) goto LA49_;
							goto LA26;
						}
						LA49_: ;
						ii += ((NI) 1);
						jj += ((NI) 1);
					} LA27: ;
				} LA26: ;
				{
					if (!(p.len <= jj)) goto LA53_;
					{
						{
							if (!(i == ((NI) 0))) goto LA58_;
							result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 3);
							goto BeforeRet_;
						}
						LA58_: ;
						result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 2);
						goto BeforeRet_;
					}
				}
				LA53_: ;
			}
			LA24_: ;
			i += ((NI) 1);
		} LA6: ;
	}
	{
		NIM_CHAR T62_;
		NIM_CHAR T63_;
		NI j;
		T62_ = (NIM_CHAR)0;
		T62_ = nsuToLowerAsciiChar(s.p->data[((NI) 0)]);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T63_ = (NIM_CHAR)0;
		T63_ = nsuToLowerAsciiChar(p.p->data[((NI) 0)]);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!((NU8)(T62_) == (NU8)(T63_))) goto LA64_;
		i = ((NI) 1);
		j = ((NI) 1);
		{
			while (1) {
				NIM_BOOL colontmp__3;
				NIM_BOOL colontmp__4;
				NIM_BOOL colontmp__6;
				{
					if (!!((i < s.len))) goto LA70_;
					goto LA67;
				}
				LA70_: ;
				colontmp__3 = (NIM_BOOL)0;
				colontmp__4 = (NIM_BOOL)0;
				{
					colontmp__4 = (i < (NI)(s.len - ((NI) 1)));
					{
						if (!!(colontmp__4)) goto LA75_;
						goto LA72;
					}
					LA75_: ;
					colontmp__4 = ((NU8)(s.p->data[i]) == (NU8)(95));
				} LA72: ;
				{
					if (!colontmp__4) goto LA79_;
					{
						NIM_BOOL colontmp__5;
						colontmp__5 = (NIM_BOOL)0;
						{
							NIM_CHAR T87_;
							NIM_CHAR T88_;
							colontmp__5 = (j < p.len);
							{
								if (!!(colontmp__5)) goto LA85_;
								goto LA82;
							}
							LA85_: ;
							T87_ = (NIM_CHAR)0;
							T87_ = nsuToLowerAsciiChar(p.p->data[j]);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							T88_ = (NIM_CHAR)0;
							T88_ = nsuToLowerAsciiChar(s.p->data[(NI)(i + ((NI) 1))]);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							colontmp__5 = ((NU8)(T87_) == (NU8)(T88_));
						} LA82: ;
						{
							if (!colontmp__5) goto LA91_;
							j += ((NI) 1);
							goto LA81;
						}
						LA91_: ;
						result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 0);
						goto BeforeRet_;
					} LA81: ;
				}
				LA79_: ;
				colontmp__6 = (NIM_BOOL)0;
				{
					{
						colontmp__3 = (i < s.len);
						{
							if (!!(colontmp__3)) goto LA97_;
							goto LA94;
						}
						LA97_: ;
						colontmp__3 = (((NU8)(s.p->data[i])) >= ((NU8)(65)) && ((NU8)(s.p->data[i])) <= ((NU8)(90)));
					} LA94: ;
					colontmp__6 = colontmp__3;
					{
						if (!!(colontmp__6)) goto LA101_;
						goto LA93;
					}
					LA101_: ;
					colontmp__6 = !((((NU8)(s.p->data[(NI)(i - ((NI) 1))])) >= ((NU8)(65)) && ((NU8)(s.p->data[(NI)(i - ((NI) 1))])) <= ((NU8)(90))));
				} LA93: ;
				{
					if (!colontmp__6) goto LA105_;
					{
						NIM_BOOL colontmp__7;
						colontmp__7 = (NIM_BOOL)0;
						{
							NIM_CHAR T113_;
							NIM_CHAR T114_;
							colontmp__7 = (j < p.len);
							{
								if (!!(colontmp__7)) goto LA111_;
								goto LA108;
							}
							LA111_: ;
							T113_ = (NIM_CHAR)0;
							T113_ = nsuToLowerAsciiChar(p.p->data[j]);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							T114_ = (NIM_CHAR)0;
							T114_ = nsuToLowerAsciiChar(s.p->data[i]);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							colontmp__7 = ((NU8)(T113_) == (NU8)(T114_));
						} LA108: ;
						{
							if (!colontmp__7) goto LA117_;
							j += ((NI) 1);
							goto LA107;
						}
						LA117_: ;
						result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 0);
						goto BeforeRet_;
					} LA107: ;
				}
				LA105_: ;
				i += ((NI) 1);
			} LA67: ;
		}
		{
			{
				if (!(p.len <= j)) goto LA122_;
				result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 1);
				goto BeforeRet_;
			}
			LA122_: ;
			result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 0);
			goto BeforeRet_;
		}
	}
	LA64_: ;
	result = ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 0);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___utilsZprefixmatches_7)(tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q e) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	switch (e) {
	case ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 0):
	{
		result = TM__P9b9adRChs9cbzL6i5n3jD9b9ag_3;
	}
	break;
	case ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 1):
	{
		result = TM__P9b9adRChs9cbzL6i5n3jD9b9ag_5;
	}
	break;
	case ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 2):
	{
		result = TM__P9b9adRChs9cbzL6i5n3jD9b9ag_7;
	}
	break;
	case ((tyEnum_PrefixMatch__Dkww2nY9cxJVLF9cfoQS5U6Q) 3):
	{
		result = TM__P9b9adRChs9cbzL6i5n3jD9b9ag_9;
	}
	break;
	}
	return result;
}
