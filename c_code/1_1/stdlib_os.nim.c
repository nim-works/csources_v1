/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#include <stdlib.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyTuple__UV3llMMYFckfui8YMBuUZA tyTuple__UV3llMMYFckfui8YMBuUZA;
typedef struct tyTuple__7q7q3E6Oj24ZNVJb9aonhAg tyTuple__7q7q3E6Oj24ZNVJb9aonhAg;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A;
typedef struct tySequence__9aKpvUh0ca6Bp9cKAwrowqUg tySequence__9aKpvUh0ca6Bp9cKAwrowqUg;
typedef struct tySequence__9aKpvUh0ca6Bp9cKAwrowqUg_Content tySequence__9aKpvUh0ca6Bp9cKAwrowqUg_Content;
typedef struct tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ;
typedef struct tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ;
typedef struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyTuple__N4J9cV4JZGem3ljqqj5rT0Q;
typedef struct tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ;
typedef struct tyTuple__0F3Kz25HWtRatQmCDVHWEA tyTuple__0F3Kz25HWtRatQmCDVHWEA;
typedef struct tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg;
typedef struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ;
typedef struct tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA;
typedef struct tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw;
typedef struct tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ;
typedef struct tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA;
typedef struct tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw;
typedef struct tyTuple__LCURwohbLBusrL8hdCnvng tyTuple__LCURwohbLBusrL8hdCnvng;
typedef struct tySequence__4eQHGndY6XBYpFOH09apV8Q tySequence__4eQHGndY6XBYpFOH09apV8Q;
typedef struct tySequence__4eQHGndY6XBYpFOH09apV8Q_Content tySequence__4eQHGndY6XBYpFOH09apV8Q_Content;
typedef struct tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  NI len; tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content* p;
};
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tyTuple__UV3llMMYFckfui8YMBuUZA {
NimStringV2 Field0;
NimStringV2 Field1;
};
struct tyTuple__7q7q3E6Oj24ZNVJb9aonhAg {
NimStringV2 Field0;
NimStringV2 Field1;
NimStringV2 Field2;
};
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tySequence__9aKpvUh0ca6Bp9cKAwrowqUg {
  NI len; tySequence__9aKpvUh0ca6Bp9cKAwrowqUg_Content* p;
};
struct tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A {
tySequence__9aKpvUh0ca6Bp9cKAwrowqUg data;
};
typedef N_STDCALL_PTR(NI32, tyProc__9bfgdr7bQ1pmM9bBBiLKTYKQ) (NI32 nBufferLength, NI16* lpBuffer);
typedef NI16 tyUncheckedArray__5WAtReG1juofV6itYKi25g[1];
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {
NI rc;
NI rootIdx;
};
struct tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
NI32 errorCode;
};
struct tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ {
NI len;
NI cap;
tyTuple__N4J9cV4JZGem3ljqqj5rT0Q* d;
};
struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q {
void** Field0;
TNimTypeV2* Field1;
};
typedef tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyUncheckedArray__sC1L67m2tqEzJLHInkP5AQ[1];
struct tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ {
NI len;
NI cap;
tyTuple__0F3Kz25HWtRatQmCDVHWEA* d;
};
struct tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ {
tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ traceStack;
tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ toFree;
NI freed;
NI touched;
NI edges;
NI rcSum;
NIM_BOOL keepThreshold;
};
typedef N_STDCALL_PTR(NI32, tyProc__aO673xGTLLxou7P7GxoCXA) (NI32 dwFlags, void* lpSource, NI32 dwMessageId, NI32 dwLanguageId, void* lpBuffer, NI32 nSize, void* arguments);
typedef N_STDCALL_PTR(void, tyProc__im9buRnIvptJfzdASYMEbBA) (void* p);
typedef N_STDCALL_PTR(NI32, tyProc__9bXer9a4ps9aSGctILcxWReVw) (void);
struct tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg {
NI i;
NI prev;
NIM_BOOL notFirst;
};
struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ {
NI Field0;
NI Field1;
};
typedef N_STDCALL_PTR(NI, tyProc__uB4vrTHQn0Jvw9aLLbXa8dw) (NI16* lpFileName, tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* lpFindFileData);
typedef N_STDCALL_PTR(NI32, tyProc__AOZmIvxefF5i4VhjpVljuA) (NI16* lpFileName);
typedef N_STDCALL_PTR(NI32, tyProc__dWXGY9c6d2VQATVpffOiFxg) (NI16* pathName, void* security);
struct tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
typedef N_STDCALL_PTR(NI16*, tyProc__59cB5PaaCqps8r4KDIIpBsQ) (void);
struct tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA {
  Exception Sup;
};
struct tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ {
  tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA Sup;
};
typedef NU8 tySet_tyChar__nmiMWKVIe46vacnhAFrQvw[32];
typedef N_STDCALL_PTR(NI32, tyProc__F5abU7dHEwC1oTpucb4d8w) (NI handle, NI16* buf, NI32 size);
typedef N_STDCALL_PTR(NI32, tyProc__quTHqfhhM3Gy3yi9bDCmwQw) (NI16* lpFileName, NI32 nBufferLength, NI16* lpBuffer, NI16** lpFilePart);
struct tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw {
NI32 dwLowDateTime;
NI32 dwHighDateTime;
};
typedef NI16 tyArray__iJBwcH9bQiwHzQictIUk8MQ[260];
typedef NI16 tyArray__LsB14pk4Yy7geVm5lvG22Q[14];
struct tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA {
NI32 dwFileAttributes;
tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw ftCreationTime;
tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw ftLastAccessTime;
tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw ftLastWriteTime;
NI32 nFileSizeHigh;
NI32 nFileSizeLow;
NI32 dwReserved0;
NI32 dwReserved1;
tyArray__iJBwcH9bQiwHzQictIUk8MQ cFileName;
tyArray__LsB14pk4Yy7geVm5lvG22Q cAlternateFileName;
};
typedef N_STDCALL_PTR(NI32, tyProc__jwEWAkul5J6p6K0UfXa1tw) (NI hFindFile, tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* lpFindFileData);
typedef N_STDCALL_PTR(void, tyProc__ofoySXaAAlxxs9bQS9a1etlg) (NI hFindFile);
typedef N_STDCALL_PTR(NI32, tyProc__oMSp9afuG3LrpiQi9buhBTnw) (NI16* lpFileName, NI32 dwFileAttributes);
typedef NimStringV2 tyArray__bgvsW9aAZ5OyR9ctiSVMMiLA[3];
typedef NU8 tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg;
struct tyTuple__LCURwohbLBusrL8hdCnvng {
tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg Field0;
NimStringV2 Field1;
};
struct tySequence__4eQHGndY6XBYpFOH09apV8Q {
  NI len; tySequence__4eQHGndY6XBYpFOH09apV8Q_Content* p;
};
struct tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q {
NI64 seconds;
NI nanosecond;
};
typedef NU8 tySet_tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA;
typedef NU8 tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA;
typedef N_STDCALL_PTR(NI32, tyProc__5RQiHrBOxhqBuF9cveL79akA) (NI16* lpExistingFileName, NI16* lpNewFileName, NI32 bFailIfExists);


#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__9aKpvUh0ca6Bp9cKAwrowqUg_Content_PP
#define tySequence__9aKpvUh0ca6Bp9cKAwrowqUg_Content_PP
struct tySequence__9aKpvUh0ca6Bp9cKAwrowqUg_Content { NI cap; NI16 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__4eQHGndY6XBYpFOH09apV8Q_Content_PP
#define tySequence__4eQHGndY6XBYpFOH09apV8Q_Content_PP
struct tySequence__4eQHGndY6XBYpFOH09apV8Q_Content { NI cap; tyTuple__UV3llMMYFckfui8YMBuUZA data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space);
N_NIMCALL(NimStringV2, rawNewString)(NI cap);
N_LIB_PRIVATE N_NIMCALL(void, joinPathImpl__pureZos_94)(NimStringV2* result, NI* state, NimStringV2 tail);
static N_INLINE(NIM_CHAR, X5BX5D___system_7195)(NimStringV2 s, NI i);
static N_INLINE(NIM_CHAR*, X5BX5D___system_7234)(NimStringV2* s, NI i);
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, nimPrepareStrMutationImpl__system_2314)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, normalizePathEnd__pureZos_63)(NimStringV2* path, NIM_BOOL trailingSep);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s, NI newLen);
static N_INLINE(void, nimAddCharV1)(NimStringV2* s, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s, NI addlen);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_3232)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(void, addNormalizePath__pureZpathnorm_78)(NimStringV2 x, NimStringV2* result, NI* state, NIM_CHAR dirSep);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normalizePathEnd__pureZos_83)(NimStringV2 path, NIM_BOOL trailingSep);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_3229)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosextractFilename)(NimStringV2 path);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
N_LIB_PRIVATE N_NIMCALL(tyTuple__UV3llMMYFckfui8YMBuUZA, nossplitPath)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7605)(NimStringV2 s, NI first, NI last);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7617)(NimStringV2 s, NI first);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3226)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_374)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normalizePath__pureZpathnorm_134)(NimStringV2 path, NIM_CHAR dirSep);
N_LIB_PRIVATE N_NIMCALL(NI, cmp__system_1540)(NimStringV2 x, NimStringV2 y);
N_LIB_PRIVATE N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringV2 a, NimStringV2 b);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosrelativePath)(NimStringV2 path, NimStringV2 base, NIM_CHAR sep);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b);
static N_INLINE(NIM_BOOL, equalMem__system_1716)(void* a, void* b, NI size);
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size);
static N_INLINE(void, normalizePathAux__pureZos_43)(NimStringV2* path);
N_LIB_PRIVATE N_NIMCALL(void, nosnormalizePath)(NimStringV2* path);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosisAbsolute)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePathInternal__pureZos_61)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePath__pureZos_1000)(NimStringV2 path, NimStringV2 root);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosjoinPath)(NimStringV2 head, NimStringV2 tail);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetCurrentDir)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A, newWideCString__systemZwidestrs_364)(NCSTRING source, NI L);
static N_INLINE(NI16*, toWideCString__systemZwidestrs_151)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A x);
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__pureZos_500)(NI32 errorCode, NimStringV2 additionalInfo);
N_LIB_PRIVATE N_NOINLINE(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*, newOSError__pureZos_455)(NI32 errorCode, NimStringV2 additionalInfo);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_463)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA** dest);
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p);
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y);
N_LIB_PRIVATE N_NOINLINE(void, rememberCycle__system_3161)(NIM_BOOL isDestroyAction, tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* s, TNimTypeV2* desc);
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3264)(tySequence__uB9b75OUPRENsBAu4AnoePA* dest);
static N_INLINE(void, nimTraceRefDyn)(void* q, void* env);
static N_INLINE(void, add__system_2720)(tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ* s, void** c, TNimTypeV2* t);
N_LIB_PRIVATE N_NOCONV(void*, allocImpl__system_1724)(NI size);
N_LIB_PRIVATE N_NOCONV(void, dealloc)(void* p);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, osErrorMsg__pureZos_435)(NI32 errorCode);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZwidestrs_463)(NI16* s);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__pureZos_503)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___systemZwidestrs_389)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A* dest, tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A src);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZwidestrs_466)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A s, NI estimate, NI replacement);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___systemZwidestrs_386)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A* dest);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, sameRoot__pureZos_178)(NimStringV2 path1, NimStringV2 path2);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isAbsFromCurrentDrive__pureZos_168)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, nsuToLowerAsciiChar)(NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ, next__pureZpathnorm_10)(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg* it, NimStringV2 x);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isUNCPrefix__pureZos_175)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasNext__pureZpathnorm_6)(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg it, NimStringV2 x);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringV2 s, NimStringV2 prefix);
N_LIB_PRIVATE N_NIMCALL(NI, parentDirPos__pureZos_252)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A, newWideCString__systemZwidestrs_396)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosexistsOrCreateDir)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, rawCreateDir__pureZos_1797)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosdirExists)(NimStringV2 dir);
static N_INLINE(void, addEscapedChar__system_7319)(NimStringV2* s, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NI, nosparamCount)(void);
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, nosparseCmdLine)(NimStringV2 c);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap, NI elemSize, NI elemAlign);
N_LIB_PRIVATE N_NIMCALL(void, add__stdZenumutils_66)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* x, NimStringV2 value);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_3730)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* dest, tySequence__sM4lkSb7zS6F7OVMvW9cffQ src);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosparamStr)(NI i);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, formatErrorIndexBoundStr__system_4378)(NimStringV2 i, NimStringV2 a, NimStringV2 b);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_3)(NI x);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShellWindows)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__pureZstrutils_1697)(NimStringV2 s, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw chars);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShell)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getEnv__pureZos_512)(NimStringV2 key, NimStringV2 default_0);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s);
static N_INLINE(NIM_BOOL, eqeq___system_7585)(NCSTRING x, NCSTRING y);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetHomeDir)(void);
static N_INLINE(NimStringV2, slash___pureZos_133)(NimStringV2 head, NimStringV2 tail);
N_LIB_PRIVATE N_NIMCALL(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg, nossplitFile)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetAppFilename)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_1455)(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg* dest);
N_LIB_PRIVATE N_NIMCALL(NI, findFirstFile__pureZos_900)(NimStringV2 a, tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* b);
N_LIB_PRIVATE N_NIMCALL(NI, searchExtPos__pureZos_328)(NimStringV2 path);
static N_INLINE(NIM_BOOL, skipFindData__pureZos_910)(tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* f);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileExists)(NimStringV2 filename);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normExt__pureZos_325)(NimStringV2 ext);
static N_INLINE(void, appendChar)(NimStringV2* dest, NIM_CHAR c);
static N_INLINE(NIM_BOOL, contains__pureZos_523)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item);
static N_INLINE(NI, find__pureZos_528)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___pureZos_550)(tyTuple__UV3llMMYFckfui8YMBuUZA x);
N_LIB_PRIVATE N_NIMCALL(void, addQuoted__pureZos_570)(NimStringV2* s, NimStringV2 x);
N_LIB_PRIVATE N_NIMCALL(int, setEnvImpl__stdZprivateZwin95setenv_17)(NimStringV2 name, NimStringV2 value, int overwrite);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosaddFileExt)(NimStringV2 filename, NimStringV2 ext);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p, NI align);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nostryRemoveFile)(NimStringV2 file);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, ntLtTime)(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q a, tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q b);
N_LIB_PRIVATE N_NIMCALL(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, nosgetLastModificationTime)(NimStringV2 file);
N_LIB_PRIVATE N_NIMCALL(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, fromWinTime__pureZtimes_988)(NI64 win);
N_LIB_PRIVATE N_NIMCALL(NI64, rdFileTime__windowsZwinlean_283)(tyObject_FILETIME__bs4NMleDDVF7xsEK0SGLBw f);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_664)(tySequence__4eQHGndY6XBYpFOH09apV8Q* dest);
N_LIB_PRIVATE N_NIMCALL(int, exitStatusLikeShell__pureZos_1412)(int status);
static N_INLINE(NI, countBits32)(NU32 n);
static N_INLINE(NI, countSetBitsImpl__systemZcountbits95impl_26)(NU32 x);
N_CDECL(int, __builtin_popcount)(unsigned int x);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__systemZassertions_65)(NimStringV2 msg);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nossymlinkExists)(NimStringV2 link);
N_LIB_PRIVATE N_NIMCALL(void, nosremoveFile)(NimStringV2 file);
N_LIB_PRIVATE N_NIMCALL(void, nosremoveDir)(NimStringV2 dir, NIM_BOOL checkDir);
N_LIB_PRIVATE N_NIMCALL(void, rawRemoveDir__pureZos_1788)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, tryMoveFSObject__pureZos_1391)(NimStringV2 source, NimStringV2 dest, NIM_BOOL isDir);
N_LIB_PRIVATE N_NIMCALL(void, noscopyDir)(NimStringV2 source, NimStringV2 dest);
N_LIB_PRIVATE N_NIMCALL(void, noscreateDir)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(void, noscopyFile)(NimStringV2 source, NimStringV2 dest, tySet_tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA options);
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_2 = { 1 | NIM_STRLIT_FLAG, "\\" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_3 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_2};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_4 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_5 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_6 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_7 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_8 = { 1 | NIM_STRLIT_FLAG, "." };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_9 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_10 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
extern TNimTypeV2 NTIv2__yoNlBGx0D2tRizIdhQuENw_;
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_11 = { 36 | NIM_STRLIT_FLAG, "The specified root is not absolute: " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_12 = {36, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_11};
extern TNimTypeV2 NTIv2__BeJgrOdDsczOwEWOZbRfKA_;
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_13 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[17+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_14 = { 17 | NIM_STRLIT_FLAG, "Additional info: " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_15 = {17, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_14};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_16 = { 16 | NIM_STRLIT_FLAG, "unknown OS error" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_17 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_16};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_18 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static NIM_CONST tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ TM__yu6cxgKBBXbNsTkT9cyMd4g_19 = {((NI) 0),
((NI) -1)}
;
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_20 = { 2 | NIM_STRLIT_FLAG, ".." };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_21 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_20};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_22 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_23 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_20};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_24 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_20};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_25 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_26 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_27 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
extern TNimTypeV2 NTIv2__iLZrPn9anoh9ad1MmO0RczFw_;
static const struct {
  NI cap; NIM_CHAR data[18+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_28 = { 18 | NIM_STRLIT_FLAG, "Failed to create \'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_29 = {18, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_28};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_30 = { 1 | NIM_STRLIT_FLAG, "\'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_31 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_30};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_32 = { 1 | NIM_STRLIT_FLAG, "\"" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_33 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_34 = { 2 | NIM_STRLIT_FLAG, "\\a" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_35 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_34};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_36 = { 2 | NIM_STRLIT_FLAG, "\\b" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_37 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_36};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_38 = { 2 | NIM_STRLIT_FLAG, "\\t" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_39 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_38};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_40 = { 2 | NIM_STRLIT_FLAG, "\\n" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_41 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_40};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_42 = { 2 | NIM_STRLIT_FLAG, "\\v" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_43 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_42};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_44 = { 2 | NIM_STRLIT_FLAG, "\\f" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_45 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_44};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_46 = { 2 | NIM_STRLIT_FLAG, "\\r" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_47 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_46};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_48 = { 2 | NIM_STRLIT_FLAG, "\\e" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_49 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_48};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_50 = { 2 | NIM_STRLIT_FLAG, "\\\\" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_51 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_50};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_52 = { 2 | NIM_STRLIT_FLAG, "\\\'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_53 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_52};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_54 = { 2 | NIM_STRLIT_FLAG, "\\\"" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_55 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_54};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_56 = { 2 | NIM_STRLIT_FLAG, "\\x" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_57 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_56};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_58 = { 16 | NIM_STRLIT_FLAG, "0123456789ABCDEF" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_59 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_58};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_60 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_58};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_61 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_62 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
extern TNimTypeV2 NTIv2__n6tGEPHKkh7E1AP9bj30WrQ_;
static const struct {
  NI cap; NIM_CHAR data[43+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_63 = { 43 | NIM_STRLIT_FLAG, "index out of bounds, the container is empty" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_64 = {43, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_63};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_65 = { 1 | NIM_STRLIT_FLAG, "0" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_66 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_65};
static NIM_CONST tySet_tyChar__nmiMWKVIe46vacnhAFrQvw TM__yu6cxgKBBXbNsTkT9cyMd4g_67 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_68 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_69 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_70 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_71 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_54};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_72 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_73 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_74 = { 2 | NIM_STRLIT_FLAG, ":\\" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_75 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_74};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_76 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_2};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_77 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_78 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_79 = { 3 | NIM_STRLIT_FLAG, "..\\" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_80 = {3, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_79};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_81 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_82 = { 1 | NIM_STRLIT_FLAG, " " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_83 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_82};
static const struct {
  NI cap; NIM_CHAR data[11+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_84 = { 11 | NIM_STRLIT_FLAG, "USERPROFILE" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_85 = {11, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_84};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_86 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_87 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_2};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_88 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_89 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[6+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_90 = { 6 | NIM_STRLIT_FLAG, "file \'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_91 = {6, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_90};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_92 = { 16 | NIM_STRLIT_FLAG, "\' does not exist" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_93 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_92};
static const struct {
  NI cap; NIM_CHAR data[18+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_94 = { 18 | NIM_STRLIT_FLAG, "invalid key, got: " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_95 = {18, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_94};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_96 = { 1 | NIM_STRLIT_FLAG, "(" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_97 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_96};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_98 = { 2 | NIM_STRLIT_FLAG, ", " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_99 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_98};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_100 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_98};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_101 = { 1 | NIM_STRLIT_FLAG, "," };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_102 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_101};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_103 = { 1 | NIM_STRLIT_FLAG, ")" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_104 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_103};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_105 = { 4 | NIM_STRLIT_FLAG, "PATH" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_106 = {4, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_105};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_107 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_108 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_109 = { 3 | NIM_STRLIT_FLAG, "exe" };
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_110 = { 3 | NIM_STRLIT_FLAG, "cmd" };
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_111 = { 3 | NIM_STRLIT_FLAG, "bat" };
N_LIB_PRIVATE NIM_CONST tyArray__bgvsW9aAZ5OyR9ctiSVMMiLA ExeExts__pureZos_941 = {{3, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_109},
{3, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_110},
{3, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_111}}
;
static const struct {
  NI cap; NIM_CHAR data[7+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_112 = { 7 | NIM_STRLIT_FLAG, "APPDATA" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_113 = {7, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_112};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_114 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_115 = {18, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_94};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_116 = { 1 | NIM_STRLIT_FLAG, "=" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_117 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_116};
static const struct {
  NI cap; NIM_CHAR data[105+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_118 = { 105 | NIM_STRLIT_FLAG, "os.nim(1844, 12) `card(copyFlagSymlink * options) == 1` There should be exactly one cfSymlink* in options" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_119 = {105, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_118};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_120 = { 1 | NIM_STRLIT_FLAG, "*" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_121 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_120};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_122 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[25+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_123 = { 25 | NIM_STRLIT_FLAG, "os.nim(2029, 16) `false` " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_124 = {25, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_123};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_125 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_120};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_126 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
N_LIB_PRIVATE tySequence__sM4lkSb7zS6F7OVMvW9cffQ ownArgv__pureZos_1930;
N_LIB_PRIVATE NIM_BOOL ownParsedArgv__pureZos_1931;
extern NIM_BOOL nimInErrorMode__system_4174;
extern tyProc__9bfgdr7bQ1pmM9bBBiLKTYKQ Dl_1241514167_;
extern tyProc__aO673xGTLLxou7P7GxoCXA Dl_1241514157_;
extern tyProc__im9buRnIvptJfzdASYMEbBA Dl_1241514165_;
extern tyProc__9bXer9a4ps9aSGctILcxWReVw Dl_1241514154_;
extern tyProc__uB4vrTHQn0Jvw9aLLbXa8dw Dl_1241514234_;
extern tyProc__AOZmIvxefF5i4VhjpVljuA Dl_1241514247_;
extern tyProc__dWXGY9c6d2VQATVpffOiFxg Dl_1241514172_;
extern tyProc__59cB5PaaCqps8r4KDIIpBsQ Dl_1241514266_;
extern tyProc__F5abU7dHEwC1oTpucb4d8w Dl_1241514180_;
extern tyProc__quTHqfhhM3Gy3yi9bDCmwQw Dl_1241514242_;
extern tyProc__jwEWAkul5J6p6K0UfXa1tw Dl_1241514237_;
extern tyProc__ofoySXaAAlxxs9bQS9a1etlg Dl_1241514240_;
extern tyProc__AOZmIvxefF5i4VhjpVljuA Dl_1241514593_;
extern tyProc__oMSp9afuG3LrpiQi9buhBTnw Dl_1241514249_;
extern tyProc__5RQiHrBOxhqBuF9cveL79akA Dl_1241514252_;
extern tyProc__AOZmIvxefF5i4VhjpVljuA Dl_1241514175_;
extern tyProc__5RQiHrBOxhqBuF9cveL79akA Dl_1241514259_;
static N_INLINE(NIM_CHAR, X5BX5D___system_7195)(NimStringV2 s, NI i) {
	NIM_CHAR result;
	result = (NIM_CHAR)0;
	result = s.p->data[(NI)(s.len - i)];
	return result;
}
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s) {
	NIM_BOOL colontmp_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !(((*s).p == ((NimStrPayload*) NIM_NIL)));
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = ((NI)((*(*s).p).cap & ((NI) 1073741824)) == ((NI) 1073741824));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		nimPrepareStrMutationImpl__system_2314(s);
	}
	LA8_: ;
}
static N_INLINE(NIM_CHAR*, X5BX5D___system_7234)(NimStringV2* s, NI i) {
	NIM_CHAR* result;
	result = (NIM_CHAR*)0;
	nimPrepareStrMutationV2((&(*s)));
	result = (&(*s).p->data[(NI)((*s).len - i)]);
	return result;
}
static N_INLINE(void, nimAddCharV1)(NimStringV2* s, NIM_CHAR c) {
	prepareAdd(s, ((NI) 1));
	(*(*s).p).data[(*s).len] = c;
	(*(*s).p).data[(NI)((*s).len + ((NI) 1))] = 0;
	(*s).len += ((NI) 1);
}
N_LIB_PRIVATE N_NIMCALL(void, normalizePathEnd__pureZos_63)(NimStringV2* path, NIM_BOOL trailingSep) {
	NI i;
{	{
		if (!((*path).len == ((NI) 0))) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	i = (*path).len;
	{
		while (1) {
			NIM_BOOL colontmp_;
			{
				if (!!((((NI) 1) <= i))) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			colontmp_ = (NIM_BOOL)0;
			{
				NIM_BOOL colontmp__2;
				{
					if (!(((NU8)((*path).p->data[(NI)(i - ((NI) 1))])) == ((NU8)(92)) || ((NU8)((*path).p->data[(NI)(i - ((NI) 1))])) == ((NU8)(47)))) goto LA14_;
					i -= ((NI) 1);
					goto LA11;
				}
				LA14_: ;
				colontmp__2 = (NIM_BOOL)0;
				{
					{
						colontmp_ = ((NU8)((*path).p->data[(NI)(i - ((NI) 1))]) == (NU8)(46));
						{
							if (!!(colontmp_)) goto LA20_;
							goto LA17;
						}
						LA20_: ;
						colontmp_ = (((NI) 2) <= i);
					} LA17: ;
					colontmp__2 = colontmp_;
					{
						if (!!(colontmp__2)) goto LA24_;
						goto LA16;
					}
					LA24_: ;
					colontmp__2 = (((NU8)((*path).p->data[(NI)(i - ((NI) 2))])) == ((NU8)(92)) || ((NU8)((*path).p->data[(NI)(i - ((NI) 2))])) == ((NU8)(47)));
				} LA16: ;
				{
					if (!colontmp__2) goto LA28_;
					i -= ((NI) 1);
					goto LA11;
				}
				LA28_: ;
				goto LA5;
			} LA11: ;
		} LA6: ;
	} LA5: ;
	{
		NimStringV2* colontmp__3;
		{
			if (!trailingSep) goto LA33_;
			setLengthStrV2((&(*path)), ((NI) (i)));
			nimAddCharV1((&(*path)), 92);
			goto LA30;
		}
		LA33_: ;
		{
			if (!(((NI) 0) < i)) goto LA37_;
			setLengthStrV2((&(*path)), ((NI) (i)));
			goto LA30;
		}
		LA37_: ;
		colontmp__3 = path;
		eqsink___system_3232(colontmp__3, TM__yu6cxgKBBXbNsTkT9cyMd4g_3);
	} LA30: ;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, joinPathImpl__pureZos_94)(NimStringV2* result, NI* state, NimStringV2 tail) {
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NIM_BOOL colontmp__3;
	NIM_BOOL colontmp__4;
	NIM_BOOL trailingSep;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	colontmp__3 = (NIM_BOOL)0;
	colontmp__4 = (NIM_BOOL)0;
	{
		{
			NIM_CHAR T7_;
			colontmp_ = (((NI) 0) < tail.len);
			{
				if (!!(colontmp_)) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			T7_ = (NIM_CHAR)0;
			T7_ = X5BX5D___system_7195(tail, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			colontmp_ = (((NU8)(T7_)) == ((NU8)(92)) || ((NU8)(T7_)) == ((NU8)(47)));
		} LA2: ;
		colontmp__4 = colontmp_;
		{
			if (!colontmp__4) goto LA10_;
			goto LA1;
		}
		LA10_: ;
		{
			colontmp__2 = (tail.len == ((NI) 0));
			{
				if (!!(colontmp__2)) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			{
				NIM_CHAR* T22_;
				colontmp__3 = (((NI) 0) < (*result).len);
				{
					if (!!(colontmp__3)) goto LA20_;
					goto LA17;
				}
				LA20_: ;
				T22_ = (NIM_CHAR*)0;
				T22_ = X5BX5D___system_7234(result, ((NI) 1));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				colontmp__3 = (((NU8)((*T22_))) == ((NU8)(92)) || ((NU8)((*T22_))) == ((NU8)(47)));
			} LA17: ;
			colontmp__2 = colontmp__3;
		} LA12: ;
		colontmp__4 = colontmp__2;
	} LA1: ;
	trailingSep = colontmp__4;
	normalizePathEnd__pureZos_63(result, NIM_FALSE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	addNormalizePath__pureZpathnorm_78(tail, result, state, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	normalizePathEnd__pureZos_63(result, trailingSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosjoinPath)(NimStringV2 head, NimStringV2 tail) {
	NimStringV2 result;
	NI state;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(head.len + tail.len))));
	state = ((NI) 0);
	joinPathImpl__pureZos_94((&result), (&state), head);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	joinPathImpl__pureZos_94((&result), (&state), tail);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normalizePathEnd__pureZos_83)(NimStringV2 path, NIM_BOOL trailingSep) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	eqcopy___system_3229((&result), path);
	normalizePathEnd__pureZos_63((&result), trailingSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__UV3llMMYFckfui8YMBuUZA, nossplitPath)(NimStringV2 path) {
	tyTuple__UV3llMMYFckfui8YMBuUZA result;
	NI sepPos;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyTuple__UV3llMMYFckfui8YMBuUZA));
	sepPos = ((NI) -1);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(path.len - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA7_;
					goto LA4;
				}
				LA7_: ;
				i = res;
				{
					if (!(((NU8)(path.p->data[i])) == ((NU8)(92)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA11_;
					sepPos = i;
					goto LA2;
				}
				LA11_: ;
				res -= ((NI) 1);
			} LA4: ;
		}
	} LA2: ;
	{
		{
			NI colontmp__2;
			NimStringV2 T24_;
			NimStringV2 T25_;
			if (!(((NI) 0) <= sepPos)) goto LA16_;
			colontmp__2 = (NI)0;
			{
				{
					NIM_BOOL T21_;
					T21_ = (NIM_BOOL)0;
					T21_ = NIM_LIKELY((((NI) 1) <= sepPos));
					if (!T21_) goto LA22_;
					colontmp__2 = (NI)(sepPos - ((NI) 1));
					goto LA18;
				}
				LA22_: ;
				colontmp__2 = ((NI) 0);
			} LA18: ;
			T24_.len = 0; T24_.p = NIM_NIL;
			T24_ = substr__system_7605(path, ((NI) 0), colontmp__2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			result.Field0 = T24_;
			T25_.len = 0; T25_.p = NIM_NIL;
			T25_ = substr__system_7617(path, (NI)(sepPos + ((NI) 1)));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			result.Field1 = T25_;
			goto LA13;
		}
		LA16_: ;
		result.Field0 = TM__yu6cxgKBBXbNsTkT9cyMd4g_6;
		result.Field1 = path;
		path.len = 0; path.p = NIM_NIL;
	} LA13: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&path));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_374)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest) {
	eqdestroy___system_3226((&(*dest).Field0));
	eqdestroy___system_3226((&(*dest).Field1));
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosextractFilename)(NimStringV2 path) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		NimStringV2 colontmp__2;
		tyTuple__UV3llMMYFckfui8YMBuUZA colontmp__3;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (path.len == ((NI) 0));
			{
				if (!colontmp_) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = (((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(92)) || ((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(47)));
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			result = TM__yu6cxgKBBXbNsTkT9cyMd4g_5;
			goto LA1;
		}
		LA9_: ;
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		nimZeroMem((void*)(&colontmp__3), sizeof(tyTuple__UV3llMMYFckfui8YMBuUZA));
		colontmp__2 = path;
		path.len = 0; path.p = NIM_NIL;
		colontmp__3 = nossplitPath(colontmp__2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = colontmp__3.Field1;
		colontmp__3.Field1.len = 0; colontmp__3.Field1.p = NIM_NIL;
		eqdestroy___pureZos_374((&colontmp__3));
	} LA1: ;
	eqdestroy___system_3226((&path));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, noslastPathPart)(NimStringV2 path) {
	NimStringV2 result;
	NimStringV2 path_2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	path_2.len = 0; path_2.p = NIM_NIL;
	path_2 = normalizePathEnd__pureZos_83(path, NIM_FALSE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = nosextractFilename(path_2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, noscmpPaths)(NimStringV2 pathA, NimStringV2 pathB) {
	NI result;
	NimStringV2 a;
	NimStringV2 b;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	a.len = 0; a.p = NIM_NIL;
	b.len = 0; b.p = NIM_NIL;
	a = normalizePath__pureZpathnorm_134(pathA, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	b = normalizePath__pureZpathnorm_134(pathB, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		{
			if (!NIM_FALSE) goto LA5_;
			result = cmp__system_1540(a, b);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			goto LA2;
		}
		LA5_: ;
		result = nsuCmpIgnoreCase(a, b);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA2: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&b));
		eqdestroy___system_3226((&a));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg, nossplitFile)(NimStringV2 path) {
	tyTuple__7q7q3E6Oj24ZNVJb9aonhAg result;
	NI namePos;
	NI dotPos;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg));
	namePos = ((NI) 0);
	dotPos = ((NI) 0);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(path.len - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				NIM_BOOL colontmp__2;
				NIM_BOOL colontmp__3;
				NIM_BOOL colontmp__4;
				NIM_BOOL colontmp__5;
				{
					if (!!((((NI) 0) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp__2 = (NIM_BOOL)0;
				colontmp__3 = (NIM_BOOL)0;
				colontmp__4 = (NIM_BOOL)0;
				colontmp__5 = (NIM_BOOL)0;
				i = res;
				{
					NIM_BOOL colontmp__6;
					NIM_BOOL colontmp__8;
					colontmp__6 = (NIM_BOOL)0;
					{
						colontmp__6 = (((NU8)(path.p->data[i])) == ((NU8)(92)) || ((NU8)(path.p->data[i])) == ((NU8)(47)));
						{
							if (!colontmp__6) goto LA12_;
							goto LA9;
						}
						LA12_: ;
						colontmp__6 = (i == ((NI) 0));
					} LA9: ;
					{
						if (!colontmp__6) goto LA16_;
						{
							NI colontmp__7;
							NimStringV2 T28_;
							if (!(((NU8)(path.p->data[i])) == ((NU8)(92)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA20_;
							colontmp__7 = (NI)0;
							{
								{
									NIM_BOOL T25_;
									T25_ = (NIM_BOOL)0;
									T25_ = NIM_LIKELY((((NI) 1) <= i));
									if (!T25_) goto LA26_;
									colontmp__7 = (NI)(i - ((NI) 1));
									goto LA22;
								}
								LA26_: ;
								colontmp__7 = ((NI) 0);
							} LA22: ;
							T28_.len = 0; T28_.p = NIM_NIL;
							T28_ = substr__system_7605(path, ((NI) 0), colontmp__7);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							result.Field0 = T28_;
							namePos = (NI)(i + ((NI) 1));
						}
						LA20_: ;
						{
							NimStringV2 T36_;
							{
								NimStringV2 T34_;
								NimStringV2 T35_;
								if (!(i < dotPos)) goto LA32_;
								T34_.len = 0; T34_.p = NIM_NIL;
								T34_ = substr__system_7605(path, namePos, (NI)(dotPos - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								result.Field1 = T34_;
								T35_.len = 0; T35_.p = NIM_NIL;
								T35_ = substr__system_7617(path, dotPos);
								if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								result.Field2 = T35_;
								goto LA29;
							}
							LA32_: ;
							T36_.len = 0; T36_.p = NIM_NIL;
							T36_ = substr__system_7617(path, namePos);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							result.Field1 = T36_;
						} LA29: ;
						goto LA1;
					}
					LA16_: ;
					colontmp__8 = (NIM_BOOL)0;
					{
						{
							{
								{
									{
										colontmp__5 = ((NU8)(path.p->data[i]) == (NU8)(46));
										{
											if (!!(colontmp__5)) goto LA44_;
											goto LA41;
										}
										LA44_: ;
										colontmp__5 = (((NI) 0) < i);
									} LA41: ;
									colontmp__4 = colontmp__5;
									{
										if (!!(colontmp__4)) goto LA48_;
										goto LA40;
									}
									LA48_: ;
									colontmp__4 = (i < (NI)(path.len - ((NI) 1)));
								} LA40: ;
								colontmp__3 = colontmp__4;
								{
									if (!!(colontmp__3)) goto LA52_;
									goto LA39;
								}
								LA52_: ;
								colontmp__3 = !((((NU8)(path.p->data[(NI)(i - ((NI) 1))])) == ((NU8)(92)) || ((NU8)(path.p->data[(NI)(i - ((NI) 1))])) == ((NU8)(47))));
							} LA39: ;
							colontmp__2 = colontmp__3;
							{
								if (!!(colontmp__2)) goto LA56_;
								goto LA38;
							}
							LA56_: ;
							colontmp__2 = !(((NU8)(path.p->data[(NI)(i + ((NI) 1))]) == (NU8)(46)));
						} LA38: ;
						colontmp__8 = colontmp__2;
						{
							if (!!(colontmp__8)) goto LA60_;
							goto LA37;
						}
						LA60_: ;
						colontmp__8 = (dotPos == ((NI) 0));
					} LA37: ;
					{
						if (!colontmp__8) goto LA64_;
						dotPos = i;
						goto LA8;
					}
					LA64_: ;
				} LA8: ;
				res -= ((NI) 1);
			} LA3: ;
		}
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_1455)(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg* dest) {
	eqdestroy___system_3226((&(*dest).Field0));
	eqdestroy___system_3226((&(*dest).Field1));
	eqdestroy___system_3226((&(*dest).Field2));
}
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size) {
	int result;
	result = (int)0;
	result = memcmp(a, b, ((size_t) (size)));
	return result;
}
static N_INLINE(NIM_BOOL, equalMem__system_1716)(void* a, void* b, NI size) {
	NIM_BOOL result;
	int T1_;
	result = (NIM_BOOL)0;
	T1_ = (int)0;
	T1_ = nimCmpMem(a, b, size);
	result = (T1_ == ((NI32) 0));
	return result;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b) {
	NIM_BOOL result;
	NI alen;
	NI blen;
{	result = (NIM_BOOL)0;
	alen = a.len;
	blen = b.len;
	{
		if (!(alen == blen)) goto LA3_;
		{
			if (!(alen == ((NI) 0))) goto LA7_;
			result = NIM_TRUE;
			goto BeforeRet_;
		}
		LA7_: ;
		result = equalMem__system_1716(((void*) ((&a.p->data[((NI) 0)]))), ((void*) ((&b.p->data[((NI) 0)]))), ((NI) (alen)));
		goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, nosnormalizePath)(NimStringV2* path) {
	NimStringV2* colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = path;
	colontmp__2 = normalizePath__pureZpathnorm_134((*path), 92);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	eqsink___system_3232(colontmp_, colontmp__2);
	}BeforeRet_: ;
}
static N_INLINE(void, normalizePathAux__pureZos_43)(NimStringV2* path) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nosnormalizePath(path);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosisAbsolute)(NimStringV2 path) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NIM_BOOL colontmp__3;
	NI len;
{	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	colontmp__3 = (NIM_BOOL)0;
	{
		if (!(path.len == ((NI) 0))) goto LA3_;
		result = NIM_FALSE;
		goto BeforeRet_;
	}
	LA3_: ;
	len = path.len;
	{
		colontmp_ = (((NU8)(path.p->data[((NI) 0)])) == ((NU8)(47)) || ((NU8)(path.p->data[((NI) 0)])) == ((NU8)(92)));
		{
			if (!colontmp_) goto LA8_;
			goto LA5;
		}
		LA8_: ;
		{
			{
				colontmp__3 = (((NI) 1) < len);
				{
					if (!!(colontmp__3)) goto LA14_;
					goto LA11;
				}
				LA14_: ;
				colontmp__3 = (((NU8)(path.p->data[((NI) 0)])) >= ((NU8)(97)) && ((NU8)(path.p->data[((NI) 0)])) <= ((NU8)(122)) || ((NU8)(path.p->data[((NI) 0)])) >= ((NU8)(65)) && ((NU8)(path.p->data[((NI) 0)])) <= ((NU8)(90)));
			} LA11: ;
			colontmp__2 = colontmp__3;
			{
				if (!!(colontmp__2)) goto LA18_;
				goto LA10;
			}
			LA18_: ;
			colontmp__2 = ((NU8)(path.p->data[((NI) 1)]) == (NU8)(58));
		} LA10: ;
		colontmp_ = colontmp__2;
	} LA5: ;
	result = colontmp_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1708(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePath__pureZos_1000)(NimStringV2 path, NimStringV2 root) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		{
			NIM_BOOL T4_;
			T4_ = (NIM_BOOL)0;
			T4_ = nosisAbsolute(path);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T4_) goto LA5_;
			eqcopy___system_3229((&result), path);
			goto LA1;
		}
		LA5_: ;
		{
			NIM_BOOL T9_;
			tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T12_;
			NimStringV2 T13_;
			T9_ = (NIM_BOOL)0;
			T9_ = nosisAbsolute(root);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!!(T9_)) goto LA10_;
			T12_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
			T12_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
			(*T12_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
			(*T12_).Sup.Sup.name = "ValueError";
			T13_.len = 0; T13_.p = NIM_NIL;
			T13_ = rawNewString(root.len + 36);
appendString((&T13_), TM__yu6cxgKBBXbNsTkT9cyMd4g_12);
appendString((&T13_), root);
			(*T12_).Sup.Sup.message = T13_;
			(*T12_).Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T12_, "ValueError", "absolutePath", "os.nim", 1448);
			goto BeforeRet_;
		}
		LA10_: ;
		result = nosjoinPath(root, path);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI16*, toWideCString__systemZwidestrs_151)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A x) {
	NI16* result;
	result = (NI16*)0;
	{
		{
			NI T4_;
			T4_ = x.data.len;
			if (!(((NI) 0) < T4_)) goto LA5_;
			result = ((NI16*) ((&x.data.p->data[((NI) 0)])));
			goto LA1;
		}
		LA5_: ;
		result = ((NI16*) NIM_NIL);
	} LA1: ;
	return result;
}
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU32)(((NU) (x))) - (NU32)(((NU) (y))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;
		NI T5_;
		if (!!((p == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_704(((NI) (ptrdiff_t) (p)), ((NI) 8));
		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
		{
			{
				if (!((NI)((*cell).rc & ((NI) -16)) == ((NI) 0))) goto LA9_;
				result = NIM_TRUE;
				goto LA6;
			}
			LA9_: ;
			(*cell).rc -= ((NI) 16);
		} LA6: ;
		rememberCycle__system_3161(result, cell, (*((TNimTypeV2**) (p))));
	}
	LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_463)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA** dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn((*dest));
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest));
	}
	LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_476)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn((*dest).Sup.Sup.parent);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest).Sup.Sup.parent);
	}
	LA4_: ;
	eqdestroy___system_3226((&(*dest).Sup.Sup.message));
	eqdestroy___system_3264((&(*dest).Sup.Sup.trace));
	{
		NIM_BOOL T8_;
		T8_ = (NIM_BOOL)0;
		T8_ = nimDecRefIsLastCyclicDyn((*dest).Sup.Sup.up);
		if (!T8_) goto LA9_;
		nimDestroyAndDispose((*dest).Sup.Sup.up);
	}
	LA9_: ;
}
static N_INLINE(void, add__system_2720)(tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ* s, void** c, TNimTypeV2* t) {
	void** colontmp_;
	TNimTypeV2* colontmp__2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		tyTuple__N4J9cV4JZGem3ljqqj5rT0Q* d;
		void* T5_;
		if (!((*s).cap <= (*s).len)) goto LA3_;
		(*s).cap = (NI)((NI)((*s).cap * ((NI) 3)) / ((NI) 2));
		T5_ = (void*)0;
		T5_ = allocImpl__system_1724(((NI) ((NI)((*s).cap * ((NI) 8)))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		d = ((tyTuple__N4J9cV4JZGem3ljqqj5rT0Q*) (T5_));
		copyMem__system_1708(((void*) (d)), ((void*) ((*s).d)), ((NI) ((NI)((*s).len * ((NI) 8)))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		dealloc(((void*) ((*s).d)));
		(*s).d = d;
	}
	LA3_: ;
	colontmp_ = c;
	colontmp__2 = t;
	(*s).d[(*s).len].Field0 = colontmp_;
	(*s).d[(*s).len].Field1 = colontmp__2;
	(*s).len += ((NI) 1);
	}BeforeRet_: ;
}
static N_INLINE(void, nimTraceRefDyn)(void* q, void* env) {
	void** p;
	p = ((void**) (q));
	{
		tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ* j;
		if (!!(((*p) == NIM_NIL))) goto LA3_;
		j = ((tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ*) (env));
		add__system_2720((&(*j).traceStack), p, (*((TNimTypeV2**) ((*p)))));
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqtrace___pureZos_485)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* dest, void* env) {
	nimTraceRefDyn(&(*dest).Sup.Sup.parent, env);
	nimTraceRefDyn(&(*dest).Sup.Sup.up, env);
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, osErrorMsg__pureZos_435)(NI32 errorCode) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_13;
	{
		NI16* msgbuf;
		if (!!((errorCode == ((NI32) 0)))) goto LA3_;
		msgbuf = (NI16*)0;
		{
			NI32 T7_;
			NimStringV2 colontmp_;
			T7_ = (NI32)0;
			T7_ = Dl_1241514157_(((NI32) 4864), NIM_NIL, errorCode, ((NI32) 0), ((void*) (&msgbuf)), ((NI32) 0), NIM_NIL);
			if (!!((T7_ == ((NI32) 0)))) goto LA8_;
			colontmp_ = dollar___systemZwidestrs_463(msgbuf);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			eqsink___system_3232((&result), colontmp_);
			{
				if (!!((msgbuf == ((NI16*) NIM_NIL)))) goto LA12_;
				Dl_1241514165_(((void*) (msgbuf)));
			}
			LA12_: ;
		}
		LA8_: ;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NOINLINE(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*, newOSError__pureZos_455)(NI32 errorCode, NimStringV2 additionalInfo) {
	tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* result;
	tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* e;
	NimStringV2* colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
	e = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
	eqdestroy___pureZos_463(&e);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	e = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*) nimNewObj(sizeof(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA), NIM_ALIGNOF(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA));
	(*e).Sup.Sup.Sup.m_type = (&NTIv2__BeJgrOdDsczOwEWOZbRfKA_);
	(*e).errorCode = errorCode;
	colontmp_ = (&(*e).Sup.Sup.message);
	colontmp__2 = osErrorMsg__pureZos_435(errorCode);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	eqsink___system_3232(colontmp_, colontmp__2);
	{
		NIM_BOOL colontmp__3;
		if (!(((NI) 0) < additionalInfo.len)) goto LA4_;
		colontmp__3 = (NIM_BOOL)0;
		{
			NIM_CHAR* T11_;
			colontmp__3 = (((NI) 0) < (*e).Sup.Sup.message.len);
			{
				if (!!(colontmp__3)) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			T11_ = (NIM_CHAR*)0;
			T11_ = X5BX5D___system_7234((&(*e).Sup.Sup.message), ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			colontmp__3 = !(((NU8)((*T11_)) == (NU8)(10)));
		} LA6: ;
		{
			if (!colontmp__3) goto LA14_;
			nimAddCharV1((&(*e).Sup.Sup.message), 10);
		}
		LA14_: ;
		prepareAdd((&(*e).Sup.Sup.message), 17);
appendString((&(*e).Sup.Sup.message), TM__yu6cxgKBBXbNsTkT9cyMd4g_15);
		prepareAdd((&(*e).Sup.Sup.message), additionalInfo.len + 0);
appendString((&(*e).Sup.Sup.message), additionalInfo);
	}
	LA4_: ;
	{
		NimStringV2* colontmp__4;
		if (!((*e).Sup.Sup.message.len == 0)) goto LA18_;
		colontmp__4 = (&(*e).Sup.Sup.message);
		eqsink___system_3232(colontmp__4, TM__yu6cxgKBBXbNsTkT9cyMd4g_17);
	}
	LA18_: ;
	result = e;
	e = 0;
	eqdestroy___pureZos_463(&e);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___pureZos_463(&e);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__pureZos_500)(NI32 errorCode, NimStringV2 additionalInfo) {
	tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
	T1_ = newOSError__pureZos_455(errorCode, additionalInfo);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	raiseExceptionEx((Exception*)T1_, "OSError", "raiseOSError", "oserr.nim", 95);
	goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__pureZos_503)(void) {
	NI32 result;
	NI32 T1_;
	result = (NI32)0;
	T1_ = (NI32)0;
	T1_ = Dl_1241514154_();
	result = ((NI32) (T1_));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetCurrentDir)(void) {
	NimStringV2 result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A res;
	NI32 bufsize;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	nimZeroMem((void*)(&res), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	bufsize = ((NI32) 260);
	res = newWideCString__systemZwidestrs_364("", ((NI) (bufsize)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		while (1) {
			NI32 L;
			NI16* T4_;
			T4_ = (NI16*)0;
			T4_ = toWideCString__systemZwidestrs_151(res);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			L = Dl_1241514167_(bufsize, T4_);
			{
				{
					NI32 T10_;
					if (!(L == ((NI32) 0))) goto LA8_;
					T10_ = (NI32)0;
					T10_ = osLastError__pureZos_503();
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					raiseOSError__pureZos_500(T10_, TM__yu6cxgKBBXbNsTkT9cyMd4g_18);
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					goto LA5;
				}
				LA8_: ;
				{
					tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
					if (!(bufsize < L)) goto LA13_;
					colontmp_ = newWideCString__systemZwidestrs_364("", ((NI) (L)));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					eqsink___systemZwidestrs_389((&res), colontmp_);
					bufsize = L;
					goto LA5;
				}
				LA13_: ;
				result = dollar___systemZwidestrs_466(res, ((NI) (L)), ((NI) 65533));
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				goto LA2;
			} LA5: ;
		}
	} LA2: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&res));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePathInternal__pureZos_61)(NimStringV2 path) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2 = nosgetCurrentDir();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	result = absolutePath__pureZos_1000(path, colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isAbsFromCurrentDrive__pureZos_168)(NimStringV2 path) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NIM_BOOL colontmp__3;
	NIM_BOOL colontmp__4;
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	colontmp__3 = (NIM_BOOL)0;
	colontmp__4 = (NIM_BOOL)0;
	{
		colontmp_ = (((NI) 0) < path.len);
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		{
			colontmp__2 = ((NU8)(path.p->data[((NI) 0)]) == (NU8)(47));
			{
				if (!colontmp__2) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			{
				colontmp__3 = ((NU8)(path.p->data[((NI) 0)]) == (NU8)(92));
				{
					if (!!(colontmp__3)) goto LA14_;
					goto LA11;
				}
				LA14_: ;
				{
					colontmp__4 = (path.len == ((NI) 1));
					{
						if (!colontmp__4) goto LA19_;
						goto LA16;
					}
					LA19_: ;
					colontmp__4 = !((((NU8)(path.p->data[((NI) 1)])) == ((NU8)(92)) || ((NU8)(path.p->data[((NI) 1)])) == ((NU8)(47)) || ((NU8)(path.p->data[((NI) 1)])) == ((NU8)(58))));
				} LA16: ;
				colontmp__3 = colontmp__4;
			} LA11: ;
			colontmp__2 = colontmp__3;
		} LA6: ;
		colontmp_ = colontmp__2;
	} LA1: ;
	result = colontmp_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isUNCPrefix__pureZos_175)(NimStringV2 path) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = ((NU8)(path.p->data[((NI) 0)]) == (NU8)(92));
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = ((NU8)(path.p->data[((NI) 1)]) == (NU8)(92));
	} LA1: ;
	result = colontmp_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, sameRoot__pureZos_178)(NimStringV2 path1, NimStringV2 path2) {
	NIM_BOOL result;
	NI len1;
	NI len2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	len1 = path1.len;
	len2 = path2.len;
	{
		NIM_BOOL colontmp_;
		NIM_BOOL colontmp__2;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = isAbsFromCurrentDrive__pureZos_168(path1);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				if (!!(colontmp_)) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = isAbsFromCurrentDrive__pureZos_168(path2);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			result = NIM_TRUE;
			goto BeforeRet_;
		}
		LA9_: ;
		colontmp__2 = (NIM_BOOL)0;
		{
			colontmp__2 = (len1 == ((NI) 1));
			{
				if (!colontmp__2) goto LA14_;
				goto LA11;
			}
			LA14_: ;
			colontmp__2 = (len2 == ((NI) 1));
		} LA11: ;
		{
			if (!colontmp__2) goto LA18_;
			result = NIM_FALSE;
			goto BeforeRet_;
		}
		LA18_: ;
		{
			NIM_BOOL colontmp__3;
			NIM_BOOL colontmp__4;
			NIM_BOOL colontmp__5;
			tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg p1;
			tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg p2;
			tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ pp1;
			tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ pp2;
			colontmp__3 = (NIM_BOOL)0;
			{
				colontmp__3 = ((NU8)(path1.p->data[((NI) 1)]) == (NU8)(58));
				{
					if (!!(colontmp__3)) goto LA24_;
					goto LA21;
				}
				LA24_: ;
				colontmp__3 = ((NU8)(path2.p->data[((NI) 1)]) == (NU8)(58));
			} LA21: ;
			{
				NIM_CHAR T30_;
				NIM_CHAR T31_;
				if (!colontmp__3) goto LA28_;
				T30_ = (NIM_CHAR)0;
				T30_ = nsuToLowerAsciiChar(path1.p->data[((NI) 0)]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				T31_ = (NIM_CHAR)0;
				T31_ = nsuToLowerAsciiChar(path2.p->data[((NI) 0)]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				result = ((NU8)(T30_) == (NU8)(T31_));
				goto BeforeRet_;
			}
			LA28_: ;
			colontmp__4 = (NIM_BOOL)0;
			colontmp__5 = (NIM_BOOL)0;
			nimZeroMem((void*)(&p1), sizeof(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg));
			nimZeroMem((void*)(&p2), sizeof(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg));
			pp1 = next__pureZpathnorm_10((&p1), path1);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			pp2 = next__pureZpathnorm_10((&p2), path2);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				NIM_BOOL colontmp__6;
				colontmp__6 = (NIM_BOOL)0;
				{
					{
						{
							colontmp__5 = ((NI)(pp1.Field1 - pp1.Field0) == ((NI) 1));
							{
								if (!!(colontmp__5)) goto LA38_;
								goto LA35;
							}
							LA38_: ;
							colontmp__5 = ((NI)(pp2.Field1 - pp2.Field0) == ((NI) 1));
						} LA35: ;
						colontmp__4 = colontmp__5;
						{
							if (!!(colontmp__4)) goto LA42_;
							goto LA34;
						}
						LA42_: ;
						colontmp__4 = isUNCPrefix__pureZos_175(path1);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					} LA34: ;
					colontmp__6 = colontmp__4;
					{
						if (!!(colontmp__6)) goto LA46_;
						goto LA33;
					}
					LA46_: ;
					colontmp__6 = isUNCPrefix__pureZos_175(path2);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				} LA33: ;
				{
					NI h;
					if (!colontmp__6) goto LA50_;
					h = ((NI) 0);
					{
						while (1) {
							NIM_BOOL colontmp__7;
							NIM_BOOL colontmp__8;
							NI diff;
							colontmp__7 = (NIM_BOOL)0;
							colontmp__8 = (NIM_BOOL)0;
							{
								{
									colontmp__7 = hasNext__pureZpathnorm_6(p1, path1);
									if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
									{
										if (!!(colontmp__7)) goto LA58_;
										goto LA55;
									}
									LA58_: ;
									colontmp__7 = hasNext__pureZpathnorm_6(p2, path2);
									if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								} LA55: ;
								colontmp__8 = colontmp__7;
								{
									if (!!(colontmp__8)) goto LA62_;
									goto LA54;
								}
								LA62_: ;
								colontmp__8 = (h < ((NI) 2));
							} LA54: ;
							{
								if (!!(colontmp__8)) goto LA66_;
								goto LA53;
							}
							LA66_: ;
							pp1 = next__pureZpathnorm_10((&p1), path1);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							pp2 = next__pureZpathnorm_10((&p2), path2);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							diff = (NI)(pp1.Field1 - pp1.Field0);
							{
								if (!!((diff == (NI)(pp2.Field1 - pp2.Field0)))) goto LA70_;
								result = NIM_FALSE;
								goto BeforeRet_;
							}
							LA70_: ;
							{
								NI i;
								NI res;
								i = (NI)0;
								res = ((NI) 0);
								{
									while (1) {
										{
											if (!!((res <= diff))) goto LA77_;
											goto LA74;
										}
										LA77_: ;
										i = res;
										{
											NIM_CHAR T81_;
											NIM_CHAR T82_;
											T81_ = (NIM_CHAR)0;
											T81_ = nsuToLowerAsciiChar(path1.p->data[(NI)(i + pp1.Field0)]);
											if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
											T82_ = (NIM_CHAR)0;
											T82_ = nsuToLowerAsciiChar(path2.p->data[(NI)(i + pp2.Field0)]);
											if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
											if (!!(((NU8)(T81_) == (NU8)(T82_)))) goto LA83_;
											result = NIM_FALSE;
											goto BeforeRet_;
										}
										LA83_: ;
										res += ((NI) 1);
									} LA74: ;
								}
							}
							h += ((NI) 1);
						} LA53: ;
					}
					result = (h == ((NI) 2));
					goto BeforeRet_;
				}
				LA50_: ;
				result = NIM_FALSE;
				goto BeforeRet_;
			}
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosrelativePath)(NimStringV2 path, NimStringV2 base, NIM_CHAR sep) {
	NimStringV2 result;
	NimStringV2 base_2;
	NimStringV2 path_2;
	NIM_BOOL a1;
	NIM_BOOL a2;
	NIM_BOOL colontmp__5;
	tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg f;
	tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg b;
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ ff;
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ bb;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	base_2.len = 0; base_2.p = NIM_NIL;
	path_2.len = 0; path_2.p = NIM_NIL;
	{
		if (!(path.len == ((NI) 0))) goto LA4_;
		result = TM__yu6cxgKBBXbNsTkT9cyMd4g_7;
		eqdestroy___system_3226((&path_2));
		eqdestroy___system_3226((&base_2));
		goto BeforeRet_;
	}
	LA4_: ;
	{
		{
			if (!eqStrings(base, TM__yu6cxgKBBXbNsTkT9cyMd4g_9)) goto LA9_;
			base_2 = TM__yu6cxgKBBXbNsTkT9cyMd4g_10;
			goto LA6;
		}
		LA9_: ;
		eqcopy___system_3229((&base_2), base);
	} LA6: ;
	eqcopy___system_3229((&path_2), path);
	normalizePathAux__pureZos_43((&path_2));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	normalizePathAux__pureZos_43((&base_2));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a1 = nosisAbsolute(path_2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a2 = nosisAbsolute(base_2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NIM_BOOL colontmp_;
		NIM_BOOL colontmp__3;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = a1;
			{
				if (!!(colontmp_)) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			colontmp_ = !(a2);
		} LA12: ;
		{
			NimStringV2 colontmp__2;
			if (!colontmp_) goto LA19_;
			colontmp__2 = absolutePathInternal__pureZos_61(base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___system_3232((&base_2), colontmp__2);
			goto LA11;
		}
		LA19_: ;
		colontmp__3 = (NIM_BOOL)0;
		{
			colontmp__3 = a2;
			{
				if (!!(colontmp__3)) goto LA24_;
				goto LA21;
			}
			LA24_: ;
			colontmp__3 = !(a1);
		} LA21: ;
		{
			NimStringV2 colontmp__4;
			if (!colontmp__3) goto LA28_;
			colontmp__4 = absolutePathInternal__pureZos_61(path_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___system_3232((&path_2), colontmp__4);
			goto LA11;
		}
		LA28_: ;
	} LA11: ;
	colontmp__5 = (NIM_BOOL)0;
	{
		colontmp__5 = nosisAbsolute(path_2);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		{
			if (!!(colontmp__5)) goto LA33_;
			goto LA30;
		}
		LA33_: ;
		colontmp__5 = nosisAbsolute(base_2);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA30: ;
	{
		if (!colontmp__5) goto LA37_;
		{
			NIM_BOOL T41_;
			T41_ = (NIM_BOOL)0;
			T41_ = sameRoot__pureZos_178(path_2, base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			if (!!(T41_)) goto LA42_;
			eqcopy___system_3229((&result), path_2);
			eqdestroy___system_3226((&path_2));
			eqdestroy___system_3226((&base_2));
			goto BeforeRet_;
		}
		LA42_: ;
	}
	LA37_: ;
	nimZeroMem((void*)(&f), sizeof(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg));
	nimZeroMem((void*)(&b), sizeof(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg));
	ff = TM__yu6cxgKBBXbNsTkT9cyMd4g_19;
	bb = TM__yu6cxgKBBXbNsTkT9cyMd4g_19;
	result = rawNewString(((NI) (path_2.len)));
	{
		while (1) {
			NIM_BOOL colontmp__6;
			NI diff;
			NIM_BOOL same;
			NI colontmp__7;
			NI colontmp__8;
			NI colontmp__9;
			NI colontmp__10;
			colontmp__6 = (NIM_BOOL)0;
			{
				colontmp__6 = hasNext__pureZpathnorm_6(f, path_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				{
					if (!!(colontmp__6)) goto LA49_;
					goto LA46;
				}
				LA49_: ;
				colontmp__6 = hasNext__pureZpathnorm_6(b, base_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			} LA46: ;
			{
				if (!!(colontmp__6)) goto LA53_;
				goto LA45;
			}
			LA53_: ;
			ff = next__pureZpathnorm_10((&f), path_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			bb = next__pureZpathnorm_10((&b), base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			diff = (NI)(ff.Field1 - ff.Field0);
			{
				if (!!((diff == (NI)(bb.Field1 - bb.Field0)))) goto LA57_;
				goto LA44;
			}
			LA57_: ;
			same = NIM_TRUE;
			{
				NI i;
				NI res;
				i = (NI)0;
				res = ((NI) 0);
				{
					while (1) {
						{
							if (!!((res <= diff))) goto LA64_;
							goto LA61;
						}
						LA64_: ;
						i = res;
						{
							NIM_CHAR T68_;
							NIM_CHAR T69_;
							T68_ = (NIM_CHAR)0;
							T68_ = nsuToLowerAsciiChar(path_2.p->data[(NI)(i + ff.Field0)]);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							T69_ = (NIM_CHAR)0;
							T69_ = nsuToLowerAsciiChar(base_2.p->data[(NI)(i + bb.Field0)]);
							if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
							if (!!(((NU8)(T68_) == (NU8)(T69_)))) goto LA70_;
							same = NIM_FALSE;
							goto LA59;
						}
						LA70_: ;
						res += ((NI) 1);
					} LA61: ;
				}
			} LA59: ;
			{
				if (!!(same)) goto LA74_;
				goto LA44;
			}
			LA74_: ;
			colontmp__7 = ((NI) 0);
			colontmp__8 = ((NI) -1);
			ff.Field0 = colontmp__7;
			ff.Field1 = colontmp__8;
			colontmp__9 = ((NI) 0);
			colontmp__10 = ((NI) -1);
			bb.Field0 = colontmp__9;
			bb.Field1 = colontmp__10;
		} LA45: ;
	} LA44: ;
	{
		while (1) {
			{
				NIM_BOOL colontmp__11;
				if (!(bb.Field0 <= bb.Field1)) goto LA80_;
				colontmp__11 = (NIM_BOOL)0;
				{
					NIM_CHAR* T87_;
					colontmp__11 = (((NI) 0) < result.len);
					{
						if (!!(colontmp__11)) goto LA85_;
						goto LA82;
					}
					LA85_: ;
					T87_ = (NIM_CHAR*)0;
					T87_ = X5BX5D___system_7234((&result), ((NI) 1));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					colontmp__11 = !(((NU8)((*T87_)) == (NU8)(sep)));
				} LA82: ;
				{
					if (!colontmp__11) goto LA90_;
					nimAddCharV1((&result), sep);
				}
				LA90_: ;
				prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_21);
			}
			LA80_: ;
			{
				NIM_BOOL T94_;
				T94_ = (NIM_BOOL)0;
				T94_ = hasNext__pureZpathnorm_6(b, base_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				if (!!(T94_)) goto LA95_;
				goto LA76;
			}
			LA95_: ;
			bb = next__pureZpathnorm_10((&b), base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
	} LA76: ;
	{
		while (1) {
			{
				NIM_BOOL colontmp__12;
				if (!(ff.Field0 <= ff.Field1)) goto LA101_;
				colontmp__12 = (NIM_BOOL)0;
				{
					NIM_CHAR* T108_;
					colontmp__12 = (((NI) 0) < result.len);
					{
						if (!!(colontmp__12)) goto LA106_;
						goto LA103;
					}
					LA106_: ;
					T108_ = (NIM_CHAR*)0;
					T108_ = X5BX5D___system_7234((&result), ((NI) 1));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					colontmp__12 = !(((NU8)((*T108_)) == (NU8)(sep)));
				} LA103: ;
				{
					if (!colontmp__12) goto LA111_;
					nimAddCharV1((&result), sep);
				}
				LA111_: ;
				{
					NI i_2;
					NI colontmp__13;
					NI res_2;
					i_2 = (NI)0;
					colontmp__13 = (NI)0;
					colontmp__13 = (NI)(ff.Field1 - ff.Field0);
					res_2 = ((NI) 0);
					{
						while (1) {
							{
								if (!!((res_2 <= colontmp__13))) goto LA118_;
								goto LA115;
							}
							LA118_: ;
							i_2 = res_2;
							nimAddCharV1((&result), path_2.p->data[(NI)(i_2 + ff.Field0)]);
							res_2 += ((NI) 1);
						} LA115: ;
					}
				}
			}
			LA101_: ;
			{
				NIM_BOOL T122_;
				T122_ = (NIM_BOOL)0;
				T122_ = hasNext__pureZpathnorm_6(f, path_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				if (!!(T122_)) goto LA123_;
				goto LA97;
			}
			LA123_: ;
			ff = next__pureZpathnorm_10((&f), path_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
	} LA97: ;
	{
		if (!(result.len == ((NI) 0))) goto LA127_;
		prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_22);
	}
	LA127_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&path_2));
		eqdestroy___system_3226((&base_2));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isRelativeTo__pureZos_245)(NimStringV2 path, NimStringV2 base) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	NimStringV2 path_2;
	NimStringV2 base_2;
	NimStringV2 ret;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	path_2.len = 0; path_2.p = NIM_NIL;
	base_2.len = 0; base_2.p = NIM_NIL;
	ret.len = 0; ret.p = NIM_NIL;
	path_2 = normalizePath__pureZpathnorm_134(path, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	base_2 = normalizePath__pureZpathnorm_134(base, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	ret = nosrelativePath(path_2, base_2, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NIM_BOOL T7_;
		colontmp_ = (((NI) 0) < path_2.len);
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA2;
		}
		LA5_: ;
		T7_ = (NIM_BOOL)0;
		T7_ = nsuStartsWith(ret, TM__yu6cxgKBBXbNsTkT9cyMd4g_23);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		colontmp_ = !(T7_);
	} LA2: ;
	result = colontmp_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&ret));
		eqdestroy___system_3226((&base_2));
		eqdestroy___system_3226((&path_2));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, parentDirPos__pureZos_252)(NimStringV2 path) {
	NI result;
	NI q;
	NIM_BOOL colontmp_;
{	result = (NI)0;
	q = ((NI) 1);
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = (((NI) 1) <= path.len);
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(92)) || ((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(47)));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		q = ((NI) 2);
	}
	LA8_: ;
	{
		NI i;
		NI colontmp__2;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__2 = (NI)(path.len - q);
		res = colontmp__2;
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA15_;
					goto LA12;
				}
				LA15_: ;
				i = res;
				{
					if (!(((NU8)(path.p->data[i])) == ((NU8)(92)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA19_;
					result = i;
					goto BeforeRet_;
				}
				LA19_: ;
				res -= ((NI) 1);
			} LA12: ;
		}
	}
	result = ((NI) -1);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosparentDir)(NimStringV2 path) {
	NimStringV2 result;
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NI sepPos;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	result = normalizePath__pureZpathnorm_134(path, 92);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	sepPos = parentDirPos__pureZos_252(result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NIM_BOOL colontmp__4;
		{
			NimStringV2 colontmp__3;
			if (!(((NI) 0) <= sepPos)) goto LA4_;
			colontmp__3 = substr__system_7605(result, ((NI) 0), sepPos);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			eqsink___system_3232((&result), colontmp__3);
			normalizePathEnd__pureZos_63((&result), NIM_FALSE);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA4_: ;
		colontmp__4 = (NIM_BOOL)0;
		{
			NIM_CHAR* T21_;
			{
				{
					colontmp__2 = eqStrings(result, TM__yu6cxgKBBXbNsTkT9cyMd4g_24);
					{
						if (!colontmp__2) goto LA11_;
						goto LA8;
					}
					LA11_: ;
					colontmp__2 = eqStrings(result, TM__yu6cxgKBBXbNsTkT9cyMd4g_25);
				} LA8: ;
				colontmp_ = colontmp__2;
				{
					if (!colontmp_) goto LA15_;
					goto LA7;
				}
				LA15_: ;
				colontmp_ = (result.len == ((NI) 0));
			} LA7: ;
			colontmp__4 = colontmp_;
			{
				if (!colontmp__4) goto LA19_;
				goto LA6;
			}
			LA19_: ;
			T21_ = (NIM_CHAR*)0;
			T21_ = X5BX5D___system_7234((&result), ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			colontmp__4 = (((NU8)((*T21_))) == ((NU8)(92)) || ((NU8)((*T21_))) == ((NU8)(47)));
		} LA6: ;
		{
			if (!colontmp__4) goto LA24_;
			eqsink___system_3232((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_26);
			goto LA1;
		}
		LA24_: ;
		eqsink___system_3232((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_27);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, findFirstFile__pureZos_900)(NimStringV2 a, tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* b) {
	NI result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__2;
	NI16* T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmp__2 = newWideCString__systemZwidestrs_396(a);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	result = Dl_1241514234_(T2_, b);
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, searchExtPos__pureZos_328)(NimStringV2 path) {
	NI result;
	result = (NI)0;
	result = ((NI) -1);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(path.len - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((((NI) 1) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				{
					{
						if (!((NU8)(path.p->data[i]) == (NU8)(46))) goto LA11_;
						result = i;
						goto LA1;
					}
					LA11_: ;
					{
						if (!(((NU8)(path.p->data[i])) == ((NU8)(92)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA15_;
						goto LA1;
					}
					LA15_: ;
				}
				res -= ((NI) 1);
			} LA3: ;
		}
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosdirExists)(NimStringV2 dir) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
	NI32 a;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__2;
	NI16* T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmp__2 = newWideCString__systemZwidestrs_396(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a = Dl_1241514247_(T2_);
	{
		if (!!((a == ((NI32) -1)))) goto LA5_;
		result = !(((NI32)(a & ((NI32) 16)) == ((NI32) 0)));
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, rawCreateDir__pureZos_1797)(NimStringV2 dir) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
	NI32 res;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__2;
	NI16* T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmp__2 = newWideCString__systemZwidestrs_396(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	res = Dl_1241514172_(T2_, NIM_NIL);
	{
		NI32 T13_;
		{
			if (!!((res == ((NI32) 0)))) goto LA6_;
			result = NIM_TRUE;
			goto LA3;
		}
		LA6_: ;
		{
			NI32 T10_;
			T10_ = (NI32)0;
			T10_ = Dl_1241514154_();
			if (!(T10_ == ((NI32) 183))) goto LA11_;
			result = NIM_FALSE;
			goto LA3;
		}
		LA11_: ;
		T13_ = (NI32)0;
		T13_ = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		raiseOSError__pureZos_500(T13_, dir);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA3: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosexistsOrCreateDir)(NimStringV2 dir) {
	NIM_BOOL result;
	NIM_BOOL T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NIM_BOOL)0;
	T1_ = rawCreateDir__pureZos_1797(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = !(T1_);
	{
		if (!result) goto LA4_;
		{
			NIM_BOOL T8_;
			tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw* T11_;
			NimStringV2 T12_;
			T8_ = (NIM_BOOL)0;
			T8_ = nosdirExists(dir);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!!(T8_)) goto LA9_;
			T11_ = (tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw*)0;
			T11_ = (tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw*) nimNewObj(sizeof(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw), NIM_ALIGNOF(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw));
			(*T11_).Sup.Sup.Sup.m_type = (&NTIv2__iLZrPn9anoh9ad1MmO0RczFw_);
			(*T11_).Sup.Sup.name = "IOError";
			T12_.len = 0; T12_.p = NIM_NIL;
			T12_ = rawNewString(dir.len + 19);
appendString((&T12_), TM__yu6cxgKBBXbNsTkT9cyMd4g_29);
appendString((&T12_), dir);
appendString((&T12_), TM__yu6cxgKBBXbNsTkT9cyMd4g_31);
			(*T11_).Sup.Sup.message = T12_;
			(*T11_).Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T11_, "IOError", "existsOrCreateDir", "os.nim", 2519);
			goto BeforeRet_;
		}
		LA9_: ;
	}
	LA4_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, noscreateDir)(NimStringV2 dir) {
	NIM_BOOL colontmp_;
	NIM_BOOL omitNext;
NIM_BOOL oldNimErrFin17_;
	NIM_BOOL colontmp__5;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	omitNext = NIM_FALSE;
	omitNext = nosisAbsolute(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI i;
		NI colontmp__2;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__2 = (NI)(dir.len - ((NI) 1));
		res = ((NI) 1);
		{
			while (1) {
				{
					if (!!((res <= colontmp__2))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				{
					if (!(((NU8)(dir.p->data[i])) == ((NU8)(92)) || ((NU8)(dir.p->data[i])) == ((NU8)(47)))) goto LA10_;
					{
						NimStringV2 colontmp__3;
						NimStringV2 colontmp__4;
						NIM_BOOL T18_;
						{
							if (!omitNext) goto LA15_;
							omitNext = NIM_FALSE;
							goto LA12;
						}
						LA15_: ;
						colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
						colontmp__4 = substr__system_7605(dir, ((NI) 0), (NI)(i - ((NI) 1)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA17_;
						colontmp__3 = colontmp__4;
						T18_ = (NIM_BOOL)0;
						T18_ = nosexistsOrCreateDir(colontmp__3);
						if (NIM_UNLIKELY(*nimErr_)) goto LA17_;
						(void)(T18_);
						{
							LA17_:;
						}
						{
							oldNimErrFin17_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3226((&colontmp__3));
							*nimErr_ = oldNimErrFin17_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					} LA12: ;
				}
				LA10_: ;
				res += ((NI) 1);
			} LA3: ;
		}
	}
	colontmp__5 = (NIM_BOOL)0;
	{
		NIM_CHAR T31_;
		{
			colontmp_ = (((NI) 0) < dir.len);
			{
				if (!!(colontmp_)) goto LA25_;
				goto LA22;
			}
			LA25_: ;
			colontmp_ = !(omitNext);
		} LA22: ;
		colontmp__5 = colontmp_;
		{
			if (!!(colontmp__5)) goto LA29_;
			goto LA21;
		}
		LA29_: ;
		T31_ = (NIM_CHAR)0;
		T31_ = X5BX5D___system_7195(dir, ((NI) 1));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		colontmp__5 = !((((NU8)(T31_)) == ((NU8)(92)) || ((NU8)(T31_)) == ((NU8)(47))));
	} LA21: ;
	{
		NIM_BOOL T36_;
		if (!colontmp__5) goto LA34_;
		T36_ = (NIM_BOOL)0;
		T36_ = nosexistsOrCreateDir(dir);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(void)(T36_);
	}
	LA34_: ;
	}BeforeRet_: ;
}
static N_INLINE(void, addEscapedChar__system_7319)(NimStringV2* s, NIM_CHAR c) {
	switch (((NU8)(c))) {
	case 7:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_35);
	}
	break;
	case 8:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_37);
	}
	break;
	case 9:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_39);
	}
	break;
	case 10:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_41);
	}
	break;
	case 11:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_43);
	}
	break;
	case 12:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_45);
	}
	break;
	case 13:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_47);
	}
	break;
	case 27:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_49);
	}
	break;
	case 92:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_51);
	}
	break;
	case 39:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_53);
	}
	break;
	case 34:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_55);
	}
	break;
	case 32 ... 33:
	case 35 ... 38:
	case 40 ... 91:
	case 93 ... 126:
	{
		nimAddCharV1((&(*s)), c);
	}
	break;
	default:
	{
		NI n;
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_57);
		n = ((NU8)(c));
		nimAddCharV1((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_59.p->data[(NI)((NI32)((NI)(n & ((NI) 240))) >> (NU32)(((NI) 4)))]);
		nimAddCharV1((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_60.p->data[(NI)(n & ((NI) 15))]);
	}
	break;
	}
}
N_LIB_PRIVATE N_NIMCALL(void, addQuoted__pureZos_570)(NimStringV2* s, NimStringV2 x) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	prepareAdd((&(*s)), 1);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_33);
	{
		NIM_CHAR c;
		NI i;
		NI L;
		c = (NIM_CHAR)0;
		i = ((NI) 0);
		L = x.len;
		{
			while (1) {
				{
					if (!!((i < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				c = x.p->data[i];
				{
					{
						if (!((NU8)(c) <= (NU8)(127))) goto LA11_;
						addEscapedChar__system_7319(s, c);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						goto LA8;
					}
					LA11_: ;
					nimAddCharV1((&(*s)), c);
				} LA8: ;
				i += ((NI) 1);
			} LA3: ;
		}
	}
	prepareAdd((&(*s)), 1);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_61);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, nosparseCmdLine)(NimStringV2 c) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
	NI i;
	NimStringV2 a;
	result.len = 0; result.p = NIM_NIL;
	result.len = 0; result.p = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content*) newSeqPayload(0, sizeof(NimStringV2), NIM_ALIGNOF(NimStringV2));
	i = ((NI) 0);
	a.len = 0; a.p = NIM_NIL;
	a = TM__yu6cxgKBBXbNsTkT9cyMd4g_62;
	{
		while (1) {
			NimStringV2 colontmp_;
			NIM_BOOL inQuote;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			setLengthStrV2((&a), ((NI) 0));
			{
				while (1) {
					NIM_BOOL colontmp__2;
					colontmp__2 = (NIM_BOOL)0;
					{
						colontmp__2 = (i < c.len);
						{
							if (!!(colontmp__2)) goto LA8_;
							goto LA5;
						}
						LA8_: ;
						colontmp__2 = (((NU8)(c.p->data[i])) == ((NU8)(32)) || ((NU8)(c.p->data[i])) == ((NU8)(9)) || ((NU8)(c.p->data[i])) == ((NU8)(10)) || ((NU8)(c.p->data[i])) == ((NU8)(13)));
					} LA5: ;
					{
						if (!!(colontmp__2)) goto LA12_;
						goto LA4;
					}
					LA12_: ;
					i += ((NI) 1);
				} LA4: ;
			}
			{
				if (!(c.len <= i)) goto LA16_;
				goto LA1;
			}
			LA16_: ;
			inQuote = NIM_FALSE;
			{
				while (1) {
					{
						if (!!((i < c.len))) goto LA22_;
						goto LA19;
					}
					LA22_: ;
					switch (((NU8)(c.p->data[i]))) {
					case 92:
					{
						NI j;
						j = i;
						{
							while (1) {
								NIM_BOOL colontmp__3;
								colontmp__3 = (NIM_BOOL)0;
								{
									colontmp__3 = (j < c.len);
									{
										if (!!(colontmp__3)) goto LA30_;
										goto LA27;
									}
									LA30_: ;
									colontmp__3 = ((NU8)(c.p->data[j]) == (NU8)(92));
								} LA27: ;
								{
									if (!!(colontmp__3)) goto LA34_;
									goto LA26;
								}
								LA34_: ;
								j += ((NI) 1);
							} LA26: ;
						}
						{
							NIM_BOOL colontmp__4;
							colontmp__4 = (NIM_BOOL)0;
							{
								colontmp__4 = (j < c.len);
								{
									if (!!(colontmp__4)) goto LA40_;
									goto LA37;
								}
								LA40_: ;
								colontmp__4 = ((NU8)(c.p->data[j]) == (NU8)(34));
							} LA37: ;
							{
								if (!colontmp__4) goto LA44_;
								{
									NI k;
									NI colontmp__5;
									NI res;
									k = (NI)0;
									colontmp__5 = (NI)0;
									colontmp__5 = (NI)((NI)(j - i) / ((NI) 2));
									res = ((NI) 1);
									{
										while (1) {
											{
												if (!!((res <= colontmp__5))) goto LA51_;
												goto LA48;
											}
											LA51_: ;
											k = res;
											nimAddCharV1((&a), 92);
											res += ((NI) 1);
										} LA48: ;
									}
								}
								{
									{
										if (!((NI)((NI)(j - i) % ((NI) 2)) == ((NI) 0))) goto LA56_;
										i = j;
										goto LA53;
									}
									LA56_: ;
									nimAddCharV1((&a), 34);
									i = (NI)(j + ((NI) 1));
								} LA53: ;
								goto LA36;
							}
							LA44_: ;
							nimAddCharV1((&a), c.p->data[i]);
							i += ((NI) 1);
						} LA36: ;
					}
					break;
					case 34:
					{
						i += ((NI) 1);
						{
							NIM_BOOL colontmp__6;
							{
								if (!!(inQuote)) goto LA62_;
								inQuote = NIM_TRUE;
								goto LA59;
							}
							LA62_: ;
							colontmp__6 = (NIM_BOOL)0;
							{
								colontmp__6 = (i < c.len);
								{
									if (!!(colontmp__6)) goto LA67_;
									goto LA64;
								}
								LA67_: ;
								colontmp__6 = ((NU8)(c.p->data[i]) == (NU8)(34));
							} LA64: ;
							{
								if (!colontmp__6) goto LA71_;
								nimAddCharV1((&a), c.p->data[i]);
								i += ((NI) 1);
								goto LA59;
							}
							LA71_: ;
							inQuote = NIM_FALSE;
							goto LA18;
						} LA59: ;
					}
					break;
					case 32:
					case 9:
					{
						{
							if (!!(inQuote)) goto LA76_;
							goto LA18;
						}
						LA76_: ;
						nimAddCharV1((&a), c.p->data[i]);
						i += ((NI) 1);
					}
					break;
					default:
					{
						nimAddCharV1((&a), c.p->data[i]);
						i += ((NI) 1);
					}
					break;
					}
				} LA19: ;
			} LA18: ;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			eqcopy___system_3229((&colontmp_), a);
			add__stdZenumutils_66((&result), colontmp_);
		}
	} LA1: ;
	eqdestroy___system_3226((&a));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nosparamCount)(void) {
	NI result;
NIM_BOOL oldNimErrFin5_;
	NI T9_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	{
		NimStringV2 colontmp_;
		tySequence__sM4lkSb7zS6F7OVMvW9cffQ colontmp__2;
		NimStringV2 colontmp__3;
		NI16* T6_;
		if (!!(ownParsedArgv__pureZos_1931)) goto LA3_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T6_ = (NI16*)0;
		T6_ = Dl_1241514266_();
		colontmp__3 = dollar___systemZwidestrs_463(T6_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
		colontmp_ = colontmp__3;
		colontmp__2 = nosparseCmdLine(colontmp_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
		eqsink___system_3730((&ownArgv__pureZos_1930), colontmp__2);
		ownParsedArgv__pureZos_1931 = NIM_TRUE;
		{
			LA5_:;
		}
		{
			oldNimErrFin5_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp_));
			*nimErr_ = oldNimErrFin5_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	T9_ = ownArgv__pureZos_1930.len;
	result = (NI)(T9_ - ((NI) 1));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosparamStr)(NI i) {
	NimStringV2 result;
NIM_BOOL oldNimErrFin5_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NimStringV2 colontmp_;
		tySequence__sM4lkSb7zS6F7OVMvW9cffQ colontmp__2;
		NimStringV2 colontmp__3;
		NI16* T6_;
		if (!!(ownParsedArgv__pureZos_1931)) goto LA3_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T6_ = (NI16*)0;
		T6_ = Dl_1241514266_();
		colontmp__3 = dollar___systemZwidestrs_463(T6_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
		colontmp_ = colontmp__3;
		colontmp__2 = nosparseCmdLine(colontmp_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
		eqsink___system_3730((&ownArgv__pureZos_1930), colontmp__2);
		ownParsedArgv__pureZos_1931 = NIM_TRUE;
		{
			LA5_:;
		}
		{
			oldNimErrFin5_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp_));
			*nimErr_ = oldNimErrFin5_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	{
		NIM_BOOL colontmp__4;
		NimStringV2 colontmp__6;
		tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ* T20_;
		colontmp__4 = (NIM_BOOL)0;
		{
			NI T11_;
			T11_ = ownArgv__pureZos_1930.len;
			colontmp__4 = (i < T11_);
			{
				if (!!(colontmp__4)) goto LA14_;
				goto LA10;
			}
			LA14_: ;
			colontmp__4 = (((NI) 0) <= i);
		} LA10: ;
		{
			NimStringV2* colontmp__5;
			if (!colontmp__4) goto LA18_;
			colontmp__5 = (&ownArgv__pureZos_1930.p->data[i]);
			eqcopy___system_3229((&result), (*colontmp__5));
			goto LA9;
		}
		LA18_: ;
		colontmp__6.len = 0; colontmp__6.p = NIM_NIL;
		T20_ = (tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ*)0;
		T20_ = (tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ*) nimNewObj(sizeof(tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ), NIM_ALIGNOF(tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ));
		(*T20_).Sup.Sup.Sup.m_type = (&NTIv2__n6tGEPHKkh7E1AP9bj30WrQ_);
		(*T20_).Sup.Sup.name = "IndexDefect";
		{
			NimStringV2 T27_;
			NI T28_;
			NimStringV2 T29_;
			{
				NI T24_;
				T24_ = ownArgv__pureZos_1930.len;
				if (!((NI)(T24_ - ((NI) 1)) < ((NI) 0))) goto LA25_;
				colontmp__6 = TM__yu6cxgKBBXbNsTkT9cyMd4g_64;
				goto LA21;
			}
			LA25_: ;
			T27_.len = 0; T27_.p = NIM_NIL;
			T27_ = dollar___systemZdollars_3(i);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			T28_ = ownArgv__pureZos_1930.len;
			T29_.len = 0; T29_.p = NIM_NIL;
			T29_ = dollar___systemZdollars_3((NI)(T28_ - ((NI) 1)));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			colontmp__6 = formatErrorIndexBoundStr__system_4378(T27_, TM__yu6cxgKBBXbNsTkT9cyMd4g_66, T29_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		} LA21: ;
		(*T20_).Sup.Sup.message = colontmp__6;
		(*T20_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T20_, "IndexDefect", "paramStr", "os.nim", 2932);
		goto BeforeRet_;
	} LA9: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, getExecArgs__pureZos_2145)(void) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = nosparamCount();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		res = ((NI) 1);
		{
			while (1) {
				NimStringV2 T8_;
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				T8_.len = 0; T8_.p = NIM_NIL;
				T8_ = nosparamStr(i);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				add__stdZenumutils_66((&result), T8_);
				res += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShellWindows)(NimStringV2 s) {
	NimStringV2 result;
	NIM_BOOL colontmp_;
	NIM_BOOL needQuote;
	NimStringV2 backslashBuff;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = contains__pureZstrutils_1697(s, TM__yu6cxgKBBXbNsTkT9cyMd4g_67);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		{
			if (!colontmp_) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (s.len == ((NI) 0));
	} LA1: ;
	needQuote = colontmp_;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_68;
	backslashBuff.len = 0; backslashBuff.p = NIM_NIL;
	backslashBuff = TM__yu6cxgKBBXbNsTkT9cyMd4g_69;
	{
		if (!needQuote) goto LA8_;
		prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_70);
	}
	LA8_: ;
	{
		NIM_CHAR c;
		NI i;
		NI L;
		c = (NIM_CHAR)0;
		i = ((NI) 0);
		L = s.len;
		{
			while (1) {
				{
					if (!!((i < L))) goto LA15_;
					goto LA12;
				}
				LA15_: ;
				c = s.p->data[i];
				{
					{
						if (!((NU8)(c) == (NU8)(92))) goto LA20_;
						nimAddCharV1((&backslashBuff), c);
						goto LA17;
					}
					LA20_: ;
					{
						if (!((NU8)(c) == (NU8)(34))) goto LA24_;
						{
							NI i_2;
							NI colontmp__2;
							NI i_3;
							i_2 = (NI)0;
							colontmp__2 = (NI)0;
							colontmp__2 = (NI)(backslashBuff.len * ((NI) 2));
							i_3 = ((NI) 0);
							{
								while (1) {
									{
										if (!!((i_3 < colontmp__2))) goto LA31_;
										goto LA28;
									}
									LA31_: ;
									i_2 = i_3;
									nimAddCharV1((&result), 92);
									i_3 += ((NI) 1);
								} LA28: ;
							}
						}
						setLengthStrV2((&backslashBuff), ((NI) 0));
						prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_71);
						goto LA17;
					}
					LA24_: ;
					{
						if (!!((backslashBuff.len == ((NI) 0)))) goto LA35_;
						prepareAdd((&result), backslashBuff.len + 0);
appendString((&result), backslashBuff);
						setLengthStrV2((&backslashBuff), ((NI) 0));
					}
					LA35_: ;
					nimAddCharV1((&result), c);
				} LA17: ;
				i += ((NI) 1);
			} LA12: ;
		}
	}
	{
		if (!(((NI) 0) < backslashBuff.len)) goto LA39_;
		prepareAdd((&result), backslashBuff.len + 0);
appendString((&result), backslashBuff);
	}
	LA39_: ;
	{
		if (!needQuote) goto LA43_;
		prepareAdd((&result), backslashBuff.len + 0);
appendString((&result), backslashBuff);
		prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_72);
	}
	LA43_: ;
	eqdestroy___system_3226((&backslashBuff));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShell)(NimStringV2 s) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nospquoteShellWindows(s);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosunixToNativePath)(NimStringV2 path, NimStringV2 drive) {
	NimStringV2 result;
	NIM_BOOL colontmp_;
	NI start;
	NI i;
{	result.len = 0; result.p = NIM_NIL;
	colontmp_ = (NIM_BOOL)0;
	{
		if (!(path.len == ((NI) 0))) goto LA3_;
		result = TM__yu6cxgKBBXbNsTkT9cyMd4g_73;
		goto BeforeRet_;
	}
	LA3_: ;
	start = (NI)0;
	{
		NIM_BOOL colontmp__2;
		{
			if (!((NU8)(path.p->data[((NI) 0)]) == (NU8)(47))) goto LA8_;
			{
				{
					NimStringV2 T15_;
					if (!!((drive.len == 0))) goto LA13_;
					T15_.len = 0; T15_.p = NIM_NIL;
					T15_ = rawNewString(drive.len + 2);
appendString((&T15_), drive);
appendString((&T15_), TM__yu6cxgKBBXbNsTkT9cyMd4g_75);
					result = T15_;
					goto LA10;
				}
				LA13_: ;
				result = TM__yu6cxgKBBXbNsTkT9cyMd4g_76;
			} LA10: ;
			start = ((NI) 1);
			goto LA5;
		}
		LA8_: ;
		colontmp__2 = (NIM_BOOL)0;
		{
			colontmp__2 = ((NU8)(path.p->data[((NI) 0)]) == (NU8)(46));
			{
				if (!!(colontmp__2)) goto LA19_;
				goto LA16;
			}
			LA19_: ;
			{
				colontmp_ = (path.len == ((NI) 1));
				{
					if (!colontmp_) goto LA24_;
					goto LA21;
				}
				LA24_: ;
				colontmp_ = ((NU8)(path.p->data[((NI) 1)]) == (NU8)(47));
			} LA21: ;
			colontmp__2 = colontmp_;
		} LA16: ;
		{
			if (!colontmp__2) goto LA28_;
			result = TM__yu6cxgKBBXbNsTkT9cyMd4g_77;
			start = ((NI) 1);
			goto LA5;
		}
		LA28_: ;
		result = TM__yu6cxgKBBXbNsTkT9cyMd4g_78;
		start = ((NI) 0);
	} LA5: ;
	i = start;
	{
		while (1) {
			NIM_BOOL colontmp__3;
			NIM_BOOL colontmp__4;
			{
				if (!!((i < path.len))) goto LA34_;
				goto LA31;
			}
			LA34_: ;
			colontmp__3 = (NIM_BOOL)0;
			colontmp__4 = (NIM_BOOL)0;
			{
				NIM_BOOL colontmp__5;
				colontmp__5 = (NIM_BOOL)0;
				{
					{
						{
							colontmp__4 = ((NI)(i + ((NI) 2)) < path.len);
							{
								if (!!(colontmp__4)) goto LA42_;
								goto LA39;
							}
							LA42_: ;
							colontmp__4 = ((NU8)(path.p->data[i]) == (NU8)(46));
						} LA39: ;
						colontmp__3 = colontmp__4;
						{
							if (!!(colontmp__3)) goto LA46_;
							goto LA38;
						}
						LA46_: ;
						colontmp__3 = ((NU8)(path.p->data[(NI)(i + ((NI) 1))]) == (NU8)(46));
					} LA38: ;
					colontmp__5 = colontmp__3;
					{
						if (!!(colontmp__5)) goto LA50_;
						goto LA37;
					}
					LA50_: ;
					colontmp__5 = ((NU8)(path.p->data[(NI)(i + ((NI) 2))]) == (NU8)(47));
				} LA37: ;
				{
					if (!colontmp__5) goto LA54_;
					prepareAdd((&result), 3);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_80);
					i += ((NI) 3);
					goto LA36;
				}
				LA54_: ;
				{
					if (!((NU8)(path.p->data[i]) == (NU8)(47))) goto LA58_;
					nimAddCharV1((&result), 92);
					i += ((NI) 1);
					goto LA36;
				}
				LA58_: ;
				nimAddCharV1((&result), path.p->data[i]);
				i += ((NI) 1);
			} LA36: ;
		} LA31: ;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, quoteShellCommand__pureZos_878)(NimStringV2* args, NI argsLen_0) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_81;
	{
		NI i;
		NI colontmp_;
		NI i_2;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = argsLen_0;
		i_2 = ((NI) 0);
		{
			while (1) {
				NimStringV2 colontmp__2;
				{
					if (!!((i_2 < colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
				i = i_2;
				{
					if (!(((NI) 0) < i)) goto LA10_;
					prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_83);
				}
				LA10_: ;
				colontmp__2 = nospquoteShell(args[i]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				prepareAdd((&result), colontmp__2.len + 0);
appendString((&result), colontmp__2);
				i_2 += ((NI) 1);
				eqdestroy___system_3226((&colontmp__2));
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s) {
	NCSTRING result;
	result = (NCSTRING)0;
	{
		{
			if (!(s.len == ((NI) 0))) goto LA4_;
			result = "";
			goto LA1;
		}
		LA4_: ;
		result = ((NCSTRING) ((*s.p).data));
	} LA1: ;
	return result;
}
static N_INLINE(NIM_BOOL, eqeq___system_7585)(NCSTRING x, NCSTRING y) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		NIM_BOOL colontmp_;
		int T15_;
		{
			if (!(((void*) (x)) == ((void*) (y)))) goto LA4_;
			result = NIM_TRUE;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (x == 0);
			{
				if (!colontmp_) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			colontmp_ = (y == 0);
		} LA6: ;
		{
			if (!colontmp_) goto LA13_;
			result = NIM_FALSE;
			goto LA1;
		}
		LA13_: ;
		T15_ = (int)0;
		T15_ = strcmp(x, y);
		result = (T15_ == ((NI32) 0));
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getEnv__pureZos_512)(NimStringV2 key, NimStringV2 default_0) {
	NimStringV2 result;
	NCSTRING env;
{	result.len = 0; result.p = NIM_NIL;
	env = getenv(nimToCStringConv(key));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = eqeq___system_7585(env, ((NCSTRING) NIM_NIL));
		if (!T3_) goto LA4_;
		eqcopy___system_3229((&result), default_0);
		goto BeforeRet_;
	}
	LA4_: ;
	result = cstrToNimstr(env);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetHomeDir)(void) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 T2_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	T2_.len = 0; T2_.p = NIM_NIL;
	colontmp__2 = getEnv__pureZos_512(TM__yu6cxgKBBXbNsTkT9cyMd4g_85, TM__yu6cxgKBBXbNsTkT9cyMd4g_86);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = rawNewString(colontmp_.len + 1);
appendString((&T2_), colontmp_);
appendString((&T2_), TM__yu6cxgKBBXbNsTkT9cyMd4g_87);
	result = T2_;
	eqdestroy___system_3226((&colontmp_));
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NimStringV2, slash___pureZos_133)(NimStringV2 head, NimStringV2 tail) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nosjoinPath(head, tail);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, expandTilde__pureZos_853)(NimStringV2 path) {
	NimStringV2 result;
NIM_BOOL oldNimErrFin19_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (path.len == ((NI) 0));
			{
				if (!colontmp_) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = !(((NU8)(path.p->data[((NI) 0)]) == (NU8)(126)));
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			eqcopy___system_3229((&result), path);
			goto LA1;
		}
		LA9_: ;
		{
			if (!(path.len == ((NI) 1))) goto LA13_;
			result = nosgetHomeDir();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA13_: ;
		{
			NimStringV2 colontmp__2;
			NimStringV2 colontmp__3;
			NimStringV2 colontmp__4;
			NimStringV2 colontmp__5;
			if (!(((NU8)(path.p->data[((NI) 1)])) == ((NU8)(92)) || ((NU8)(path.p->data[((NI) 1)])) == ((NU8)(47)))) goto LA17_;
			colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
			colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
			colontmp__4 = nosgetHomeDir();
			if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
			colontmp__2 = colontmp__4;
			colontmp__5 = substr__system_7617(path, ((NI) 2));
			if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
			colontmp__3 = colontmp__5;
			result = slash___pureZos_133(colontmp__2, colontmp__3);
			if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
			eqdestroy___system_3226((&colontmp__3));
			eqdestroy___system_3226((&colontmp__2));
			goto LA1;
			{
				LA19_:;
			}
			{
				oldNimErrFin19_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3226((&colontmp__3));
				eqdestroy___system_3226((&colontmp__2));
				*nimErr_ = oldNimErrFin19_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA17_: ;
		eqcopy___system_3229((&result), path);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetAppFilename)(void) {
	NimStringV2 result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A buf;
	NI32 bufsize;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	nimZeroMem((void*)(&buf), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	bufsize = ((NI32) 260);
	buf = newWideCString__systemZwidestrs_364("", ((NI) (bufsize)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		while (1) {
			NI32 L;
			NI16* T4_;
			T4_ = (NI16*)0;
			T4_ = toWideCString__systemZwidestrs_151(buf);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			L = Dl_1241514180_(((NI) 0), T4_, bufsize);
			{
				{
					if (!(L == ((NI32) 0))) goto LA8_;
					result = TM__yu6cxgKBBXbNsTkT9cyMd4g_88;
					goto LA2;
				}
				LA8_: ;
				{
					tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
					if (!(bufsize < L)) goto LA12_;
					colontmp_ = newWideCString__systemZwidestrs_364("", ((NI) (L)));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					eqsink___systemZwidestrs_389((&buf), colontmp_);
					bufsize = L;
					goto LA5;
				}
				LA12_: ;
				result = dollar___systemZwidestrs_466(buf, ((NI) (L)), ((NI) 65533));
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				goto LA2;
			} LA5: ;
		}
	} LA2: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&buf));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetAppDir)(void) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	tyTuple__7q7q3E6Oj24ZNVJb9aonhAg colontmp__2;
	tyTuple__7q7q3E6Oj24ZNVJb9aonhAg colontmp__3;
	NimStringV2 colontmp__4;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	nimZeroMem((void*)(&colontmp__2), sizeof(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg));
	colontmp__4 = nosgetAppFilename();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__4;
	colontmp__3 = nossplitFile(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__2 = colontmp__3;
	result = colontmp__2.Field0;
	colontmp__2.Field0.len = 0; colontmp__2.Field0.p = NIM_NIL;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___pureZos_1455((&colontmp__2));
		eqdestroy___system_3226((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___pureZos_377)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest, tyTuple__UV3llMMYFckfui8YMBuUZA src) {
	eqcopy___system_3229((&(*dest).Field0), src.Field0);
	eqcopy___system_3229((&(*dest).Field1), src.Field1);
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZos_380)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest, tyTuple__UV3llMMYFckfui8YMBuUZA src) {
	if ((*dest).Field0.p != src.Field0.p) {	eqdestroy___system_3226((&(*dest).Field0));
	}
(*dest).Field0.len = src.Field0.len; (*dest).Field0.p = src.Field0.p;
	if ((*dest).Field1.p != src.Field1.p) {	eqdestroy___system_3226((&(*dest).Field1));
	}
(*dest).Field1.len = src.Field1.len; (*dest).Field1.p = src.Field1.p;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileExists)(NimStringV2 filename) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
	NI32 a;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__2;
	NI16* T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmp__2 = newWideCString__systemZwidestrs_396(filename);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a = Dl_1241514247_(T2_);
	{
		if (!!((a == ((NI32) -1)))) goto LA5_;
		result = ((NI32)(a & ((NI32) 16)) == ((NI32) 0));
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, skipFindData__pureZos_910)(tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* f) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NIM_BOOL colontmp__3;
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	colontmp__3 = (NIM_BOOL)0;
	{
		colontmp_ = (((NI) ((*f).cFileName[(((NI) 0))- 0])) == ((NI) 46));
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		{
			colontmp__2 = (((NI) ((*f).cFileName[(((NI) 1))- 0])) == ((NI) 0));
			{
				if (!colontmp__2) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			{
				colontmp__3 = (((NI) ((*f).cFileName[(((NI) 1))- 0])) == ((NI) 46));
				{
					if (!!(colontmp__3)) goto LA14_;
					goto LA11;
				}
				LA14_: ;
				colontmp__3 = (((NI) ((*f).cFileName[(((NI) 2))- 0])) == ((NI) 0));
			} LA11: ;
			colontmp__2 = colontmp__3;
		} LA6: ;
		colontmp_ = colontmp__2;
	} LA1: ;
	result = colontmp_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosexpandFilename)(NimStringV2 filename) {
	NimStringV2 result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A res;
	NI32 bufsize;
	NI16* unused;
NIM_BOOL oldNimErrFin4_;
NIM_BOOL oldNimErrFin72_;
NIM_BOOL oldNimErrFin37_;
NIM_BOOL oldNimErrFin24_;
	NIM_BOOL colontmp__16;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	nimZeroMem((void*)(&res), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	bufsize = ((NI32) 260);
	unused = ((NI16*) NIM_NIL);
	res = newWideCString__systemZwidestrs_364("", ((NI) (bufsize)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		while (1) {
			tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
			NI32 L;
			tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__2;
			NI16* T5_;
			NI16* T6_;
			nimZeroMem((void*)(&colontmp_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
			colontmp__2 = newWideCString__systemZwidestrs_396(filename);
			if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
			colontmp_ = colontmp__2;
			T5_ = (NI16*)0;
			T5_ = toWideCString__systemZwidestrs_151(colontmp_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
			T6_ = (NI16*)0;
			T6_ = toWideCString__systemZwidestrs_151(res);
			if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
			L = Dl_1241514242_(T5_, bufsize, T6_, &unused);
			{
				{
					NI32 T12_;
					if (!(L == ((NI32) 0))) goto LA10_;
					T12_ = (NI32)0;
					T12_ = osLastError__pureZos_503();
					if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
					raiseOSError__pureZos_500(T12_, filename);
					if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
					goto LA7;
				}
				LA10_: ;
				{
					tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__3;
					if (!(bufsize < L)) goto LA15_;
					colontmp__3 = newWideCString__systemZwidestrs_364("", ((NI) (L)));
					if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
					eqsink___systemZwidestrs_389((&res), colontmp__3);
					bufsize = L;
					goto LA7;
				}
				LA15_: ;
				result = dollar___systemZwidestrs_466(res, ((NI) (L)), ((NI) 65533));
				if (NIM_UNLIKELY(*nimErr_)) goto LA4_;
				eqdestroy___systemZwidestrs_386((&colontmp_));
				goto LA2;
			} LA7: ;
			{
				LA4_:;
			}
			{
				oldNimErrFin4_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___systemZwidestrs_386((&colontmp_));
				*nimErr_ = oldNimErrFin4_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
	} LA2: ;
	{
		NimStringV2 x;
		tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA fX60gensym151_;
		NI resX60gensym151_;
		x.len = 0; x.p = NIM_NIL;
		nimZeroMem((void*)(&fX60gensym151_), sizeof(tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA));
		resX60gensym151_ = (NI)0;
		resX60gensym151_ = findFirstFile__pureZos_900(result, (&fX60gensym151_));
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		{
			NI dotPosX60gensym151_;
			if (!!((resX60gensym151_ == ((NI) -1)))) goto LA22_;
			dotPosX60gensym151_ = searchExtPos__pureZos_328(result);
			if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
			{
				while (1) {
					NIM_BOOL colontmp__4;
					colontmp__4 = (NIM_BOOL)0;
					{
						NIM_BOOL T28_;
						T28_ = (NIM_BOOL)0;
						T28_ = skipFindData__pureZos_910((&fX60gensym151_));
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						colontmp__4 = !(T28_);
						{
							if (!!(colontmp__4)) goto LA31_;
							goto LA27;
						}
						LA31_: ;
						colontmp__4 = !(!(((NI32)(fX60gensym151_.dwFileAttributes & ((NI32) 16)) == ((NI32) 0))));
					} LA27: ;
					{
						NIM_BOOL colontmp__5;
						NIM_BOOL colontmp__6;
						NIM_BOOL colontmp__7;
						NIM_BOOL colontmp__8;
						NIM_BOOL colontmp__9;
						NimStringV2 ffX60gensym151_;
						NI idxX60gensym151_;
						NIM_BOOL colontmp__10;
						if (!colontmp__4) goto LA35_;
						colontmp__5 = (NIM_BOOL)0;
						colontmp__6 = (NIM_BOOL)0;
						colontmp__7 = (NIM_BOOL)0;
						colontmp__8 = (NIM_BOOL)0;
						colontmp__9 = (NIM_BOOL)0;
						ffX60gensym151_.len = 0; ffX60gensym151_.p = NIM_NIL;
						ffX60gensym151_ = dollar___systemZwidestrs_463(((NI16*) ((&fX60gensym151_.cFileName[(((NI) 0))- 0]))));
						if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
						idxX60gensym151_ = (NI)((NI)(ffX60gensym151_.len - result.len) + dotPosX60gensym151_);
						colontmp__10 = (NIM_BOOL)0;
						{
							{
								{
									colontmp__6 = (dotPosX60gensym151_ < ((NI) 0));
									{
										if (!colontmp__6) goto LA43_;
										goto LA40;
									}
									LA43_: ;
									colontmp__6 = (ffX60gensym151_.len <= idxX60gensym151_);
								} LA40: ;
								colontmp__5 = colontmp__6;
								{
									if (!colontmp__5) goto LA47_;
									goto LA39;
								}
								LA47_: ;
								{
									colontmp__7 = (((NI) 0) <= idxX60gensym151_);
									{
										if (!!(colontmp__7)) goto LA52_;
										goto LA49;
									}
									LA52_: ;
									colontmp__7 = ((NU8)(ffX60gensym151_.p->data[idxX60gensym151_]) == (NU8)(46));
								} LA49: ;
								colontmp__5 = colontmp__7;
							} LA39: ;
							colontmp__10 = colontmp__5;
							{
								if (!colontmp__10) goto LA56_;
								goto LA38;
							}
							LA56_: ;
							{
								{
									colontmp__9 = (((NI) 0) <= dotPosX60gensym151_);
									{
										if (!!(colontmp__9)) goto LA62_;
										goto LA59;
									}
									LA62_: ;
									colontmp__9 = ((NI)(dotPosX60gensym151_ + ((NI) 1)) < result.len);
								} LA59: ;
								colontmp__8 = colontmp__9;
								{
									if (!!(colontmp__8)) goto LA66_;
									goto LA58;
								}
								LA66_: ;
								colontmp__8 = ((NU8)(result.p->data[(NI)(dotPosX60gensym151_ + ((NI) 1))]) == (NU8)(42));
							} LA58: ;
							colontmp__10 = colontmp__8;
						} LA38: ;
						{
							NimStringV2 colontmp__11;
							tyTuple__7q7q3E6Oj24ZNVJb9aonhAg colontmp__12;
							NimStringV2 colontmp__13;
							tyTuple__7q7q3E6Oj24ZNVJb9aonhAg colontmp__14;
							NimStringV2 colontmp__15;
							if (!colontmp__10) goto LA70_;
							colontmp__11.len = 0; colontmp__11.p = NIM_NIL;
							nimZeroMem((void*)(&colontmp__12), sizeof(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg));
							colontmp__13.len = 0; colontmp__13.p = NIM_NIL;
							colontmp__14 = nossplitFile(result);
							if (NIM_UNLIKELY(*nimErr_)) goto LA72_;
							colontmp__12 = colontmp__14;
							colontmp__11 = ffX60gensym151_;
							ffX60gensym151_.len = 0; ffX60gensym151_.p = NIM_NIL;
							colontmp__15 = nosextractFilename(colontmp__11);
							if (NIM_UNLIKELY(*nimErr_)) goto LA72_;
							colontmp__13 = colontmp__15;
							x = slash___pureZos_133(colontmp__12.Field0, colontmp__13);
							if (NIM_UNLIKELY(*nimErr_)) goto LA72_;
							eqsink___system_3232((&result), x);
							x.len = 0; x.p = NIM_NIL;
							{
								LA72_:;
							}
							{
								oldNimErrFin72_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3226((&colontmp__13));
								eqdestroy___pureZos_1455((&colontmp__12));
								*nimErr_ = oldNimErrFin72_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA37_;
						}
						LA70_: ;
						{
							LA37_:;
						}
						{
							oldNimErrFin37_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3226((&ffX60gensym151_));
							*nimErr_ = oldNimErrFin37_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					}
					LA35_: ;
					{
						NI32 T79_;
						NI32 errCodeX60gensym151_;
						T79_ = (NI32)0;
						T79_ = Dl_1241514237_(resX60gensym151_, (&fX60gensym151_));
						if (!(T79_ == ((NI32) 0))) goto LA80_;
						errCodeX60gensym151_ = Dl_1241514154_();
						{
							{
								if (!(errCodeX60gensym151_ == ((NI32) 18))) goto LA85_;
								goto LA25;
							}
							LA85_: ;
							raiseOSError__pureZos_500(errCodeX60gensym151_, TM__yu6cxgKBBXbNsTkT9cyMd4g_89);
							if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						}
					}
					LA80_: ;
				}
			} LA25: ;
			{
				LA24_:;
			}
			{
				oldNimErrFin24_ = *nimErr_; *nimErr_ = NIM_FALSE;
				Dl_1241514240_(resX60gensym151_);
				*nimErr_ = oldNimErrFin24_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
		LA22_: ;
	}
	colontmp__16 = (NIM_BOOL)0;
	{
		NIM_BOOL T90_;
		NIM_BOOL T95_;
		T90_ = (NIM_BOOL)0;
		T90_ = nosfileExists(result);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		colontmp__16 = !(T90_);
		{
			if (!!(colontmp__16)) goto LA93_;
			goto LA89;
		}
		LA93_: ;
		T95_ = (NIM_BOOL)0;
		T95_ = nosdirExists(result);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		colontmp__16 = !(T95_);
	} LA89: ;
	{
		tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* T100_;
		NimStringV2 T101_;
		if (!colontmp__16) goto LA98_;
		T100_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
		T100_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*) nimNewObj(sizeof(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA), NIM_ALIGNOF(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA));
		(*T100_).Sup.Sup.Sup.m_type = (&NTIv2__BeJgrOdDsczOwEWOZbRfKA_);
		(*T100_).Sup.Sup.name = "OSError";
		T101_.len = 0; T101_.p = NIM_NIL;
		T101_ = rawNewString(result.len + 22);
appendString((&T101_), TM__yu6cxgKBBXbNsTkT9cyMd4g_91);
appendString((&T101_), result);
appendString((&T101_), TM__yu6cxgKBBXbNsTkT9cyMd4g_93);
		(*T100_).Sup.Sup.message = T101_;
		(*T100_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T100_, "OSError", "expandFilename", "os.nim", 2219);
		goto LA1_;
	}
	LA98_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&res));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, appendChar)(NimStringV2* dest, NIM_CHAR c) {
	(*(*dest).p).data[(*dest).len] = c;
	(*(*dest).p).data[(NI)((*dest).len + ((NI) 1))] = 0;
	(*dest).len += ((NI) 1);
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normExt__pureZos_325)(NimStringV2 ext) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		NimStringV2 T11_;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (ext.len == 0);
			{
				if (!colontmp_) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = ((NU8)(ext.p->data[((NI) 0)]) == (NU8)(46));
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			eqcopy___system_3229((&result), ext);
			goto LA1;
		}
		LA9_: ;
		T11_.len = 0; T11_.p = NIM_NIL;
		T11_ = rawNewString(ext.len + 1);
appendChar((&T11_), 46);
appendString((&T11_), ext);
		result = T11_;
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, noschangeFileExt)(NimStringV2 filename, NimStringV2 ext) {
	NimStringV2 result;
	NI extPos;
NIM_BOOL oldNimErrFin6_;
NIM_BOOL oldNimErrFin10_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	extPos = searchExtPos__pureZos_328(filename);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NimStringV2 colontmp__3;
		NimStringV2 colontmp__4;
		NimStringV2 T11_;
		NimStringV2 colontmp__5;
		NimStringV2 colontmp__6;
		{
			NimStringV2 colontmp_;
			NimStringV2 T7_;
			NimStringV2 colontmp__2;
			if (!(extPos < ((NI) 0))) goto LA4_;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			T7_.len = 0; T7_.p = NIM_NIL;
			colontmp__2 = normExt__pureZos_325(ext);
			if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
			colontmp_ = colontmp__2;
			T7_ = rawNewString(filename.len + colontmp_.len + 0);
appendString((&T7_), filename);
appendString((&T7_), colontmp_);
			result = T7_;
			eqdestroy___system_3226((&colontmp_));
			goto LA1;
			{
				LA6_:;
			}
			{
				oldNimErrFin6_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3226((&colontmp_));
				*nimErr_ = oldNimErrFin6_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA4_: ;
		colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
		colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
		T11_.len = 0; T11_.p = NIM_NIL;
		colontmp__5 = substr__system_7605(filename, ((NI) 0), (NI)(extPos - ((NI) 1)));
		if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
		colontmp__3 = colontmp__5;
		colontmp__6 = normExt__pureZos_325(ext);
		if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
		colontmp__4 = colontmp__6;
		T11_ = rawNewString(colontmp__3.len + colontmp__4.len + 0);
appendString((&T11_), colontmp__3);
appendString((&T11_), colontmp__4);
		result = T11_;
		{
			LA10_:;
		}
		{
			oldNimErrFin10_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp__4));
			eqdestroy___system_3226((&colontmp__3));
			*nimErr_ = oldNimErrFin10_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosaddFileExt)(NimStringV2 filename, NimStringV2 ext) {
	NimStringV2 result;
	NI extPos;
NIM_BOOL oldNimErrFin6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	extPos = searchExtPos__pureZos_328(filename);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		{
			NimStringV2 colontmp_;
			NimStringV2 T7_;
			NimStringV2 colontmp__2;
			if (!(extPos < ((NI) 0))) goto LA4_;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			T7_.len = 0; T7_.p = NIM_NIL;
			colontmp__2 = normExt__pureZos_325(ext);
			if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
			colontmp_ = colontmp__2;
			T7_ = rawNewString(filename.len + colontmp_.len + 0);
appendString((&T7_), filename);
appendString((&T7_), colontmp_);
			result = T7_;
			eqdestroy___system_3226((&colontmp_));
			goto LA1;
			{
				LA6_:;
			}
			{
				oldNimErrFin6_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3226((&colontmp_));
				*nimErr_ = oldNimErrFin6_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA4_: ;
		eqcopy___system_3229((&result), filename);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nostryRemoveFile)(NimStringV2 file) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A f;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&f), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	result = NIM_TRUE;
	f = newWideCString__systemZwidestrs_396(file);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NI16* T4_;
		NI32 T5_;
		NIM_BOOL colontmp_;
		NI32 err;
		T4_ = (NI16*)0;
		T4_ = toWideCString__systemZwidestrs_151(f);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		T5_ = (NI32)0;
		T5_ = Dl_1241514593_(T4_);
		if (!(T5_ == ((NI32) 0))) goto LA6_;
		colontmp_ = (NIM_BOOL)0;
		result = NIM_FALSE;
		err = Dl_1241514154_();
		{
			NIM_BOOL colontmp__2;
			NIM_BOOL colontmp__3;
			colontmp__2 = (NIM_BOOL)0;
			{
				colontmp__2 = (err == ((NI32) 2));
				{
					if (!colontmp__2) goto LA12_;
					goto LA9;
				}
				LA12_: ;
				colontmp__2 = (err == ((NI32) 3));
			} LA9: ;
			{
				if (!colontmp__2) goto LA16_;
				result = NIM_TRUE;
				goto LA8;
			}
			LA16_: ;
			colontmp__3 = (NIM_BOOL)0;
			{
				NI16* T30_;
				NI32 T31_;
				{
					NI16* T24_;
					NI32 T25_;
					colontmp_ = (err == ((NI32) 5));
					{
						if (!!(colontmp_)) goto LA22_;
						goto LA19;
					}
					LA22_: ;
					T24_ = (NI16*)0;
					T24_ = toWideCString__systemZwidestrs_151(f);
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					T25_ = (NI32)0;
					T25_ = Dl_1241514249_(T24_, ((NI32) 128));
					colontmp_ = !((T25_ == ((NI32) 0)));
				} LA19: ;
				colontmp__3 = colontmp_;
				{
					if (!!(colontmp__3)) goto LA28_;
					goto LA18;
				}
				LA28_: ;
				T30_ = (NI16*)0;
				T30_ = toWideCString__systemZwidestrs_151(f);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				T31_ = (NI32)0;
				T31_ = Dl_1241514593_(T30_);
				colontmp__3 = !((T31_ == ((NI32) 0)));
			} LA18: ;
			{
				if (!colontmp__3) goto LA34_;
				result = NIM_TRUE;
				goto LA8;
			}
			LA34_: ;
		} LA8: ;
	}
	LA6_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&f));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, find__pureZos_528)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item) {
	NI result;
{	result = (NI)0;
	result = ((NI) 0);
	{
		NIM_CHAR i;
		NI i_2;
		i = (NIM_CHAR)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < aLen_0))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = a[i_2];
				{
					if (!((NU8)(i) == (NU8)(item))) goto LA10_;
					goto BeforeRet_;
				}
				LA10_: ;
				result += ((NI) 1);
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	result = ((NI) -1);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, contains__pureZos_523)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item) {
	NIM_BOOL result;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = find__pureZos_528(a, aLen_0, item);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (((NI) 0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___pureZos_550)(tyTuple__UV3llMMYFckfui8YMBuUZA x) {
	NimStringV2 result;
	NI count;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_97;
	count = ((NI) 0);
	{
		if (!(((NI) 0) < count)) goto LA3_;
		prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_99);
	}
	LA3_: ;
	count += ((NI) 1);
	addQuoted__pureZos_570((&result), x.Field0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(((NI) 0) < count)) goto LA7_;
		prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_100);
	}
	LA7_: ;
	count += ((NI) 1);
	addQuoted__pureZos_570((&result), x.Field1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(count == ((NI) 1))) goto LA11_;
		prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_102);
	}
	LA11_: ;
	prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_104);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, putEnv__pureZos_520)(NimStringV2 key, NimStringV2 val) {
	NIM_BOOL colontmp_;
NIM_BOOL oldNimErrFin11_;
NIM_BOOL oldNimErrFin22_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = (key.len == ((NI) 0));
		{
			if (!colontmp_) goto LA5_;
			goto LA2;
		}
		LA5_: ;
		colontmp_ = contains__pureZos_523(key.p->data, key.len, 61);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA2: ;
	{
		NimStringV2 colontmp__2;
		tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* T12_;
		NimStringV2 T13_;
		NimStringV2 colontmp__3;
		tyTuple__UV3llMMYFckfui8YMBuUZA T14_;
		if (!colontmp_) goto LA9_;
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		T12_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
		T12_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*) nimNewObj(sizeof(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA), NIM_ALIGNOF(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA));
		(*T12_).Sup.Sup.Sup.m_type = (&NTIv2__BeJgrOdDsczOwEWOZbRfKA_);
		(*T12_).Sup.Sup.name = "OSError";
		T13_.len = 0; T13_.p = NIM_NIL;
		T14_.Field0 = key;
		T14_.Field1 = val;
		colontmp__3 = dollar___pureZos_550(T14_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
		colontmp__2 = colontmp__3;
		T13_ = rawNewString(colontmp__2.len + 18);
appendString((&T13_), TM__yu6cxgKBBXbNsTkT9cyMd4g_95);
appendString((&T13_), colontmp__2);
		(*T12_).Sup.Sup.message = T13_;
		(*T12_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T12_, "OSError", "putEnv", "osenv.nim", 99);
		goto LA11_;
		{
			LA11_:;
		}
		{
			oldNimErrFin11_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp__2));
			*nimErr_ = oldNimErrFin11_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA9_: ;
	{
		int T19_;
		NimStringV2 colontmp__4;
		NI32 T23_;
		NimStringV2 colontmp__5;
		tyTuple__UV3llMMYFckfui8YMBuUZA T24_;
		T19_ = (int)0;
		T19_ = setEnvImpl__stdZprivateZwin95setenv_17(key, val, ((NI32) 1));
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!((T19_ == ((NI32) 0)))) goto LA20_;
		colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
		T23_ = (NI32)0;
		T23_ = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
		T24_.Field0 = key;
		T24_.Field1 = val;
		colontmp__5 = dollar___pureZos_550(T24_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
		colontmp__4 = colontmp__5;
		raiseOSError__pureZos_500(T23_, colontmp__4);
		if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
		{
			LA22_:;
		}
		{
			oldNimErrFin22_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp__4));
			*nimErr_ = oldNimErrFin22_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA20_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&val));
		eqdestroy___system_3226((&key));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, findExe__pureZos_942)(NimStringV2 exe, NIM_BOOL followSymlinks, NimStringV2* extensions, NI extensionsLen_0) {
	NimStringV2 result;
	NimStringV2 path;
NIM_BOOL oldNimErrFin65_;
NIM_BOOL oldNimErrFin42_;
NIM_BOOL oldNimErrFin19_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	path.len = 0; path.p = NIM_NIL;
	{
		if (!(exe.len == ((NI) 0))) goto LA4_;
		eqdestroy___system_3226((&path));
		goto BeforeRet_;
	}
	LA4_: ;
	{
		NimStringV2* extX60gensym109_;
		NI i;
		extX60gensym109_ = (NimStringV2*)0;
		i = ((NI) 0);
		{
			while (1) {
				NimStringV2 colontmp_;
				{
					if (!!((i < extensionsLen_0))) goto LA11_;
					goto LA8;
				}
				LA11_: ;
				extX60gensym109_ = (&extensions[i]);
				colontmp_ = nosaddFileExt(exe, (*extX60gensym109_));
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				eqsink___system_3232((&result), colontmp_);
				{
					NIM_BOOL T15_;
					T15_ = (NIM_BOOL)0;
					T15_ = nosfileExists(result);
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					if (!T15_) goto LA16_;
					eqdestroy___system_3226((&path));
					goto BeforeRet_;
				}
				LA16_: ;
				i += ((NI) 1);
			} LA8: ;
		}
	}
	path = getEnv__pureZos_512(TM__yu6cxgKBBXbNsTkT9cyMd4g_106, TM__yu6cxgKBBXbNsTkT9cyMd4g_107);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NimStringV2 candidate;
		NI lastX60gensym33_;
		NI splitsX60gensym33_;
		candidate.len = 0; candidate.p = NIM_NIL;
		lastX60gensym33_ = ((NI) 0);
		splitsX60gensym33_ = ((NI) -1);
		{
			while (1) {
				NI firstX60gensym33_;
				NimStringV2 colontmp__3;
				{
					if (!!((lastX60gensym33_ <= path.len))) goto LA24_;
					goto LA21;
				}
				LA24_: ;
				firstX60gensym33_ = lastX60gensym33_;
				{
					while (1) {
						NIM_BOOL colontmp__2;
						colontmp__2 = (NIM_BOOL)0;
						{
							colontmp__2 = (lastX60gensym33_ < path.len);
							{
								if (!!(colontmp__2)) goto LA31_;
								goto LA28;
							}
							LA31_: ;
							colontmp__2 = !(((NU8)(path.p->data[lastX60gensym33_]) == (NU8)(59)));
						} LA28: ;
						{
							if (!!(colontmp__2)) goto LA35_;
							goto LA27;
						}
						LA35_: ;
						lastX60gensym33_ += ((NI) 1);
					} LA27: ;
				}
				{
					if (!(splitsX60gensym33_ == ((NI) 0))) goto LA39_;
					lastX60gensym33_ = path.len;
				}
				LA39_: ;
				colontmp__3 = substr__system_7605(path, firstX60gensym33_, (NI)(lastX60gensym33_ - ((NI) 1)));
				if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
				eqsink___system_3232((&candidate), colontmp__3);
				{
					NIM_BOOL colontmp__4;
					NimStringV2 x;
					NimStringV2 colontmp__5;
					colontmp__4 = (NIM_BOOL)0;
					x.len = 0; x.p = NIM_NIL;
					colontmp__5.len = 0; colontmp__5.p = NIM_NIL;
					{
						if (!(candidate.len == ((NI) 0))) goto LA45_;
						eqdestroy___system_3226((&colontmp__5));
						eqdestroy___system_3226((&x));
						goto LA41;
					}
					LA45_: ;
					{
						{
							NIM_CHAR T53_;
							colontmp__4 = ((NU8)(candidate.p->data[((NI) 0)]) == (NU8)(34));
							{
								if (!!(colontmp__4)) goto LA51_;
								goto LA48;
							}
							LA51_: ;
							T53_ = (NIM_CHAR)0;
							T53_ = X5BX5D___system_7195(candidate, ((NI) 1));
							if (NIM_UNLIKELY(*nimErr_)) goto LA42_;
							colontmp__4 = ((NU8)(T53_) == (NU8)(34));
						} LA48: ;
						{
							if (!colontmp__4) goto LA56_;
							colontmp__5 = substr__system_7605(candidate, ((NI) 1), (NI)(candidate.len - ((NI) 2)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA42_;
							goto LA47;
						}
						LA56_: ;
						colontmp__5 = candidate;
						candidate.len = 0; candidate.p = NIM_NIL;
					} LA47: ;
					x = slash___pureZos_133(colontmp__5, exe);
					if (NIM_UNLIKELY(*nimErr_)) goto LA42_;
					{
						NimStringV2* ext;
						NI i_2;
						ext = (NimStringV2*)0;
						i_2 = ((NI) 0);
						{
							while (1) {
								NimStringV2 x_2;
								{
									if (!!((i_2 < extensionsLen_0))) goto LA63_;
									goto LA60;
								}
								LA63_: ;
								x_2.len = 0; x_2.p = NIM_NIL;
								ext = (&extensions[i_2]);
								x_2 = nosaddFileExt(x, (*ext));
								if (NIM_UNLIKELY(*nimErr_)) goto LA65_;
								{
									NIM_BOOL T68_;
									T68_ = (NIM_BOOL)0;
									T68_ = nosfileExists(x_2);
									if (NIM_UNLIKELY(*nimErr_)) goto LA65_;
									if (!T68_) goto LA69_;
									eqsink___system_3232((&result), x_2);
									x_2.len = 0; x_2.p = NIM_NIL;
									eqdestroy___system_3226((&x_2));
									eqdestroy___system_3226((&colontmp__5));
									eqdestroy___system_3226((&x));
									eqdestroy___system_3226((&candidate));
									eqdestroy___system_3226((&path));
									goto BeforeRet_;
								}
								LA69_: ;
								i_2 += ((NI) 1);
								{
									LA65_:;
								}
								{
									oldNimErrFin65_ = *nimErr_; *nimErr_ = NIM_FALSE;
									eqdestroy___system_3226((&x_2));
									*nimErr_ = oldNimErrFin65_;
								}
								if (NIM_UNLIKELY(*nimErr_)) goto LA42_;
							} LA60: ;
						}
					}
					{
						LA42_:;
					}
					{
						oldNimErrFin42_ = *nimErr_; *nimErr_ = NIM_FALSE;
						eqdestroy___system_3226((&colontmp__5));
						eqdestroy___system_3226((&x));
						*nimErr_ = oldNimErrFin42_;
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
				} LA41: ;
				{
					if (!(splitsX60gensym33_ == ((NI) 0))) goto LA77_;
					goto LA20;
				}
				LA77_: ;
				splitsX60gensym33_ -= ((NI) 1);
				lastX60gensym33_ += ((NI) 1);
			} LA21: ;
		} LA20: ;
		{
			LA19_:;
		}
		{
			oldNimErrFin19_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&candidate));
			*nimErr_ = oldNimErrFin19_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	eqsink___system_3232((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_108);
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&path));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetConfigDir)(void) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = getEnv__pureZos_512(TM__yu6cxgKBBXbNsTkT9cyMd4g_113, TM__yu6cxgKBBXbNsTkT9cyMd4g_114);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	normalizePathEnd__pureZos_63((&result), NIM_TRUE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosisRootDir)(NimStringV2 path) {
	NIM_BOOL result;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = parentDirPos__pureZos_252(path);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (T1_ < ((NI) 0));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, existsEnv__pureZos_517)(NimStringV2 key) {
	NIM_BOOL result;
	NCSTRING T1_;
	NIM_BOOL T2_;
{	result = (NIM_BOOL)0;
	T1_ = (NCSTRING)0;
	T1_ = getenv(nimToCStringConv(key));
	T2_ = (NIM_BOOL)0;
	T2_ = eqeq___system_7585(T1_, ((NCSTRING) NIM_NIL));
	result = !(T2_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZos_1641)(tyTuple__LCURwohbLBusrL8hdCnvng* dest, tyTuple__LCURwohbLBusrL8hdCnvng src) {
	(*dest).Field0 = src.Field0;
	if ((*dest).Field1.p != src.Field1.p) {	eqdestroy___system_3226((&(*dest).Field1));
	}
(*dest).Field1.len = src.Field1.len; (*dest).Field1.p = src.Field1.p;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_1635)(tyTuple__LCURwohbLBusrL8hdCnvng* dest) {
	eqdestroy___system_3226((&(*dest).Field1));
}
N_LIB_PRIVATE N_NIMCALL(void, delEnv__pureZos_593)(NimStringV2 key) {
	NimStringV2 envToDel;
	NIM_BOOL colontmp_;
	NimStringV2 T13_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	envToDel.len = 0; envToDel.p = NIM_NIL;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = (key.len == ((NI) 0));
		{
			if (!colontmp_) goto LA5_;
			goto LA2;
		}
		LA5_: ;
		colontmp_ = contains__pureZos_523(key.p->data, key.len, 61);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA2: ;
	{
		tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* T11_;
		NimStringV2 T12_;
		if (!colontmp_) goto LA9_;
		T11_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
		T11_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*) nimNewObj(sizeof(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA), NIM_ALIGNOF(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA));
		(*T11_).Sup.Sup.Sup.m_type = (&NTIv2__BeJgrOdDsczOwEWOZbRfKA_);
		(*T11_).Sup.Sup.name = "OSError";
		T12_.len = 0; T12_.p = NIM_NIL;
		T12_ = rawNewString(key.len + 18);
appendString((&T12_), TM__yu6cxgKBBXbNsTkT9cyMd4g_115);
appendString((&T12_), key);
		(*T11_).Sup.Sup.message = T12_;
		(*T11_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T11_, "OSError", "delEnv", "osenv.nim", 123);
		goto LA1_;
	}
	LA9_: ;
	T13_.len = 0; T13_.p = NIM_NIL;
	T13_ = rawNewString(key.len + 1);
appendString((&T13_), key);
appendString((&T13_), TM__yu6cxgKBBXbNsTkT9cyMd4g_117);
	envToDel = T13_;
	{
		int T16_;
		NI32 T19_;
		T16_ = (int)0;
		T16_ = _putenv(nimToCStringConv(envToDel));
		if (!!((T16_ == ((NI32) 0)))) goto LA17_;
		T19_ = (NI32)0;
		T19_ = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		raiseOSError__pureZos_500(T19_, key);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA17_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&envToDel));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_664)(tySequence__4eQHGndY6XBYpFOH09apV8Q* dest) {
	NI colontmp_;
	colontmp_ = ((NI) 0);
	{
		while (1) {
			{
				NI T5_;
				T5_ = (*dest).len;
				if (!!((colontmp_ < T5_))) goto LA6_;
				goto LA2;
			}
			LA6_: ;
			eqdestroy___system_3226((&(*dest).p->data[colontmp_].Field0));
			eqdestroy___system_3226((&(*dest).p->data[colontmp_].Field1));
			colontmp_ += ((NI) 1);
		} LA2: ;
	}
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(tyTuple__UV3llMMYFckfui8YMBuUZA));
}
}
N_LIB_PRIVATE N_NIMCALL(void, nosremoveFile)(NimStringV2 file) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		NI32 T6_;
		T3_ = (NIM_BOOL)0;
		T3_ = nostryRemoveFile(file);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		T6_ = (NI32)0;
		T6_ = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_500(T6_, file);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA4_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, nosgetLastModificationTime)(NimStringV2 file) {
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q result;
	tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA f;
	NI h;
	NI64 T6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q));
	nimZeroMem((void*)(&f), sizeof(tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA));
	h = findFirstFile__pureZos_900(file, (&f));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI32 T5_;
		if (!(h == ((NI) -1))) goto LA3_;
		T5_ = (NI32)0;
		T5_ = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_500(T5_, file);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	T6_ = (NI64)0;
	T6_ = rdFileTime__windowsZwinlean_283(f.ftLastWriteTime);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = fromWinTime__pureZtimes_988(T6_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	Dl_1241514240_(h);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileNewer)(NimStringV2 a, NimStringV2 b) {
	NIM_BOOL result;
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q T1_;
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = nosgetLastModificationTime(b);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T2_ = nosgetLastModificationTime(a);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ntLtTime(T1_, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZos_670)(tySequence__4eQHGndY6XBYpFOH09apV8Q* dest, tySequence__4eQHGndY6XBYpFOH09apV8Q src) {
	if ((*dest).p != src.p) {	eqdestroy___pureZos_664(dest);
	}
(*dest).len = src.len; (*dest).p = src.p;
}
N_LIB_PRIVATE N_NIMCALL(int, exitStatusLikeShell__pureZos_1412)(int status) {
	int result;
	result = (int)0;
	result = status;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nosexecShellCmd)(NimStringV2 command) {
	NI result;
	int T1_;
	int T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	T1_ = (int)0;
	T1_ = system(nimToCStringConv(command));
	T2_ = (int)0;
	T2_ = exitStatusLikeShell__pureZos_1412(T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ((NI) (T2_));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, countSetBitsImpl__systemZcountbits95impl_26)(NU32 x) {
	NI result;
	int T1_;
	result = (NI)0;
	T1_ = (int)0;
	T1_ = __builtin_popcount(x);
	result = ((NI) (T1_));
	return result;
}
static N_INLINE(NI, countBits32)(NU32 n) {
	NI result;
	result = (NI)0;
	result = countSetBitsImpl__systemZcountbits95impl_26(n);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nossymlinkExists)(NimStringV2 link) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp_;
	NI32 a;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__2;
	NI16* T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmp__2 = newWideCString__systemZwidestrs_396(link);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a = Dl_1241514247_(T2_);
	{
		if (!!((a == ((NI32) -1)))) goto LA5_;
		result = !(((NI32)(a & ((NI32) 1024)) == ((NI32) 0)));
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, noscopyFile)(NimStringV2 source, NimStringV2 dest, tySet_tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA options) {
	NIM_BOOL colontmp_;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A s;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A d;
	NIM_BOOL isSymlink;
	NIM_BOOL colontmp__2;
NIM_BOOL oldNimErrFin27_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	nimZeroMem((void*)(&s), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	nimZeroMem((void*)(&d), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	{
		if (!!((countBits32((7 & options)) == ((NI) 1)))) goto LA4_;
		failedAssertImpl__systemZassertions_65(TM__yu6cxgKBBXbNsTkT9cyMd4g_119);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA4_: ;
	isSymlink = nossymlinkExists(source);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__2 = (NIM_BOOL)0;
	{
		colontmp__2 = isSymlink;
		{
			if (!!(colontmp__2)) goto LA9_;
			goto LA6;
		}
		LA9_: ;
		{
			colontmp_ = ((options &((NU8)1<<((NU)(((tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA) 2))&7U)))!=0);
			{
				if (!colontmp_) goto LA14_;
				goto LA11;
			}
			LA14_: ;
			colontmp_ = NIM_TRUE;
		} LA11: ;
		colontmp__2 = colontmp_;
	} LA6: ;
	{
		if (!colontmp__2) goto LA18_;
		eqdestroy___systemZwidestrs_386((&d));
		eqdestroy___systemZwidestrs_386((&s));
		eqdestroy___system_3226((&dest));
		eqdestroy___system_3226((&source));
		goto BeforeRet_;
	}
	LA18_: ;
	s = newWideCString__systemZwidestrs_396(source);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	d = newWideCString__systemZwidestrs_396(dest);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NI16* T22_;
		NI16* T23_;
		NI32 T24_;
		NimStringV2 colontmp__3;
		NI32 T28_;
		NimStringV2 colontmp__4;
		tyTuple__UV3llMMYFckfui8YMBuUZA T29_;
		T22_ = (NI16*)0;
		T22_ = toWideCString__systemZwidestrs_151(s);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		T23_ = (NI16*)0;
		T23_ = toWideCString__systemZwidestrs_151(d);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		T24_ = (NI32)0;
		T24_ = Dl_1241514252_(T22_, T23_, ((NI32) 0));
		if (!(T24_ == ((NI32) 0))) goto LA25_;
		colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
		T28_ = (NI32)0;
		T28_ = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto LA27_;
		T29_.Field0 = source;
		T29_.Field1 = dest;
		colontmp__4 = dollar___pureZos_550(T29_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA27_;
		colontmp__3 = colontmp__4;
		raiseOSError__pureZos_500(T28_, colontmp__3);
		if (NIM_UNLIKELY(*nimErr_)) goto LA27_;
		{
			LA27_:;
		}
		{
			oldNimErrFin27_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp__3));
			*nimErr_ = oldNimErrFin27_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA25_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&d));
		eqdestroy___systemZwidestrs_386((&s));
		eqdestroy___system_3226((&dest));
		eqdestroy___system_3226((&source));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, rawRemoveDir__pureZos_1788)(NimStringV2 dir) {
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__3;
	NI32 res;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmp__4;
	NI16* T2_;
	NI32 lastError;
	NIM_BOOL colontmp__5;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmp__3), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmp__4 = newWideCString__systemZwidestrs_396(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__3 = colontmp__4;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(colontmp__3);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	res = Dl_1241514175_(T2_);
	lastError = osLastError__pureZos_503();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__5 = (NIM_BOOL)0;
	{
		{
			{
				colontmp__2 = (res == ((NI32) 0));
				{
					if (!!(colontmp__2)) goto LA8_;
					goto LA5;
				}
				LA8_: ;
				colontmp__2 = !((lastError == ((NI32) 3)));
			} LA5: ;
			colontmp_ = colontmp__2;
			{
				if (!!(colontmp_)) goto LA12_;
				goto LA4;
			}
			LA12_: ;
			colontmp_ = !((lastError == ((NI32) 18)));
		} LA4: ;
		colontmp__5 = colontmp_;
		{
			if (!!(colontmp__5)) goto LA16_;
			goto LA3;
		}
		LA16_: ;
		colontmp__5 = !((lastError == ((NI32) 2)));
	} LA3: ;
	{
		if (!colontmp__5) goto LA20_;
		raiseOSError__pureZos_500(lastError, dir);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA20_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&colontmp__3));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, nosremoveDir)(NimStringV2 dir, NIM_BOOL checkDir) {
NIM_BOOL oldNimErrFin35_;
NIM_BOOL oldNimErrFin13_;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NimStringV2 path;
		NimStringV2 colontmp_;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg kind;
		tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA f;
		NI h;
		NimStringV2 colontmp__2;
		path.len = 0; path.p = NIM_NIL;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		kind = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		nimZeroMem((void*)(&f), sizeof(tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA));
		colontmp__2 = slash___pureZos_133(dir, TM__yu6cxgKBBXbNsTkT9cyMd4g_121);
		if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		colontmp_ = colontmp__2;
		h = findFirstFile__pureZos_900(colontmp_, (&f));
		if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		{
			{
				if (!(h == ((NI) -1))) goto LA6_;
				{
					NI32 T12_;
					if (!checkDir) goto LA10_;
					T12_ = (NI32)0;
					T12_ = osLastError__pureZos_503();
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
					raiseOSError__pureZos_500(T12_, dir);
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				}
				LA10_: ;
				goto LA3;
			}
			LA6_: ;
			{
				while (1) {
					tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k;
					k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
					{
						NIM_BOOL T18_;
						NimStringV2 xx;
						T18_ = (NIM_BOOL)0;
						T18_ = skipFindData__pureZos_910((&f));
						if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						if (!!(T18_)) goto LA19_;
						{
							if (!!(((NI32)(f.dwFileAttributes & ((NI32) 16)) == ((NI32) 0)))) goto LA23_;
							k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
						}
						LA23_: ;
						{
							if (!!(((NI32)(f.dwFileAttributes & ((NI32) 1024)) == ((NI32) 0)))) goto LA27_;
							k = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)(k + ((NI) 1));
						}
						LA27_: ;
						xx.len = 0; xx.p = NIM_NIL;
						{
							NimStringV2 colontmp__3;
							NimStringV2 colontmp__4;
							NimStringV2 T36_;
							{
								NimStringV2 T34_;
								if (!NIM_FALSE) goto LA32_;
								T34_.len = 0; T34_.p = NIM_NIL;
								T34_ = dollar___systemZwidestrs_463(((NI16*) ((&f.cFileName[(((NI) 0))- 0]))));
								if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
								xx = nosextractFilename(T34_);
								if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
								goto LA29;
							}
							LA32_: ;
							colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
							T36_.len = 0; T36_.p = NIM_NIL;
							T36_ = dollar___systemZwidestrs_463(((NI16*) ((&f.cFileName[(((NI) 0))- 0]))));
							if (NIM_UNLIKELY(*nimErr_)) goto LA35_;
							colontmp__4 = nosextractFilename(T36_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA35_;
							colontmp__3 = colontmp__4;
							xx = slash___pureZos_133(dir, colontmp__3);
							if (NIM_UNLIKELY(*nimErr_)) goto LA35_;
							{
								LA35_:;
							}
							{
								oldNimErrFin35_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3226((&colontmp__3));
								*nimErr_ = oldNimErrFin35_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						} LA29: ;
						kind = k;
						eqsink___system_3232((&path), xx);
						switch (kind) {
						case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0):
						case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1):
						case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3):
						{
							nosremoveFile(path);
							if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						}
						break;
						case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2):
						{
							nosremoveDir(path, NIM_TRUE);
							if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						}
						break;
						}
					}
					LA19_: ;
					{
						NI32 T43_;
						NI32 errCode;
						T43_ = (NI32)0;
						T43_ = Dl_1241514237_(h, (&f));
						if (!(T43_ == ((NI32) 0))) goto LA44_;
						errCode = Dl_1241514154_();
						{
							{
								if (!(errCode == ((NI32) 18))) goto LA49_;
								goto LA14;
							}
							LA49_: ;
							raiseOSError__pureZos_500(errCode, TM__yu6cxgKBBXbNsTkT9cyMd4g_122);
							if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						}
					}
					LA44_: ;
				}
			} LA14: ;
			{
				LA13_:;
			}
			{
				oldNimErrFin13_ = *nimErr_; *nimErr_ = NIM_FALSE;
				Dl_1241514240_(h);
				*nimErr_ = oldNimErrFin13_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		} LA3: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp_));
			eqdestroy___system_3226((&path));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	rawRemoveDir__pureZos_1788(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, tryMoveFSObject__pureZos_1391)(NimStringV2 source, NimStringV2 dest, NIM_BOOL isDir) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A s;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A d;
	NI16* T2_;
	NI16* T3_;
	NI32 T4_;
NIM_BOOL oldNimErrFin18_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&s), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	nimZeroMem((void*)(&d), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	s = newWideCString__systemZwidestrs_396(source);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	d = newWideCString__systemZwidestrs_396(dest);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T2_ = (NI16*)0;
	T2_ = toWideCString__systemZwidestrs_151(s);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T3_ = (NI16*)0;
	T3_ = toWideCString__systemZwidestrs_151(d);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T4_ = (NI32)0;
	T4_ = Dl_1241514259_(T2_, T3_, ((NI32) 3));
	result = !((T4_ == ((NI32) 0)));
	{
		NI32 err;
		NIM_BOOL colontmp_;
		NIM_BOOL isAccessDeniedError;
		if (!!(result)) goto LA7_;
		err = osLastError__pureZos_503();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = isDir;
			{
				if (!!(colontmp_)) goto LA12_;
				goto LA9;
			}
			LA12_: ;
			colontmp_ = (err == ((NI32) 5));
		} LA9: ;
		isAccessDeniedError = colontmp_;
		{
			NimStringV2 colontmp__2;
			NimStringV2 colontmp__3;
			tyTuple__UV3llMMYFckfui8YMBuUZA T19_;
			if (!!(isAccessDeniedError)) goto LA16_;
			colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
			T19_.Field0 = source;
			T19_.Field1 = dest;
			colontmp__3 = dollar___pureZos_550(T19_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA18_;
			colontmp__2 = colontmp__3;
			raiseOSError__pureZos_500(err, colontmp__2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA18_;
			{
				LA18_:;
			}
			{
				oldNimErrFin18_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3226((&colontmp__2));
				*nimErr_ = oldNimErrFin18_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
		LA16_: ;
	}
	LA7_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___systemZwidestrs_386((&d));
		eqdestroy___systemZwidestrs_386((&s));
		eqdestroy___system_3226((&dest));
		eqdestroy___system_3226((&source));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, nosmoveFile)(NimStringV2 source, NimStringV2 dest) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = tryMoveFSObject__pureZos_1391(source, dest, NIM_FALSE);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		{
			if (!NIM_TRUE) goto LA8_;
			failedAssertImpl__systemZassertions_65(TM__yu6cxgKBBXbNsTkT9cyMd4g_124);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA8_: ;
	}
	LA4_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, noscopyDir)(NimStringV2 source, NimStringV2 dest) {
NIM_BOOL oldNimErrFin36_;
NIM_BOOL oldNimErrFin45_;
NIM_BOOL oldNimErrFin21_;
NIM_BOOL oldNimErrFin13_;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	noscreateDir(dest);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NimStringV2 path;
		NimStringV2 colontmp_;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg kind;
		tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA f;
		NI h;
		NimStringV2 colontmp__2;
		path.len = 0; path.p = NIM_NIL;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		kind = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		nimZeroMem((void*)(&f), sizeof(tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA));
		colontmp__2 = slash___pureZos_133(source, TM__yu6cxgKBBXbNsTkT9cyMd4g_125);
		if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		colontmp_ = colontmp__2;
		h = findFirstFile__pureZos_900(colontmp_, (&f));
		if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		{
			{
				if (!(h == ((NI) -1))) goto LA6_;
				{
					NI32 T12_;
					if (!NIM_FALSE) goto LA10_;
					T12_ = (NI32)0;
					T12_ = osLastError__pureZos_503();
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
					raiseOSError__pureZos_500(T12_, source);
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				}
				LA10_: ;
				goto LA3;
			}
			LA6_: ;
			{
				while (1) {
					tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k;
					k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
					{
						NIM_BOOL T18_;
						NimStringV2 colontmp__3;
						NimStringV2 noSource;
						tyTuple__UV3llMMYFckfui8YMBuUZA colontmp__4;
						NimStringV2 xx;
						tyTuple__UV3llMMYFckfui8YMBuUZA colontmp__7;
						T18_ = (NIM_BOOL)0;
						T18_ = skipFindData__pureZos_910((&f));
						if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						if (!!(T18_)) goto LA19_;
						colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
						noSource.len = 0; noSource.p = NIM_NIL;
						nimZeroMem((void*)(&colontmp__4), sizeof(tyTuple__UV3llMMYFckfui8YMBuUZA));
						{
							if (!!(((NI32)(f.dwFileAttributes & ((NI32) 16)) == ((NI32) 0)))) goto LA24_;
							k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
						}
						LA24_: ;
						{
							if (!!(((NI32)(f.dwFileAttributes & ((NI32) 1024)) == ((NI32) 0)))) goto LA28_;
							k = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)(k + ((NI) 1));
						}
						LA28_: ;
						xx.len = 0; xx.p = NIM_NIL;
						{
							NimStringV2 colontmp__5;
							NimStringV2 colontmp__6;
							NimStringV2 T37_;
							{
								NimStringV2 T35_;
								if (!NIM_FALSE) goto LA33_;
								T35_.len = 0; T35_.p = NIM_NIL;
								T35_ = dollar___systemZwidestrs_463(((NI16*) ((&f.cFileName[(((NI) 0))- 0]))));
								if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
								xx = nosextractFilename(T35_);
								if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
								goto LA30;
							}
							LA33_: ;
							colontmp__5.len = 0; colontmp__5.p = NIM_NIL;
							T37_.len = 0; T37_.p = NIM_NIL;
							T37_ = dollar___systemZwidestrs_463(((NI16*) ((&f.cFileName[(((NI) 0))- 0]))));
							if (NIM_UNLIKELY(*nimErr_)) goto LA36_;
							colontmp__6 = nosextractFilename(T37_);
							if (NIM_UNLIKELY(*nimErr_)) goto LA36_;
							colontmp__5 = colontmp__6;
							xx = slash___pureZos_133(source, colontmp__5);
							if (NIM_UNLIKELY(*nimErr_)) goto LA36_;
							{
								LA36_:;
							}
							{
								oldNimErrFin36_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3226((&colontmp__5));
								*nimErr_ = oldNimErrFin36_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
						} LA30: ;
						kind = k;
						eqsink___system_3232((&path), xx);
						colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
						eqcopy___system_3229((&colontmp__3), path);
						colontmp__7 = nossplitPath(colontmp__3);
						if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
						colontmp__4 = colontmp__7;
						noSource = colontmp__4.Field1;
						colontmp__4.Field1.len = 0; colontmp__4.Field1.p = NIM_NIL;
						{
							NimStringV2 colontmp__10;
							NimStringV2 T48_;
							{
								NimStringV2 colontmp__8;
								NimStringV2 colontmp__9;
								if (!(kind == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2))) goto LA43_;
								colontmp__8.len = 0; colontmp__8.p = NIM_NIL;
								colontmp__9 = slash___pureZos_133(dest, noSource);
								if (NIM_UNLIKELY(*nimErr_)) goto LA45_;
								colontmp__8 = colontmp__9;
								noscopyDir(path, colontmp__8);
								if (NIM_UNLIKELY(*nimErr_)) goto LA45_;
								eqdestroy___system_3226((&colontmp__8));
								goto LA40;
								{
									LA45_:;
								}
								{
									oldNimErrFin45_ = *nimErr_; *nimErr_ = NIM_FALSE;
									eqdestroy___system_3226((&colontmp__8));
									*nimErr_ = oldNimErrFin45_;
								}
								if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
							}
							LA43_: ;
							colontmp__10.len = 0; colontmp__10.p = NIM_NIL;
							colontmp__10 = path;
							path.len = 0; path.p = NIM_NIL;
							T48_.len = 0; T48_.p = NIM_NIL;
							T48_ = slash___pureZos_133(dest, noSource);
							if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
							noscopyFile(colontmp__10, T48_, 1);
							if (NIM_UNLIKELY(*nimErr_)) goto LA21_;
						} LA40: ;
						{
							LA21_:;
						}
						{
							oldNimErrFin21_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___pureZos_374((&colontmp__4));
							eqdestroy___system_3226((&noSource));
							*nimErr_ = oldNimErrFin21_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
					}
					LA19_: ;
					{
						NI32 T53_;
						NI32 errCode;
						T53_ = (NI32)0;
						T53_ = Dl_1241514237_(h, (&f));
						if (!(T53_ == ((NI32) 0))) goto LA54_;
						errCode = Dl_1241514154_();
						{
							{
								if (!(errCode == ((NI32) 18))) goto LA59_;
								goto LA14;
							}
							LA59_: ;
							raiseOSError__pureZos_500(errCode, TM__yu6cxgKBBXbNsTkT9cyMd4g_126);
							if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						}
					}
					LA54_: ;
				}
			} LA14: ;
			{
				LA13_:;
			}
			{
				oldNimErrFin13_ = *nimErr_; *nimErr_ = NIM_FALSE;
				Dl_1241514240_(h);
				*nimErr_ = oldNimErrFin13_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		} LA3: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3226((&colontmp_));
			eqdestroy___system_3226((&path));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, moveDir__pureZos_1835)(NimStringV2 source, NimStringV2 dest) {
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
	{
		NIM_BOOL T4_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		eqcopy___system_3229((&colontmp_), source);
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		eqcopy___system_3229((&colontmp__2), dest);
		T4_ = (NIM_BOOL)0;
		T4_ = tryMoveFSObject__pureZos_1391(colontmp_, colontmp__2, NIM_TRUE);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		noscopyDir(source, dest);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		nosremoveDir(source, NIM_FALSE);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3226((&dest));
		eqdestroy___system_3226((&source));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
