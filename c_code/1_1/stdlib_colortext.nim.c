/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg;
typedef struct tySequence__Ne89crNMegmBKbgTkhA6jfQ tySequence__Ne89crNMegmBKbgTkhA6jfQ;
typedef struct tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content;
typedef struct tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg;
typedef struct tyObject_ColRune__UMru8yrzFckBV788jSX9cAg tyObject_ColRune__UMru8yrzFckBV788jSX9cAg;
typedef struct tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ;
typedef struct tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA;
typedef struct tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ;
typedef struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA;
typedef struct tySequence__qwqHTkRvwhrRyENtudHQ7g tySequence__qwqHTkRvwhrRyENtudHQ7g;
typedef struct tySequence__qwqHTkRvwhrRyENtudHQ7g_Content tySequence__qwqHTkRvwhrRyENtudHQ7g_Content;
typedef struct tyObject_NimSeqV2__Q27im4NvCIX735oBXfroyA tyObject_NimSeqV2__Q27im4NvCIX735oBXfroyA;
typedef struct tyObject_NimSeqPayload__hKmcfrIyKucBh7ADIUKy1Q tyObject_NimSeqPayload__hKmcfrIyKucBh7ADIUKy1Q;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tySequence__Ne89crNMegmBKbgTkhA6jfQ {
  NI len; tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content* p;
};
struct tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg {
tySequence__Ne89crNMegmBKbgTkhA6jfQ runes;
};
typedef NU16 tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA;
struct tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg {
NU8 fg;
NU8 bg;
tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA style;
};
typedef NU8 tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg;
typedef NU8 tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA;
struct tyObject_ColRune__UMru8yrzFckBV788jSX9cAg {
NI32 rune;
tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style;
};
typedef NU8 tyEnum_Style__NXKayqTLMsAibFwNceBlpA;
struct tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ {
NI len;
tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA* p;
};
struct tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA {
NI cap;
tyObject_ColRune__UMru8yrzFckBV788jSX9cAg data[SEQ_DECL_SIZE];
};
typedef NU8 tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg;
struct tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ {
tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg kind;
union{
struct {NimStringV2 text;
} _kind_1;
struct {NI idx;
} _kind_2;
};
};
struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA {
NI a;
NI b;
};
struct tySequence__qwqHTkRvwhrRyENtudHQ7g {
  NI len; tySequence__qwqHTkRvwhrRyENtudHQ7g_Content* p;
};
struct tyObject_NimSeqV2__Q27im4NvCIX735oBXfroyA {
NI len;
tyObject_NimSeqPayload__hKmcfrIyKucBh7ADIUKy1Q* p;
};
struct tyObject_NimSeqPayload__hKmcfrIyKucBh7ADIUKy1Q {
NI cap;
NI data[SEQ_DECL_SIZE];
};


#ifndef tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content_PP
#define tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content_PP
struct tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content { NI cap; tyObject_ColRune__UMru8yrzFckBV788jSX9cAg data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content_PP
#define tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content_PP
struct tySequence__Ne89crNMegmBKbgTkhA6jfQ_Content { NI cap; tyObject_ColRune__UMru8yrzFckBV788jSX9cAg data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__qwqHTkRvwhrRyENtudHQ7g_Content_PP
#define tySequence__qwqHTkRvwhrRyENtudHQ7g_Content_PP
struct tySequence__qwqHTkRvwhrRyENtudHQ7g_Content { NI cap; NI data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(NimStringV2, toString__experimentalZcolortext_1358)(tySequence__Ne89crNMegmBKbgTkhA6jfQ runes, NIM_BOOL color);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, initColStyle__experimentalZcolortext_336)(tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg fg, tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA bg, tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA style);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
N_LIB_PRIVATE N_NIMCALL(NU8, termColor__experimentalZcolortext_307)(tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg bg);
N_LIB_PRIVATE N_NIMCALL(NU8, termColor__experimentalZcolortext_296)(tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA bg);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiDiff__experimentalZcolortext_1216)(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg s1, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg s2);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___experimentalZcolortext_271)(NU8 a, NU8 b);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDefault__experimentalZcolortext_410)(NU8 col);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1188)(NI code);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_3)(NI x);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3226)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s, NI addlen);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1164)(NU8 col);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1167)(NU8 code);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_9)(NU64 x);
N_LIB_PRIVATE N_NIMCALL(NU8, code__experimentalZcolortext_1146)(NU8 col);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___experimentalZcolortext_277)(NU8 a, NU8 b);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDefault__experimentalZcolortext_414)(NU8 col);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1174)(NU8 col);
N_LIB_PRIVATE N_NIMCALL(NU8, code__experimentalZcolortext_1153)(NU8 col);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1183)(tyEnum_Style__NXKayqTLMsAibFwNceBlpA style, NIM_BOOL open);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___pureZunicode_597)(NI32 rune);
static N_INLINE(NI, countBits32)(NU32 n);
static N_INLINE(NI, countSetBitsImpl__systemZcountbits95impl_26)(NU32 x);
N_CDECL(int, __builtin_popcount)(unsigned int x);
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_702)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* x, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg* y, NI yLen_0);
N_LIB_PRIVATE N_NIMCALL(void, setLen__experimentalZcolortext_166)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* s, NI newlen);
N_LIB_PRIVATE N_NIMCALL(void, shrink__experimentalZcolortext_173)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* x, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void*, prepareSeqAdd)(NI len, void* p, NI addlen, NI elemSize, NI elemAlign);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, toColText__experimentalZcolortext_444)(NimStringV2 text, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style);
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_453)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* text, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg rune);
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_457)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* x, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg value);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, toColRune__experimentalZcolortext_428)(NI32 rune, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, colStyle__experimentalZcolortext_383)(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___experimentalZcolortext_150)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* dest);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p, NI align);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, alignRight__experimentalZcolortext_758)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg text, NI length, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg padding);
N_LIB_PRIVATE N_NIMCALL(NI, len__experimentalZcolortext_106)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg text);
N_LIB_PRIVATE N_NIMCALL(tySequence__Ne89crNMegmBKbgTkhA6jfQ, repeat__experimentalZcolortext_676)(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg x, NI n);
N_LIB_PRIVATE N_NIMCALL(tySequence__Ne89crNMegmBKbgTkhA6jfQ, newSeq__experimentalZcolortext_681)(NI len);
N_LIB_PRIVATE N_NIMCALL(void, newSeq__experimentalZcolortext_685)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* s, NI len);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, clr__experimentalZcolortext_644)(NIM_CHAR ch);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, plus___experimentalZcolortext_639)(NIM_CHAR ch, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, default__experimentalZcolortext_446)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___experimentalZcolortext_590)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* dest);
static N_INLINE(void, add__experimentalZcolortext_861)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg rune);
N_LIB_PRIVATE N_NIMCALL(void, addf__experimentalZcolortext_1850)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* text, NimStringV2 formatstr, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, NI coloredLen_0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7605)(NimStringV2 s, NI first, NI last);
N_LIB_PRIVATE N_NOINLINE(void, invalidFormatString__pureZstrutils_2262)(NimStringV2 explain);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nimCharToStr)(NIM_CHAR x);
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___pureZunicode_935)(NI a, NI b);
static N_INLINE(NimStringV2, X5BX5D___pureZunicode_963)(NimStringV2 s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, mnewString)(NI len);
N_NIMCALL(NimStringV2, mnewString)(NI len);
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, nimPrepareStrMutationImpl__system_2314)(NimStringV2* s);
static N_INLINE(void, add__experimentalZcolortext_1855)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, NimStringV2 ch);
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_847)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg other);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, plus___experimentalZcolortext_628)(NimStringV2 text, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZstrutils_2393)(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ* dest);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, clt__experimentalZcolortext_622)(NimStringV2 str);
N_LIB_PRIVATE N_NIMCALL(void, shrink__experimentalZcolortext_1741)(tySequence__qwqHTkRvwhrRyENtudHQ7g* x, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void, setLen__experimentalZcolortext_1734)(tySequence__qwqHTkRvwhrRyENtudHQ7g* s, NI newlen);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isNewline__experimentalZcolortext_654)(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg rune);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___pureZunicode_1006)(NI32 a, NI32 b);
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_854)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, tySequence__Ne89crNMegmBKbgTkhA6jfQ other);
N_LIB_PRIVATE N_NIMCALL(void, newline__experimentalZcolortext_799)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* text);
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, plus___experimentalZcolortext_808)(NI32 r, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style);
N_LIB_PRIVATE N_NIMCALL(NI32, uc__experimentalZcolortext_801)(void);
N_LIB_PRIVATE N_NIMCALL(NI32, runeAt__pureZunicode_95)(NimStringV2 s, NI i);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___experimentalZcolortext_1718)(tySequence__qwqHTkRvwhrRyENtudHQ7g* dest);
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_2 = { 2 | NIM_STRLIT_FLAG, "\033[" };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_3 = {2, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_2};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_4 = { 1 | NIM_STRLIT_FLAG, "m" };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_5 = {1, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_4};
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_6 = {2, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_2};
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_7 = {1, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_4};
static const struct {
  NI cap; NIM_CHAR data[7+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_8 = { 7 | NIM_STRLIT_FLAG, "\033[38;5;" };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_9 = {7, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_8};
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_10 = {1, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_4};
static const struct {
  NI cap; NIM_CHAR data[7+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_11 = { 7 | NIM_STRLIT_FLAG, "\033[48;5;" };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_12 = {7, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_11};
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_13 = {1, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_4};
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_14 = { 26 | NIM_STRLIT_FLAG, "unexpected char after $ - " };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_15 = {26, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_14};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_16 = { 1 | NIM_STRLIT_FLAG, "$" };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_17 = {1, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_16};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__07OS5C6j9bZgIflcWN9cYz9ag_18 = { 1 | NIM_STRLIT_FLAG, "\012" };
static const NimStringV2 TM__07OS5C6j9bZgIflcWN9cYz9ag_19 = {1, (NimStrPayload*)&TM__07OS5C6j9bZgIflcWN9cYz9ag_18};
extern NIM_BOOL nimInErrorMode__system_4174;
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
}
N_LIB_PRIVATE N_NIMCALL(NU8, termColor__experimentalZcolortext_307)(tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg bg) {
	NU8 result;
	result = (NU8)0;
	{
		if (!!((bg == ((tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg) 39)))) goto LA3_;
		result = (NU8)((NU8)(((NU8) (bg))) - (NU8)(((NU8) 30)));
	}
	LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NU8, termColor__experimentalZcolortext_296)(tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA bg) {
	NU8 result;
	result = (NU8)0;
	{
		if (!!((bg == ((tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA) 49)))) goto LA3_;
		result = (NU8)((NU8)(((NU8) (bg))) - (NU8)(((NU8) 40)));
	}
	LA3_: ;
	return result;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, initColStyle__experimentalZcolortext_336)(tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg fg, tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA bg, tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA style) {
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	result.fg = termColor__experimentalZcolortext_307(fg);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result.bg = termColor__experimentalZcolortext_296(bg);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result.style = style;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___experimentalZcolortext_271)(NU8 a, NU8 b) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	result = (a == b);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDefault__experimentalZcolortext_410)(NU8 col) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	result = (col == ((NU8) 0));
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1708(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1188)(NI code) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	T1_.len = 0; T1_.p = NIM_NIL;
	colontmp_ = dollar___systemZdollars_3(code);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = rawNewString(colontmp_.len + 3);
appendString((&T1_), TM__07OS5C6j9bZgIflcWN9cYz9ag_3);
appendString((&T1_), colontmp_);
appendString((&T1_), TM__07OS5C6j9bZgIflcWN9cYz9ag_5);
	result = T1_;
	eqdestroy___system_3226((&colontmp_));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1167)(NU8 code) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	T1_.len = 0; T1_.p = NIM_NIL;
	colontmp_ = dollar___systemZdollars_9(((NU64) (code)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = rawNewString(colontmp_.len + 3);
appendString((&T1_), TM__07OS5C6j9bZgIflcWN9cYz9ag_6);
appendString((&T1_), colontmp_);
appendString((&T1_), TM__07OS5C6j9bZgIflcWN9cYz9ag_7);
	result = T1_;
	eqdestroy___system_3226((&colontmp_));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NU8, code__experimentalZcolortext_1146)(NU8 col) {
	NU8 result;
	result = (NU8)0;
	result = (NU8)((NU8)(col) + (NU8)(((NU8) 30)));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1164)(NU8 col) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NimStringV2 colontmp_;
		NimStringV2 T12_;
		{
			NU8 T6_;
			if (!((NU8)(col) <= (NU8)(((NU8) 7)))) goto LA4_;
			T6_ = (NU8)0;
			T6_ = code__experimentalZcolortext_1146(col);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result = ansiEsc__experimentalZcolortext_1167(T6_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA4_: ;
		{
			NU8 T11_;
			if (!((NU8)(col) <= (NU8)(((NU8) 15)))) goto LA9_;
			T11_ = (NU8)0;
			T11_ = code__experimentalZcolortext_1146(col);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result = ansiEsc__experimentalZcolortext_1167((NU8)((NU8)(T11_) + (NU8)(((NU8) 60))));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA9_: ;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T12_.len = 0; T12_.p = NIM_NIL;
		colontmp_ = dollar___systemZdollars_9(((NU64) (col)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T12_ = rawNewString(colontmp_.len + 8);
appendString((&T12_), TM__07OS5C6j9bZgIflcWN9cYz9ag_9);
appendString((&T12_), colontmp_);
appendString((&T12_), TM__07OS5C6j9bZgIflcWN9cYz9ag_10);
		result = T12_;
		eqdestroy___system_3226((&colontmp_));
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___experimentalZcolortext_277)(NU8 a, NU8 b) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	result = (a == b);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDefault__experimentalZcolortext_414)(NU8 col) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	result = (col == ((NU8) 0));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NU8, code__experimentalZcolortext_1153)(NU8 col) {
	NU8 result;
	result = (NU8)0;
	result = (NU8)((NU8)(col) + (NU8)(((NU8) 40)));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1174)(NU8 col) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NimStringV2 colontmp_;
		NimStringV2 T12_;
		{
			NU8 T6_;
			if (!((NU8)(col) <= (NU8)(((NU8) 7)))) goto LA4_;
			T6_ = (NU8)0;
			T6_ = code__experimentalZcolortext_1153(col);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result = ansiEsc__experimentalZcolortext_1167(T6_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA4_: ;
		{
			NU8 T11_;
			if (!((NU8)(col) <= (NU8)(((NU8) 15)))) goto LA9_;
			T11_ = (NU8)0;
			T11_ = code__experimentalZcolortext_1153(col);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result = ansiEsc__experimentalZcolortext_1167((NU8)((NU8)(T11_) + (NU8)(((NU8) 60))));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA9_: ;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T12_.len = 0; T12_.p = NIM_NIL;
		colontmp_ = dollar___systemZdollars_9(((NU64) (col)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T12_ = rawNewString(colontmp_.len + 8);
appendString((&T12_), TM__07OS5C6j9bZgIflcWN9cYz9ag_12);
appendString((&T12_), colontmp_);
appendString((&T12_), TM__07OS5C6j9bZgIflcWN9cYz9ag_13);
		result = T12_;
		eqdestroy___system_3226((&colontmp_));
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiEsc__experimentalZcolortext_1183)(tyEnum_Style__NXKayqTLMsAibFwNceBlpA style, NIM_BOOL open) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NI colontmp__2;
	NI diff;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2 = (NI)0;
	{
		{
			if (!open) goto LA4_;
			colontmp__2 = ((NI) 0);
			goto LA1;
		}
		LA4_: ;
		colontmp__2 = ((NI) 20);
	} LA1: ;
	diff = colontmp__2;
	switch (style) {
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 1):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 1) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 2):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 2) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 3):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 3) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 4):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 4) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 5):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 5) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 6):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 6) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 7):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 7) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 8):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 8) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	case ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) 9):
	{
		colontmp_ = ansiEsc__experimentalZcolortext_1188((NI)(((NI) 9) + diff));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	break;
	}
	result = colontmp_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ansiDiff__experimentalZcolortext_1216)(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg s1, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg s2) {
	NimStringV2 result;
NIM_BOOL oldNimErrFin12_;
NIM_BOOL oldNimErrFin26_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = eqeq___experimentalZcolortext_271(s2.fg, s1.fg);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		{
			NimStringV2 colontmp__3;
			{
				NIM_BOOL T9_;
				NimStringV2 colontmp_;
				NimStringV2 colontmp__2;
				T9_ = (NIM_BOOL)0;
				T9_ = isDefault__experimentalZcolortext_410(s2.fg);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				if (!T9_) goto LA10_;
				colontmp_.len = 0; colontmp_.p = NIM_NIL;
				colontmp__2 = ansiEsc__experimentalZcolortext_1188(((NI) 39));
				if (NIM_UNLIKELY(*nimErr_)) goto LA12_;
				colontmp_ = colontmp__2;
				prepareAdd((&result), colontmp_.len + 0);
appendString((&result), colontmp_);
				eqdestroy___system_3226((&colontmp_));
				goto LA6;
				{
					LA12_:;
				}
				{
					oldNimErrFin12_ = *nimErr_; *nimErr_ = NIM_FALSE;
					eqdestroy___system_3226((&colontmp_));
					*nimErr_ = oldNimErrFin12_;
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			LA10_: ;
			colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
			colontmp__3 = ansiEsc__experimentalZcolortext_1164(s2.fg);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			prepareAdd((&result), colontmp__3.len + 0);
appendString((&result), colontmp__3);
			eqdestroy___system_3226((&colontmp__3));
		} LA6: ;
	}
	LA4_: ;
	{
		NIM_BOOL T17_;
		T17_ = (NIM_BOOL)0;
		T17_ = eqeq___experimentalZcolortext_277(s2.bg, s1.bg);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T17_)) goto LA18_;
		{
			NimStringV2 colontmp__6;
			{
				NIM_BOOL T23_;
				NimStringV2 colontmp__4;
				NimStringV2 colontmp__5;
				T23_ = (NIM_BOOL)0;
				T23_ = isDefault__experimentalZcolortext_414(s2.bg);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				if (!T23_) goto LA24_;
				colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
				colontmp__5 = ansiEsc__experimentalZcolortext_1188(((NI) 49));
				if (NIM_UNLIKELY(*nimErr_)) goto LA26_;
				colontmp__4 = colontmp__5;
				prepareAdd((&result), colontmp__4.len + 0);
appendString((&result), colontmp__4);
				eqdestroy___system_3226((&colontmp__4));
				goto LA20;
				{
					LA26_:;
				}
				{
					oldNimErrFin26_ = *nimErr_; *nimErr_ = NIM_FALSE;
					eqdestroy___system_3226((&colontmp__4));
					*nimErr_ = oldNimErrFin26_;
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			LA24_: ;
			colontmp__6.len = 0; colontmp__6.p = NIM_NIL;
			colontmp__6 = ansiEsc__experimentalZcolortext_1174(s2.bg);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			prepareAdd((&result), colontmp__6.len + 0);
appendString((&result), colontmp__6);
			eqdestroy___system_3226((&colontmp__6));
		} LA20: ;
	}
	LA18_: ;
	{
		tyEnum_Style__NXKayqTLMsAibFwNceBlpA style;
		tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA colontmp__7;
		NI i;
		style = (tyEnum_Style__NXKayqTLMsAibFwNceBlpA)0;
		nimZeroMem((void*)(&colontmp__7), sizeof(tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA));
		colontmp__7 = (s1.style & ~ s2.style);
		i = ((NI) 1);
		{
			while (1) {
				{
					if (!!((i <= ((NI) 9)))) goto LA34_;
					goto LA31;
				}
				LA34_: ;
				{
					NimStringV2 colontmp__8;
					if (!((colontmp__7 &((NU16)1<<((NU)((((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) (i))- 1))&15U)))!=0)) goto LA38_;
					colontmp__8.len = 0; colontmp__8.p = NIM_NIL;
					style = ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) (i));
					colontmp__8 = ansiEsc__experimentalZcolortext_1183(style, NIM_FALSE);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					prepareAdd((&result), colontmp__8.len + 0);
appendString((&result), colontmp__8);
					eqdestroy___system_3226((&colontmp__8));
				}
				LA38_: ;
				i += ((NI) 1);
			} LA31: ;
		}
	}
	{
		tyEnum_Style__NXKayqTLMsAibFwNceBlpA style_2;
		tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA colontmp__9;
		NI i_2;
		style_2 = (tyEnum_Style__NXKayqTLMsAibFwNceBlpA)0;
		nimZeroMem((void*)(&colontmp__9), sizeof(tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA));
		colontmp__9 = (s2.style & ~ s1.style);
		i_2 = ((NI) 1);
		{
			while (1) {
				{
					if (!!((i_2 <= ((NI) 9)))) goto LA45_;
					goto LA42;
				}
				LA45_: ;
				{
					NimStringV2 colontmp__10;
					if (!((colontmp__9 &((NU16)1<<((NU)((((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) (i_2))- 1))&15U)))!=0)) goto LA49_;
					colontmp__10.len = 0; colontmp__10.p = NIM_NIL;
					style_2 = ((tyEnum_Style__NXKayqTLMsAibFwNceBlpA) (i_2));
					colontmp__10 = ansiEsc__experimentalZcolortext_1183(style_2, NIM_TRUE);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					prepareAdd((&result), colontmp__10.len + 0);
appendString((&result), colontmp__10);
					eqdestroy___system_3226((&colontmp__10));
				}
				LA49_: ;
				i_2 += ((NI) 1);
			} LA42: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, countSetBitsImpl__systemZcountbits95impl_26)(NU32 x) {
	NI result;
	int T1_;
	result = (NI)0;
	T1_ = (int)0;
	T1_ = __builtin_popcount(x);
	result = ((NI) (T1_));
	return result;
}
static N_INLINE(NI, countBits32)(NU32 n) {
	NI result;
	result = (NI)0;
	result = countSetBitsImpl__systemZcountbits95impl_26(n);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toString__experimentalZcolortext_1358)(tySequence__Ne89crNMegmBKbgTkhA6jfQ runes, NIM_BOOL color) {
	NimStringV2 result;
NIM_BOOL oldNimErrFin15_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		{
			NIM_BOOL colontmp_;
			tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg prev;
			tySet_tyEnum_Style__NXKayqTLMsAibFwNceBlpA T6_;
			NIM_BOOL colontmp__6;
			if (!color) goto LA4_;
			colontmp_ = (NIM_BOOL)0;
			T6_ = 0;
			prev = initColStyle__experimentalZcolortext_336(((tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg) 39), ((tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA) 49), T6_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				tyObject_ColRune__UMru8yrzFckBV788jSX9cAg* rune;
				NI i;
				NI L;
				NI T8_;
				rune = (tyObject_ColRune__UMru8yrzFckBV788jSX9cAg*)0;
				i = ((NI) 0);
				T8_ = runes.len;
				L = T8_;
				{
					while (1) {
						NimStringV2 colontmp__2;
						NimStringV2 colontmp__3;
						NimStringV2 colontmp__4;
						NimStringV2 colontmp__5;
						{
							if (!!((i < L))) goto LA13_;
							goto LA10;
						}
						LA13_: ;
						colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
						colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
						rune = (&runes.p->data[i]);
						colontmp__4 = ansiDiff__experimentalZcolortext_1216(prev, (*rune).style);
						if (NIM_UNLIKELY(*nimErr_)) goto LA15_;
						colontmp__2 = colontmp__4;
						prepareAdd((&result), colontmp__2.len + 0);
appendString((&result), colontmp__2);
						colontmp__5 = dollar___pureZunicode_597((*rune).rune);
						if (NIM_UNLIKELY(*nimErr_)) goto LA15_;
						colontmp__3 = colontmp__5;
						prepareAdd((&result), colontmp__3.len + 0);
appendString((&result), colontmp__3);
						prev = (*rune).style;
						i += ((NI) 1);
						{
							LA15_:;
						}
						{
							oldNimErrFin15_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3226((&colontmp__3));
							eqdestroy___system_3226((&colontmp__2));
							*nimErr_ = oldNimErrFin15_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					} LA10: ;
				}
			}
			colontmp__6 = (NIM_BOOL)0;
			{
				{
					NIM_BOOL T20_;
					NIM_BOOL T25_;
					T20_ = (NIM_BOOL)0;
					T20_ = isDefault__experimentalZcolortext_410(prev.fg);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					colontmp_ = !(T20_);
					{
						if (!colontmp_) goto LA23_;
						goto LA19;
					}
					LA23_: ;
					T25_ = (NIM_BOOL)0;
					T25_ = isDefault__experimentalZcolortext_414(prev.bg);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					colontmp_ = !(T25_);
				} LA19: ;
				colontmp__6 = colontmp_;
				{
					if (!colontmp__6) goto LA28_;
					goto LA18;
				}
				LA28_: ;
				colontmp__6 = (((NI) 0) < countBits32(prev.style));
			} LA18: ;
			{
				NimStringV2 colontmp__7;
				if (!colontmp__6) goto LA32_;
				colontmp__7.len = 0; colontmp__7.p = NIM_NIL;
				colontmp__7 = ansiEsc__experimentalZcolortext_1188(((NI) 0));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				prepareAdd((&result), colontmp__7.len + 0);
appendString((&result), colontmp__7);
				eqdestroy___system_3226((&colontmp__7));
			}
			LA32_: ;
			goto LA1;
		}
		LA4_: ;
		{
			tyObject_ColRune__UMru8yrzFckBV788jSX9cAg* rune_2;
			NI i_2;
			NI L_2;
			NI T35_;
			rune_2 = (tyObject_ColRune__UMru8yrzFckBV788jSX9cAg*)0;
			i_2 = ((NI) 0);
			T35_ = runes.len;
			L_2 = T35_;
			{
				while (1) {
					NimStringV2 colontmp__8;
					{
						if (!!((i_2 < L_2))) goto LA40_;
						goto LA37;
					}
					LA40_: ;
					colontmp__8.len = 0; colontmp__8.p = NIM_NIL;
					rune_2 = (&runes.p->data[i_2]);
					colontmp__8 = dollar___pureZunicode_597((*rune_2).rune);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					prepareAdd((&result), colontmp__8.len + 0);
appendString((&result), colontmp__8);
					i_2 += ((NI) 1);
					eqdestroy___system_3226((&colontmp__8));
				} LA37: ;
			}
		}
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___experimentalZcolortext_1398)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg text) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = toString__experimentalZcolortext_1358(text.runes, NIM_TRUE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, shrink__experimentalZcolortext_173)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* x, NI newLen) {
	(*((tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ*) (x))).len = ((NI) (newLen));
}
N_LIB_PRIVATE N_NIMCALL(void, setLen__experimentalZcolortext_166)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* s, NI newlen) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI oldLen;
		NI T7_;
		tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ* xu;
		NIM_BOOL colontmp_;
		{
			NI T4_;
			T4_ = (*s).len;
			if (!(((NI) (newlen)) < T4_)) goto LA5_;
			shrink__experimentalZcolortext_173(s, newlen);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA5_: ;
		T7_ = (*s).len;
		oldLen = T7_;
		{
			if (!(((NI) (newlen)) <= oldLen)) goto LA10_;
			goto BeforeRet_;
		}
		LA10_: ;
		xu = ((tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ*) (s));
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = ((*xu).p == ((tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA*) NIM_NIL));
			{
				if (!colontmp_) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			colontmp_ = ((*(*xu).p).cap < ((NI) (newlen)));
		} LA12: ;
		{
			void* T21_;
			if (!colontmp_) goto LA19_;
			T21_ = (void*)0;
			T21_ = prepareSeqAdd(oldLen, ((void*) ((*xu).p)), (NI)(((NI) (newlen)) - oldLen), ((NI) 8), ((NI) 4));
			(*xu).p = ((tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA*) (T21_));
		}
		LA19_: ;
		(*xu).len = ((NI) (newlen));
	} LA1: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_702)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* x, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg* y, NI yLen_0) {
	NI xl;
	NI T1_;
	T1_ = (*x).len;
	xl = T1_;
	setLen__experimentalZcolortext_166(x, ((NI) ((NI)(xl + yLen_0))));
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (yLen_0-1);
		res = ((NI) 0);
		{
			while (1) {
				{
					if (!!((res <= colontmp_))) goto LA7_;
					goto LA4;
				}
				LA7_: ;
				i = res;
				(*x).p->data[(NI)(xl + i)] = y[i];
				res += ((NI) 1);
			} LA4: ;
		}
	}
}
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_847)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg other) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	add__experimentalZcolortext_702((&(*colored).runes), other.runes.p->data, other.runes.len);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_457)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* x, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg value) {
	NI oldLen;
	NI T1_;
	tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ* xu;
	NIM_BOOL colontmp_;
	T1_ = (*x).len;
	oldLen = T1_;
	xu = ((tyObject_NimSeqV2__rGB7hEJRwIh6Cugw7Mw3gQ*) (x));
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = ((*xu).p == ((tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA*) NIM_NIL));
		{
			if (!colontmp_) goto LA5_;
			goto LA2;
		}
		LA5_: ;
		colontmp_ = ((*(*xu).p).cap < (NI)(oldLen + ((NI) 1)));
	} LA2: ;
	{
		void* T11_;
		if (!colontmp_) goto LA9_;
		T11_ = (void*)0;
		T11_ = prepareSeqAdd(oldLen, ((void*) ((*xu).p)), ((NI) 1), ((NI) 8), ((NI) 4));
		(*xu).p = ((tyObject_NimSeqPayload__XVVJmJyxVBTBD9bGkQpZYtA*) (T11_));
	}
	LA9_: ;
	(*xu).len = (NI)(oldLen + ((NI) 1));
	(*(*xu).p).data[oldLen] = value;
}
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_453)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* text, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg rune) {
	add__experimentalZcolortext_457((&(*text).runes), rune);
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, toColRune__experimentalZcolortext_428)(NI32 rune, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style) {
	tyObject_ColRune__UMru8yrzFckBV788jSX9cAg result;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg));
	nimZeroMem((void*)(&result), sizeof(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg));
	result.rune = rune;
	result.style = style;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, toColText__experimentalZcolortext_444)(NimStringV2 text, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	{
		NI32 rune;
		NI i;
		NI32 result_2;
		rune = (NI32)0;
		i = ((NI) 0);
		result_2 = (NI32)0;
		{
			while (1) {
				tyObject_ColRune__UMru8yrzFckBV788jSX9cAg T58_;
				{
					if (!!((i < text.len))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				{
					{
						if (!((NU32)(((NU) (((NU8)(text.p->data[i]))))) <= (NU32)(((NU) 127)))) goto LA11_;
						result_2 = ((NI32) (((NU) (((NU8)(text.p->data[i]))))));
						i += ((NI) 1);
						goto LA8;
					}
					LA11_: ;
					{
						if (!((NU)((NU32)(((NU) (((NU8)(text.p->data[i]))))) >> (NU32)(((NI) 5))) == ((NU) 6))) goto LA15_;
						{
							{
								if (!(i <= (NI)(text.len - ((NI) 2)))) goto LA20_;
								result_2 = ((NI32) ((NU)((NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[i])))) & ((NU) 31))) << (NU32)(((NI) 6))) | (NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 1))])))) & ((NU) 63)))));
								i += ((NI) 2);
								goto LA17;
							}
							LA20_: ;
							result_2 = ((NI32) 65533);
							i += ((NI) 1);
						} LA17: ;
						goto LA8;
					}
					LA15_: ;
					{
						if (!((NU)((NU32)(((NU) (((NU8)(text.p->data[i]))))) >> (NU32)(((NI) 4))) == ((NU) 14))) goto LA24_;
						{
							{
								if (!(i <= (NI)(text.len - ((NI) 3)))) goto LA29_;
								result_2 = ((NI32) ((NU)((NU)((NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[i])))) & ((NU) 15))) << (NU32)(((NI) 12))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 1))])))) & ((NU) 63))) << (NU32)(((NI) 6)))) | (NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 2))])))) & ((NU) 63)))));
								i += ((NI) 3);
								goto LA26;
							}
							LA29_: ;
							result_2 = ((NI32) 65533);
							i += ((NI) 1);
						} LA26: ;
						goto LA8;
					}
					LA24_: ;
					{
						if (!((NU)((NU32)(((NU) (((NU8)(text.p->data[i]))))) >> (NU32)(((NI) 3))) == ((NU) 30))) goto LA33_;
						{
							{
								if (!(i <= (NI)(text.len - ((NI) 4)))) goto LA38_;
								result_2 = ((NI32) ((NU)((NU)((NU)((NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[i])))) & ((NU) 7))) << (NU32)(((NI) 18))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 1))])))) & ((NU) 63))) << (NU32)(((NI) 12)))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 2))])))) & ((NU) 63))) << (NU32)(((NI) 6)))) | (NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 3))])))) & ((NU) 63)))));
								i += ((NI) 4);
								goto LA35;
							}
							LA38_: ;
							result_2 = ((NI32) 65533);
							i += ((NI) 1);
						} LA35: ;
						goto LA8;
					}
					LA33_: ;
					{
						if (!((NU)((NU32)(((NU) (((NU8)(text.p->data[i]))))) >> (NU32)(((NI) 2))) == ((NU) 62))) goto LA42_;
						{
							{
								if (!(i <= (NI)(text.len - ((NI) 5)))) goto LA47_;
								result_2 = ((NI32) ((NU)((NU)((NU)((NU)((NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[i])))) & ((NU) 3))) << (NU32)(((NI) 24))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 1))])))) & ((NU) 63))) << (NU32)(((NI) 18)))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 2))])))) & ((NU) 63))) << (NU32)(((NI) 12)))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 3))])))) & ((NU) 63))) << (NU32)(((NI) 6)))) | (NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 4))])))) & ((NU) 63)))));
								i += ((NI) 5);
								goto LA44;
							}
							LA47_: ;
							result_2 = ((NI32) 65533);
							i += ((NI) 1);
						} LA44: ;
						goto LA8;
					}
					LA42_: ;
					{
						if (!((NU)((NU32)(((NU) (((NU8)(text.p->data[i]))))) >> (NU32)(((NI) 1))) == ((NU) 126))) goto LA51_;
						{
							{
								if (!(i <= (NI)(text.len - ((NI) 6)))) goto LA56_;
								result_2 = ((NI32) ((NU)((NU)((NU)((NU)((NU)((NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[i])))) & ((NU) 1))) << (NU32)(((NI) 30))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 1))])))) & ((NU) 63))) << (NU32)(((NI) 24)))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 2))])))) & ((NU) 63))) << (NU32)(((NI) 18)))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 3))])))) & ((NU) 63))) << (NU32)(((NI) 12)))) | (NU)((NU32)((NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 4))])))) & ((NU) 63))) << (NU32)(((NI) 6)))) | (NU)(((NU) (((NU8)(text.p->data[(NI)(i + ((NI) 5))])))) & ((NU) 63)))));
								i += ((NI) 6);
								goto LA53;
							}
							LA56_: ;
							result_2 = ((NI32) 65533);
							i += ((NI) 1);
						} LA53: ;
						goto LA8;
					}
					LA51_: ;
					result_2 = ((NI32) (((NU) (((NU8)(text.p->data[i]))))));
					i += ((NI) 1);
				} LA8: ;
				rune = result_2;
				T58_ = toColRune__experimentalZcolortext_428(rune, style);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				add__experimentalZcolortext_453((&result), T58_);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, colStyle__experimentalZcolortext_383)(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style) {
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg result;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	result = style;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, plus___experimentalZcolortext_628)(NimStringV2 text, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	T1_ = colStyle__experimentalZcolortext_383(style);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = toColText__experimentalZcolortext_444(text, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, default__experimentalZcolortext_446)(void) {
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	result.fg = termColor__experimentalZcolortext_307(((tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg) 39));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result.bg = termColor__experimentalZcolortext_296(((tyEnum_BackgroundColor__7jPyx0xRLWzxER9cSeCOA9bA) 49));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___experimentalZcolortext_150)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* dest) {
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg));
}
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___experimentalZcolortext_590)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* dest) {
	eqdestroy___experimentalZcolortext_150((&(*dest).runes));
}
N_LIB_PRIVATE N_NIMCALL(NI, len__experimentalZcolortext_106)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg text) {
	NI result;
	NI T1_;
	result = (NI)0;
	T1_ = text.runes.len;
	result = T1_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, newSeq__experimentalZcolortext_685)(tySequence__Ne89crNMegmBKbgTkhA6jfQ* s, NI len) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	shrink__experimentalZcolortext_173(s, ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	setLen__experimentalZcolortext_166(s, len);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__Ne89crNMegmBKbgTkhA6jfQ, newSeq__experimentalZcolortext_681)(NI len) {
	tySequence__Ne89crNMegmBKbgTkhA6jfQ result;
	result.len = 0; result.p = NIM_NIL;
	newSeq__experimentalZcolortext_685((&result), len);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__Ne89crNMegmBKbgTkhA6jfQ, repeat__experimentalZcolortext_676)(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg x, NI n) {
	tySequence__Ne89crNMegmBKbgTkhA6jfQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = newSeq__experimentalZcolortext_681(n);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI i;
		NI colontmp_;
		NI i_2;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = ((NI) (n));
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = i_2;
				result.p->data[i] = x;
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, alignRight__experimentalZcolortext_758)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg text, NI length, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg padding) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
NIM_BOOL oldNimErrFin6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	{
		NI T3_;
		tySequence__Ne89crNMegmBKbgTkhA6jfQ colontmp_;
		tySequence__Ne89crNMegmBKbgTkhA6jfQ colontmp__2;
		NI T7_;
		T3_ = (NI)0;
		T3_ = len__experimentalZcolortext_106(text);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!(T3_ < length)) goto LA4_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T7_ = (NI)0;
		T7_ = len__experimentalZcolortext_106(text);
		if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
		colontmp__2 = repeat__experimentalZcolortext_676(padding, ((NI) ((NI)(length - T7_))));
		if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
		colontmp_ = colontmp__2;
		add__experimentalZcolortext_702((&result.runes), colontmp_.p->data, colontmp_.len);
		if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
		{
			LA6_:;
		}
		{
			oldNimErrFin6_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___experimentalZcolortext_150((&colontmp_));
			*nimErr_ = oldNimErrFin6_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA4_: ;
	add__experimentalZcolortext_702((&result.runes), text.runes.p->data, text.runes.len);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, plus___experimentalZcolortext_639)(NIM_CHAR ch, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style) {
	tyObject_ColRune__UMru8yrzFckBV788jSX9cAg result;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg));
	T1_ = colStyle__experimentalZcolortext_383(style);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = toColRune__experimentalZcolortext_428(((NI32) (((NU8)(ch)))), T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, clr__experimentalZcolortext_644)(NIM_CHAR ch) {
	tyObject_ColRune__UMru8yrzFckBV788jSX9cAg result;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg));
	T1_ = default__experimentalZcolortext_446();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = plus___experimentalZcolortext_639(ch, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, bargtgt___experimentalZcolortext_779)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg s, NI l) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
	tyObject_ColRune__UMru8yrzFckBV788jSX9cAg T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	T2_ = clr__experimentalZcolortext_644(32);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	result = alignRight__experimentalZcolortext_758(s, l, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___experimentalZcolortext_590((&s));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, colStyle__experimentalZcolortext_371)(NU8 fg) {
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg result;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	result.fg = fg;
	return result;
}
static N_INLINE(void, add__experimentalZcolortext_861)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg rune) {
	add__experimentalZcolortext_457((&(*colored).runes), rune);
}
N_LIB_PRIVATE N_NIMCALL(void, addIndent__experimentalZcolortext_1569)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* res, NI level, NI sep, tyObject_ColRune__UMru8yrzFckBV788jSX9cAg prefix) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI _;
		NI colontmp_;
		NI i;
		_ = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(level * sep);
		i = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i < colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				_ = i;
				add__experimentalZcolortext_861(res, prefix);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				i += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, colStyle__experimentalZcolortext_365)(tyEnum_ForegroundColor__ez9ah4IgQc0AbdW68acioDg fg) {
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	result.fg = termColor__experimentalZcolortext_307(fg);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___pureZunicode_935)(NI a, NI b) {
	tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA result;
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	result.a = a;
	result.b = b;
	return result;
}
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s) {
	NIM_BOOL colontmp_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !(((*s).p == ((NimStrPayload*) NIM_NIL)));
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = ((NI)((*(*s).p).cap & ((NI) 1073741824)) == ((NI) 1073741824));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		nimPrepareStrMutationImpl__system_2314(s);
	}
	LA8_: ;
}
static N_INLINE(NimStringV2, X5BX5D___pureZunicode_963)(NimStringV2 s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x) {
	NimStringV2 result;
	NI a;
	NI L;
	result.len = 0; result.p = NIM_NIL;
	a = x.a;
	L = (NI)((NI)(x.b - a) + ((NI) 1));
	result = mnewString(((NI) (L)));
	{
		NI i;
		NI i_2;
		i = (NI)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = i_2;
				nimPrepareStrMutationV2((&result));
				result.p->data[i] = s.p->data[(NI)(i + a)];
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
static N_INLINE(void, add__experimentalZcolortext_1855)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, NimStringV2 ch) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg colontmp_;
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg colontmp__2;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	T2_ = default__experimentalZcolortext_446();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__2 = plus___experimentalZcolortext_628(ch, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	add__experimentalZcolortext_847(colored, colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___experimentalZcolortext_590((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, addf__experimentalZcolortext_1850)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* text, NimStringV2 formatstr, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, NI coloredLen_0) {
NIM_BOOL oldNimErrFin90_;
NIM_BOOL oldNimErrFin8_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ fr;
		NI i;
		NI num;
		nimZeroMem((void*)(&fr), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
		i = ((NI) 0);
		num = ((NI) 0);
		{
			while (1) {
				tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ frag;
				{
					if (!!((i < formatstr.len))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
				{
					NIM_BOOL colontmp_;
					tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA trange;
					colontmp_ = (NIM_BOOL)0;
					{
						colontmp_ = ((NU8)(formatstr.p->data[i]) == (NU8)(36));
						{
							if (!!(colontmp_)) goto LA13_;
							goto LA10;
						}
						LA13_: ;
						colontmp_ = ((NI)(i + ((NI) 1)) < formatstr.len);
					} LA10: ;
					{
						if (!colontmp_) goto LA17_;
						switch (((NU8)(formatstr.p->data[(NI)(i + ((NI) 1))]))) {
						case 35:
						{
							nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
							frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2);
							frag._kind_2.idx = num;
							switch (frag.kind) {
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
							break;
							} 
							i += ((NI) 2);
							num += ((NI) 1);
						}
						break;
						case 36:
						{
							i += ((NI) 2);
							nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
							frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3);
							switch (frag.kind) {
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
							break;
							} 
						}
						break;
						case 49 ... 57:
						case 45:
						{
							NI j;
							NI starti;
							NIM_BOOL negative;
							j = ((NI) 0);
							i += ((NI) 1);
							starti = i;
							negative = ((NU8)(formatstr.p->data[i]) == (NU8)(45));
							{
								if (!negative) goto LA24_;
								i += ((NI) 1);
							}
							LA24_: ;
							{
								while (1) {
									NIM_BOOL colontmp__2;
									colontmp__2 = (NIM_BOOL)0;
									{
										colontmp__2 = (i < formatstr.len);
										{
											if (!!(colontmp__2)) goto LA31_;
											goto LA28;
										}
										LA31_: ;
										colontmp__2 = (((NU8)(formatstr.p->data[i])) >= ((NU8)(48)) && ((NU8)(formatstr.p->data[i])) <= ((NU8)(57)));
									} LA28: ;
									{
										if (!!(colontmp__2)) goto LA35_;
										goto LA27;
									}
									LA35_: ;
									j = (NI)((NI)((NI)(j * ((NI) 10)) + ((NU8)(formatstr.p->data[i]))) - ((NI) 48));
									i += ((NI) 1);
								} LA27: ;
							}
							{
								{
									if (!negative) goto LA40_;
									nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
									frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4);
									frag._kind_2.idx = j;
									switch (frag.kind) {
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
									break;
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
									break;
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
									break;
									} 
									goto LA37;
								}
								LA40_: ;
								nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
								frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2);
								frag._kind_2.idx = (NI)(j - ((NI) 1));
								switch (frag.kind) {
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
								break;
								} 
							} LA37: ;
						}
						break;
						case 123:
						{
							NI j_2;
							NI k;
							NIM_BOOL negative_2;
							NI starti_2;
							NI isNumber;
							j_2 = (NI)(i + ((NI) 2));
							k = ((NI) 0);
							negative_2 = ((NU8)(formatstr.p->data[j_2]) == (NU8)(45));
							starti_2 = j_2;
							{
								if (!negative_2) goto LA45_;
								j_2 += ((NI) 1);
							}
							LA45_: ;
							isNumber = ((NI) 0);
							{
								while (1) {
									NIM_BOOL colontmp__3;
									colontmp__3 = (NIM_BOOL)0;
									{
										colontmp__3 = (j_2 < formatstr.len);
										{
											if (!!(colontmp__3)) goto LA52_;
											goto LA49;
										}
										LA52_: ;
										colontmp__3 = !((((NU8)(formatstr.p->data[j_2])) == ((NU8)(0)) || ((NU8)(formatstr.p->data[j_2])) == ((NU8)(125))));
									} LA49: ;
									{
										if (!!(colontmp__3)) goto LA56_;
										goto LA48;
									}
									LA56_: ;
									{
										{
											if (!(((NU8)(formatstr.p->data[j_2])) >= ((NU8)(48)) && ((NU8)(formatstr.p->data[j_2])) <= ((NU8)(57)))) goto LA61_;
											k = (NI)((NI)((NI)(k * ((NI) 10)) + ((NU8)(formatstr.p->data[j_2]))) - ((NI) 48));
											{
												if (!(isNumber == ((NI) 0))) goto LA65_;
												isNumber = ((NI) 1);
											}
											LA65_: ;
											goto LA58;
										}
										LA61_: ;
										isNumber = ((NI) -1);
									} LA58: ;
									j_2 += ((NI) 1);
								} LA48: ;
							}
							{
								{
									if (!(isNumber == ((NI) 1))) goto LA70_;
									{
										{
											if (!negative_2) goto LA75_;
											nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
											frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4);
											frag._kind_2.idx = k;
											switch (frag.kind) {
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
											break;
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
											break;
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
											break;
											} 
											goto LA72;
										}
										LA75_: ;
										nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
										frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2);
										frag._kind_2.idx = (NI)(k - ((NI) 1));
										switch (frag.kind) {
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
										break;
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
										break;
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
										break;
										} 
									} LA72: ;
									goto LA67;
								}
								LA70_: ;
								nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
								frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6);
								frag._kind_1.text = substr__system_7605(formatstr, (NI)(i + ((NI) 2)), (NI)(j_2 - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
								switch (frag.kind) {
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
								break;
								} 
							} LA67: ;
							i = (NI)(j_2 + ((NI) 1));
						}
						break;
						case 97 ... 122:
						case 65 ... 90:
						case 128 ... 255:
						case 95:
						{
							NI j_3;
							j_3 = (NI)(i + ((NI) 1));
							{
								while (1) {
									NIM_BOOL colontmp__4;
									colontmp__4 = (NIM_BOOL)0;
									{
										colontmp__4 = (j_3 < formatstr.len);
										{
											if (!!(colontmp__4)) goto LA83_;
											goto LA80;
										}
										LA83_: ;
										colontmp__4 = (((NU8)(formatstr.p->data[j_3])) >= ((NU8)(97)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(122)) || ((NU8)(formatstr.p->data[j_3])) >= ((NU8)(65)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(90)) || ((NU8)(formatstr.p->data[j_3])) >= ((NU8)(48)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(57)) || ((NU8)(formatstr.p->data[j_3])) >= ((NU8)(128)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(255)) || ((NU8)(formatstr.p->data[j_3])) == ((NU8)(95)));
									} LA80: ;
									{
										if (!!(colontmp__4)) goto LA87_;
										goto LA79;
									}
									LA87_: ;
									j_3 += ((NI) 1);
								} LA79: ;
							}
							nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
							frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5);
							frag._kind_1.text = substr__system_7605(formatstr, (NI)(i + ((NI) 1)), (NI)(j_3 - ((NI) 1)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
							switch (frag.kind) {
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
							break;
							} 
							i = j_3;
						}
						break;
						default:
						{
							NimStringV2 colontmp__5;
							NimStringV2 colontmp__6;
							NimStringV2 colontmp__7;
							NimStringV2 T91_;
							NimStringV2 colontmp__8;
							colontmp__5.len = 0; colontmp__5.p = NIM_NIL;
							colontmp__6.len = 0; colontmp__6.p = NIM_NIL;
							T91_.len = 0; T91_.p = NIM_NIL;
							colontmp__8 = nimCharToStr(formatstr.p->data[(NI)(i + ((NI) 1))]);
							colontmp__5 = colontmp__8;
							T91_ = rawNewString(colontmp__5.len + 26);
appendString((&T91_), TM__07OS5C6j9bZgIflcWN9cYz9ag_15);
appendString((&T91_), colontmp__5);
							colontmp__7 = T91_;
							colontmp__6 = colontmp__7;
							invalidFormatString__pureZstrutils_2262(colontmp__6);
							if (NIM_UNLIKELY(*nimErr_)) goto LA90_;
							{
								LA90_:;
							}
							{
								oldNimErrFin90_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3226((&colontmp__6));
								eqdestroy___system_3226((&colontmp__5));
								*nimErr_ = oldNimErrFin90_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
						}
						break;
						}
						goto LA9;
					}
					LA17_: ;
					trange = dotdot___pureZunicode_935(i, i);
					{
						while (1) {
							NIM_BOOL colontmp__9;
							colontmp__9 = (NIM_BOOL)0;
							{
								colontmp__9 = (trange.b < formatstr.len);
								{
									if (!!(colontmp__9)) goto LA99_;
									goto LA96;
								}
								LA99_: ;
								colontmp__9 = !(((NU8)(formatstr.p->data[trange.b]) == (NU8)(36)));
							} LA96: ;
							{
								if (!!(colontmp__9)) goto LA103_;
								goto LA95;
							}
							LA103_: ;
							trange.b += ((NI) 1);
						} LA95: ;
					}
					trange.b -= ((NI) 1);
					nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
					frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0);
					frag._kind_1.text = X5BX5D___pureZunicode_963(formatstr, trange);
					if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
					switch (frag.kind) {
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
					break;
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
					break;
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
					break;
					} 
					i = trange.b;
					i += ((NI) 1);
				} LA9: ;
				fr = frag;
				switch (fr.kind) {
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
				{
					add__experimentalZcolortext_1855(text, TM__07OS5C6j9bZgIflcWN9cYz9ag_17);
					if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
				}
				break;
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
				{
					add__experimentalZcolortext_1855(text, fr._kind_1.text);
					if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
				}
				break;
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
				{
				}
				break;
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
				{
					NI colontmp__10;
					NI idx;
					colontmp__10 = (NI)0;
					{
						{
							if (!(fr.kind == ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4))) goto LA112_;
							colontmp__10 = (NI)(coloredLen_0 - fr._kind_2.idx);
							goto LA109;
						}
						LA112_: ;
						colontmp__10 = fr._kind_2.idx;
					} LA109: ;
					idx = colontmp__10;
					add__experimentalZcolortext_847(text, colored[idx]);
					if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
				}
				break;
				}
				{
					LA8_:;
				}
				{
					oldNimErrFin8_ = *nimErr_; *nimErr_ = NIM_FALSE;
					eqdestroy___pureZstrutils_2393((&frag));
					*nimErr_ = oldNimErrFin8_;
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			} LA3: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, percent___experimentalZcolortext_1888)(NimStringV2 format, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* interpolate, NI interpolateLen_0) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	addf__experimentalZcolortext_1850((&result), format, interpolate, interpolateLen_0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, clt__experimentalZcolortext_622)(NimStringV2 str) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	T1_ = default__experimentalZcolortext_446();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = plus___experimentalZcolortext_628(str, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, amp___experimentalZcolortext_1138)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg t1, NimStringV2 t2) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg colontmp_;
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	nimZeroMem((void*)(&colontmp_), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	result = t1;
	colontmp__2 = clt__experimentalZcolortext_622(t2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	add__experimentalZcolortext_847((&result), colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___experimentalZcolortext_590((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, amp___experimentalZcolortext_1142)(NimStringV2 t1, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg t2) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	T1_ = default__experimentalZcolortext_446();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = toColText__experimentalZcolortext_444(t1, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	add__experimentalZcolortext_847((&result), t2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___experimentalZcolortext_1718)(tySequence__qwqHTkRvwhrRyENtudHQ7g* dest) {
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(NI));
}
}
N_LIB_PRIVATE N_NIMCALL(void, shrink__experimentalZcolortext_1741)(tySequence__qwqHTkRvwhrRyENtudHQ7g* x, NI newLen) {
	(*((tyObject_NimSeqV2__Q27im4NvCIX735oBXfroyA*) (x))).len = ((NI) (newLen));
}
N_LIB_PRIVATE N_NIMCALL(void, setLen__experimentalZcolortext_1734)(tySequence__qwqHTkRvwhrRyENtudHQ7g* s, NI newlen) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI oldLen;
		NI T7_;
		tyObject_NimSeqV2__Q27im4NvCIX735oBXfroyA* xu;
		NIM_BOOL colontmp_;
		{
			NI T4_;
			T4_ = (*s).len;
			if (!(((NI) (newlen)) < T4_)) goto LA5_;
			shrink__experimentalZcolortext_1741(s, newlen);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA5_: ;
		T7_ = (*s).len;
		oldLen = T7_;
		{
			if (!(((NI) (newlen)) <= oldLen)) goto LA10_;
			goto BeforeRet_;
		}
		LA10_: ;
		xu = ((tyObject_NimSeqV2__Q27im4NvCIX735oBXfroyA*) (s));
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = ((*xu).p == ((tyObject_NimSeqPayload__hKmcfrIyKucBh7ADIUKy1Q*) NIM_NIL));
			{
				if (!colontmp_) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			colontmp_ = ((*(*xu).p).cap < ((NI) (newlen)));
		} LA12: ;
		{
			void* T21_;
			if (!colontmp_) goto LA19_;
			T21_ = (void*)0;
			T21_ = prepareSeqAdd(oldLen, ((void*) ((*xu).p)), (NI)(((NI) (newlen)) - oldLen), ((NI) 4), ((NI) 4));
			(*xu).p = ((tyObject_NimSeqPayload__hKmcfrIyKucBh7ADIUKy1Q*) (T21_));
		}
		LA19_: ;
		(*xu).len = ((NI) (newlen));
	} LA1: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___experimentalZcolortext_1721)(tySequence__qwqHTkRvwhrRyENtudHQ7g* dest, tySequence__qwqHTkRvwhrRyENtudHQ7g src) {
	NI T1_;
	NI colontmp_;
	T1_ = src.len;
	setLen__experimentalZcolortext_1734(dest, T1_);
	colontmp_ = ((NI) 0);
	{
		while (1) {
			{
				NI T6_;
				T6_ = (*dest).len;
				if (!!((colontmp_ < T6_))) goto LA7_;
				goto LA3;
			}
			LA7_: ;
			(*dest).p->data[colontmp_] = src.p->data[colontmp_];
			colontmp_ += ((NI) 1);
		} LA3: ;
	}
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isNewline__experimentalZcolortext_654)(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg rune) {
	NIM_BOOL result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	result = eqeq___pureZunicode_1006(rune.rune, ((NI32) 10));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, add__experimentalZcolortext_854)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* colored, tySequence__Ne89crNMegmBKbgTkhA6jfQ other) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	add__experimentalZcolortext_702((&(*colored).runes), other.p->data, other.len);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg, plus___experimentalZcolortext_808)(NI32 r, tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg style) {
	tyObject_ColRune__UMru8yrzFckBV788jSX9cAg result;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColRune__UMru8yrzFckBV788jSX9cAg));
	T1_ = colStyle__experimentalZcolortext_383(style);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = toColRune__experimentalZcolortext_428(r, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI32, uc__experimentalZcolortext_801)(void) {
	NI32 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI32)0;
	result = runeAt__pureZunicode_95(TM__07OS5C6j9bZgIflcWN9cYz9ag_19, ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, newline__experimentalZcolortext_799)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg* text) {
	NI32 T1_;
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg T2_;
	tyObject_ColRune__UMru8yrzFckBV788jSX9cAg T3_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (NI32)0;
	T1_ = uc__experimentalZcolortext_801();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T2_ = default__experimentalZcolortext_446();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T3_ = plus___experimentalZcolortext_808(T1_, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	add__experimentalZcolortext_457((&(*text).runes), T3_);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg, indent__experimentalZcolortext_872)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg str, NI count, NI indentAfter, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg indent, tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg prefix) {
	tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg result;
	NI idx;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg));
	idx = ((NI) 0);
	{
		tySequence__Ne89crNMegmBKbgTkhA6jfQ buf;
		tySequence__Ne89crNMegmBKbgTkhA6jfQ line;
		buf.len = 0; buf.p = NIM_NIL;
		line.len = 0; line.p = NIM_NIL;
		{
			tyObject_ColRune__UMru8yrzFckBV788jSX9cAg* rune;
			NI i;
			NI L;
			NI T4_;
			rune = (tyObject_ColRune__UMru8yrzFckBV788jSX9cAg*)0;
			i = ((NI) 0);
			T4_ = str.runes.len;
			L = T4_;
			{
				while (1) {
					{
						if (!!((i < L))) goto LA9_;
						goto LA6;
					}
					LA9_: ;
					rune = (&str.runes.p->data[i]);
					{
						{
							NIM_BOOL T14_;
							T14_ = (NIM_BOOL)0;
							T14_ = isNewline__experimentalZcolortext_654((*rune));
							if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
							if (!T14_) goto LA15_;
							line = buf;
							{
								{
									if (!(idx <= indentAfter)) goto LA20_;
									add__experimentalZcolortext_854((&result), line);
									if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
									goto LA17;
								}
								LA20_: ;
								newline__experimentalZcolortext_799((&result));
								if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
								{
									NI _;
									NI colontmp_;
									NI T23_;
									NI i_2;
									_ = (NI)0;
									colontmp_ = (NI)0;
									T23_ = (NI)0;
									T23_ = len__experimentalZcolortext_106(prefix);
									if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
									colontmp_ = (NI)(count - T23_);
									i_2 = ((NI) 0);
									{
										while (1) {
											{
												if (!!((i_2 < colontmp_))) goto LA28_;
												goto LA25;
											}
											LA28_: ;
											_ = i_2;
											add__experimentalZcolortext_847((&result), indent);
											if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
											i_2 += ((NI) 1);
										} LA25: ;
									}
								}
								add__experimentalZcolortext_847((&result), prefix);
								if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
								add__experimentalZcolortext_854((&result), line);
								if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
							} LA17: ;
							idx += ((NI) 1);
							setLen__experimentalZcolortext_166((&buf), ((NI) 0));
							goto LA11;
						}
						LA15_: ;
						add__experimentalZcolortext_457((&buf), (*rune));
					} LA11: ;
					i += ((NI) 1);
				} LA6: ;
			}
		}
		{
			NI T32_;
			T32_ = buf.len;
			if (!(((NI) 0) < T32_)) goto LA33_;
			line = buf;
			{
				{
					if (!(idx <= indentAfter)) goto LA38_;
					add__experimentalZcolortext_854((&result), line);
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
					goto LA35;
				}
				LA38_: ;
				newline__experimentalZcolortext_799((&result));
				if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				{
					NI __2;
					NI colontmp__2;
					NI T41_;
					NI i_3;
					__2 = (NI)0;
					colontmp__2 = (NI)0;
					T41_ = (NI)0;
					T41_ = len__experimentalZcolortext_106(prefix);
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
					colontmp__2 = (NI)(count - T41_);
					i_3 = ((NI) 0);
					{
						while (1) {
							{
								if (!!((i_3 < colontmp__2))) goto LA46_;
								goto LA43;
							}
							LA46_: ;
							__2 = i_3;
							add__experimentalZcolortext_847((&result), indent);
							if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
							i_3 += ((NI) 1);
						} LA43: ;
					}
				}
				add__experimentalZcolortext_847((&result), prefix);
				if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				add__experimentalZcolortext_854((&result), line);
				if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
			} LA35: ;
			idx += ((NI) 1);
		}
		LA33_: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___experimentalZcolortext_150((&buf));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toString__experimentalZcolortext_1383)(tyObject_ColText__B4ZuUXLRmFdSchklj6uhhg text, NIM_BOOL color) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = toString__experimentalZcolortext_1358(text.runes, color);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg, colStyle__experimentalZcolortext_380)(tyEnum_Style__NXKayqTLMsAibFwNceBlpA style) {
	tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg result;
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	nimZeroMem((void*)(&result), sizeof(tyObject_ColStyle__OYud5pBdDGgnkjvxNJtWvg));
	result.style = 0;
	result.style |=((NU16)(1)<<(((style- 1))%(sizeof(NU16)*8)));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___experimentalZcolortext_1724)(tySequence__qwqHTkRvwhrRyENtudHQ7g* dest, tySequence__qwqHTkRvwhrRyENtudHQ7g src) {
	if ((*dest).p != src.p) {	eqdestroy___experimentalZcolortext_1718(dest);
	}
(*dest).len = src.len; (*dest).p = src.p;
}
