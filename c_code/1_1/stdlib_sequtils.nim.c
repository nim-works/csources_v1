/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 32

#include "nimbase.h"
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct tySequence__lBgZ7a89beZGYPl8PiANMTA tySequence__lBgZ7a89beZGYPl8PiANMTA;
typedef struct tySequence__lBgZ7a89beZGYPl8PiANMTA_Content tySequence__lBgZ7a89beZGYPl8PiANMTA_Content;
typedef struct tyObject_NimSeqV2__a7HXMQ1Z6Aja9czm5DOWtzg tyObject_NimSeqV2__a7HXMQ1Z6Aja9czm5DOWtzg;
typedef struct tyObject_NimSeqPayload__WDem9aDHLWFGSBL50w4LLwQ tyObject_NimSeqPayload__WDem9aDHLWFGSBL50w4LLwQ;
struct tySequence__lBgZ7a89beZGYPl8PiANMTA {
  NI len; tySequence__lBgZ7a89beZGYPl8PiANMTA_Content* p;
};
struct tyObject_NimSeqV2__a7HXMQ1Z6Aja9czm5DOWtzg {
NI len;
tyObject_NimSeqPayload__WDem9aDHLWFGSBL50w4LLwQ* p;
};
struct tyObject_NimSeqPayload__WDem9aDHLWFGSBL50w4LLwQ {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};


#ifndef tySequence__lBgZ7a89beZGYPl8PiANMTA_Content_PP
#define tySequence__lBgZ7a89beZGYPl8PiANMTA_Content_PP
struct tySequence__lBgZ7a89beZGYPl8PiANMTA_Content { NI cap; NIM_CHAR data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(void, shrink__pureZcollectionsZsequtils_252)(tySequence__lBgZ7a89beZGYPl8PiANMTA* x, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void*, prepareSeqAdd)(NI len, void* p, NI addlen, NI elemSize, NI elemAlign);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
extern NIM_BOOL nimInErrorMode__system_4174;
N_LIB_PRIVATE N_NIMCALL(void, shrink__pureZcollectionsZsequtils_252)(tySequence__lBgZ7a89beZGYPl8PiANMTA* x, NI newLen) {
	(*((tyObject_NimSeqV2__a7HXMQ1Z6Aja9czm5DOWtzg*) (x))).len = ((NI) (newLen));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setLen__pureZcollectionsZsequtils_244)(tySequence__lBgZ7a89beZGYPl8PiANMTA* s, NI newlen) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NI oldLen;
		NI T7_;
		tyObject_NimSeqV2__a7HXMQ1Z6Aja9czm5DOWtzg* xu;
		NIM_BOOL colontmp_;
		{
			NI T4_;
			T4_ = (*s).len;
			if (!(((NI) (newlen)) < T4_)) goto LA5_;
			shrink__pureZcollectionsZsequtils_252(s, newlen);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA5_: ;
		T7_ = (*s).len;
		oldLen = T7_;
		{
			if (!(((NI) (newlen)) <= oldLen)) goto LA10_;
			goto BeforeRet_;
		}
		LA10_: ;
		xu = ((tyObject_NimSeqV2__a7HXMQ1Z6Aja9czm5DOWtzg*) (s));
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = ((*xu).p == ((tyObject_NimSeqPayload__WDem9aDHLWFGSBL50w4LLwQ*) NIM_NIL));
			{
				if (!colontmp_) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			colontmp_ = ((*(*xu).p).cap < ((NI) (newlen)));
		} LA12: ;
		{
			void* T21_;
			if (!colontmp_) goto LA19_;
			T21_ = (void*)0;
			T21_ = prepareSeqAdd(oldLen, ((void*) ((*xu).p)), (NI)(((NI) (newlen)) - oldLen), ((NI) 1), ((NI) 1));
			(*xu).p = ((tyObject_NimSeqPayload__WDem9aDHLWFGSBL50w4LLwQ*) (T21_));
		}
		LA19_: ;
		(*xu).len = ((NI) (newlen));
	} LA1: ;
	}BeforeRet_: ;
}
