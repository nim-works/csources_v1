/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 64
#define NIM_EmulateOverflowChecks

#include "nimbase.h"
#include <string.h>
#include <stdio.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ;
typedef struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA;
typedef struct tyTuple__UV3llMMYFckfui8YMBuUZA tyTuple__UV3llMMYFckfui8YMBuUZA;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
typedef NU8 tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg;
struct tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ {
tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg kind;
union{
struct {NimStringV2 text;
} _kind_1;
struct {NI idx;
} _kind_2;
};
};
typedef NU8 tySet_tyChar__nmiMWKVIe46vacnhAFrQvw[32];
struct tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA {
NI a;
NI b;
};
typedef NI tyArray__9cc9aPiDa8VaWjVcFLabEDZQ[256];
struct tyTuple__UV3llMMYFckfui8YMBuUZA {
NimStringV2 Field0;
NimStringV2 Field1;
};
typedef NimStringV2 tyArray__Wex9cTiLLztRmCSkLU7RNiA[1];
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  NI len; tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content* p;
};
typedef NU8 tyEnum_BinaryPrefixMode__nDtrM19b3byM8T9ab2m7BwvA;
typedef NimStringV2 tyArray__Uk4knQnm8g4ToSxJOhiVVg[9];
typedef NU8 tyEnum_FloatFormatMode__pNvEoaqwoxKyoASD11vSgQ;
typedef NIM_CHAR tyArray__W0Gg3z22QxiOloTdYD2kjw[6];
typedef NIM_CHAR tyArray__BDdjUYTeqb7vAUkhlX1NNQ[2501];
typedef NIM_CHAR tyArray__vB7L5YKNrMfbzoUubCEcYg[3];
struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3228)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7575)(NimStringV2 s, NI first, NI last);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, mnewString)(NI len);
N_NIMCALL(NimStringV2, mnewString)(NI len);
N_LIB_PRIVATE N_NIMCALL(void, X5BX5Deq___pureZstrutils_1103)(NimStringV2* s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x, NimStringV2 b);
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, nimPrepareStrMutationImpl__system_2314)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s, NI newLen);
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___pureZunicode_935)(NI a, NI b);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_3231)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(NIM_CHAR, toLowerAscii__stdZprivateZstrimpl_1)(NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__systemZassertions_65)(NimStringV2 msg);
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindStr)(NimStringV2 s, NimStringV2 sub, NI start, NI last);
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindChar)(NimStringV2 s, NIM_CHAR sub, NI start, NI last);
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(void, nsuInitSkipTable)(NI* a, NimStringV2 sub);
N_LIB_PRIVATE N_NIMCALL(void, fill__pureZstrutils_1461)(NI* a, NI aLen_0, NI value);
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindStrA)(tyArray__9cc9aPiDa8VaWjVcFLabEDZQ a, NimStringV2 s, NimStringV2 sub, NI start, NI last);
N_NIMCALL(NimStringV2, rawNewString)(NI cap);
N_LIB_PRIVATE N_NIMCALL(void, nsuAddf)(NimStringV2* s, NimStringV2 formatstr, NimStringV2* a, NI aLen_0);
N_LIB_PRIVATE N_NOINLINE(void, invalidFormatString__pureZstrutils_2274)(NimStringV2 explain);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nimCharToStr)(NIM_CHAR x);
static N_INLINE(NimStringV2, X5BX5D___pureZunicode_963)(NimStringV2 s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x);
static N_INLINE(void, nimAddCharV1)(NimStringV2* s, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s, NI addlen);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_3)(NI x);
N_LIB_PRIVATE N_NIMCALL(NI, findNormalized__pureZstrutils_2262)(NimStringV2 x, NimStringV2* inArray, NI inArrayLen_0);
N_LIB_PRIVATE N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringV2 a, NimStringV2 b);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZstrutils_2405)(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ* dest);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuContinuesWith)(NimStringV2 s, NimStringV2 substr, NI start);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7587)(NimStringV2 s, NI first);
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, nsuToLowerAsciiChar)(NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringV2 s, NimStringV2 prefix);
N_LIB_PRIVATE N_NIMCALL(NI, parseHex__pureZstrutils_919)(NimStringV2 s, NI* number, NI start, NI maxLen);
static N_INLINE(void, appendChar)(NimStringV2* dest, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuEndsWith)(NimStringV2 s, NimStringV2 suffix);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap, NI elemSize, NI elemAlign);
N_LIB_PRIVATE N_NIMCALL(void, add__stdZenumutils_66)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* x, NimStringV2 value);
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindCharSet)(NimStringV2 s, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw chars, NI start, NI last);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toHexImpl__pureZstrutils_714)(NU64 x, NI len, NIM_BOOL handleNegative);
N_LIB_PRIVATE N_NIMCALL(NI, npuParseInt)(NimStringV2 s, NI* number, NI start);
N_LIB_PRIVATE N_NIMCALL(NI, npuParseFloat)(NimStringV2 s, NF* number, NI start);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_3234)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuNormalize)(NimStringV2 s);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b);
static N_INLINE(NIM_BOOL, equalMem__system_1716)(void* a, void* b, NI size);
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size);
N_LIB_PRIVATE N_NIMCALL(NI, hashString)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NI, npuParseBiggestInt)(NimStringV2 s, NI64* number, NI start);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toHex__pureZstrutils_1860)(NI x, NI len);
static N_INLINE(NimStringV2, X5BX5D___pureZunicode_3364)(NimStringV2 s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x);
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___stdZenumutils_99)(NI a, NI b);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuUnindent)(NimStringV2 s, NI count, NimStringV2 padding);
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, nsuToUpperAsciiChar)(NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuformatFloat)(NF f, tyEnum_FloatFormatMode__pNvEoaqwoxKyoASD11vSgQ format, NI precision, NIM_CHAR decimalSep);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuformatBiggestFloat)(NF f, tyEnum_FloatFormatMode__pNvEoaqwoxKyoASD11vSgQ format, NI precision, NIM_CHAR decimalSep);
N_LIB_PRIVATE N_NIMCALL(void, trimZeros__pureZstrutils_2049)(NimStringV2* x, NIM_CHAR decimalSep);
N_LIB_PRIVATE N_NIMCALL(void, delete__pureZstrutils_1267)(NimStringV2* s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA slice);
extern TNimTypeV2 NTIv2__yoNlBGx0D2tRizIdhQuENw_;
static const struct {
  NI cap; NIM_CHAR data[24+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_2 = { 24 | NIM_STRLIT_FLAG, "invalid format string - " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_3 = {24, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_2};
static const struct {
  NI cap; NIM_CHAR data[37+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_4 = { 37 | NIM_STRLIT_FLAG, "strutils.nim(2006, 12) `sub.len > 0` " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_5 = {37, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_4};
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_6 = { 26 | NIM_STRLIT_FLAG, "unexpected char after $ - " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_7 = {26, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_6};
static const struct {
  NI cap; NIM_CHAR data[10+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_8 = { 10 | NIM_STRLIT_FLAG, "index for " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_9 = {10, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_8};
static const struct {
  NI cap; NIM_CHAR data[38+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_10 = { 38 | NIM_STRLIT_FLAG, " is out of bounds for format arguments" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_11 = {38, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_10};
static const struct {
  NI cap; NIM_CHAR data[32+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_12 = { 32 | NIM_STRLIT_FLAG, " no named interpolation argument" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_13 = {32, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_12};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_14 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_15 = {0, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_14};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_16 = { 16 | NIM_STRLIT_FLAG, "0123456789ABCDEF" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_17 = {16, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_16};
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_18 = {0, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_14};
static const struct {
  NI cap; NIM_CHAR data[28+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_19 = { 28 | NIM_STRLIT_FLAG, "String does not start with: " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_20 = {28, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_19};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_21 = { 1 | NIM_STRLIT_FLAG, "\\" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_22 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_21};
static const struct {
  NI cap; NIM_CHAR data[24+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_23 = { 24 | NIM_STRLIT_FLAG, "String does not end in: " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_24 = {24, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_23};
static const struct {
  NI cap; NIM_CHAR data[21+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_25 = { 21 | NIM_STRLIT_FLAG, "invalid hex integer: " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_26 = {21, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_25};
static const struct {
  NI cap; NIM_CHAR data[17+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_27 = { 17 | NIM_STRLIT_FLAG, "invalid integer: " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_28 = {17, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_27};
static const struct {
  NI cap; NIM_CHAR data[15+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_29 = { 15 | NIM_STRLIT_FLAG, "invalid float: " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_30 = {15, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_29};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_31 = { 1 | NIM_STRLIT_FLAG, "y" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_32 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_31};
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_33 = { 3 | NIM_STRLIT_FLAG, "yes" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_34 = {3, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_33};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_35 = { 4 | NIM_STRLIT_FLAG, "true" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_36 = {4, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_35};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_37 = { 1 | NIM_STRLIT_FLAG, "1" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_38 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_37};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_39 = { 2 | NIM_STRLIT_FLAG, "on" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_40 = {2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_39};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_41 = { 1 | NIM_STRLIT_FLAG, "n" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_42 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_41};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_43 = { 2 | NIM_STRLIT_FLAG, "no" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_44 = {2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_43};
static const struct {
  NI cap; NIM_CHAR data[5+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_45 = { 5 | NIM_STRLIT_FLAG, "false" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_46 = {5, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_45};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_47 = { 1 | NIM_STRLIT_FLAG, "0" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_48 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_47};
static const struct {
  NI cap; NIM_CHAR data[3+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_49 = { 3 | NIM_STRLIT_FLAG, "off" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_50 = {3, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_49};
static const struct {
  NI cap; NIM_CHAR data[28+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_51 = { 28 | NIM_STRLIT_FLAG, "cannot interpret as a bool: " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_52 = {28, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_51};
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_53 = {17, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_27};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_54 = { 2 | NIM_STRLIT_FLAG, "\\x" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_55 = {2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_54};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_56 = { 2 | NIM_STRLIT_FLAG, "\\\\" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_57 = {2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_56};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_58 = { 2 | NIM_STRLIT_FLAG, "\\\'" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_59 = {2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_58};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_60 = { 2 | NIM_STRLIT_FLAG, "\\\"" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_61 = {2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_60};
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_62 = {0, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_14};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_63 = { 1 | NIM_STRLIT_FLAG, "\012" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_64 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_63};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_65 = { 1 | NIM_STRLIT_FLAG, " " };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_66 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_65};
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_67 = {0, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_14};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_68 = { 1 | NIM_STRLIT_FLAG, "k" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_69 = { 1 | NIM_STRLIT_FLAG, "M" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_70 = { 1 | NIM_STRLIT_FLAG, "G" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_71 = { 1 | NIM_STRLIT_FLAG, "T" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_72 = { 1 | NIM_STRLIT_FLAG, "P" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_73 = { 1 | NIM_STRLIT_FLAG, "E" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_74 = { 1 | NIM_STRLIT_FLAG, "Z" };
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_75 = { 1 | NIM_STRLIT_FLAG, "Y" };
N_LIB_PRIVATE NIM_CONST tyArray__Uk4knQnm8g4ToSxJOhiVVg collPrefixes__pureZstrutils_2081 = {{0, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_14},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_68},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_69},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_70},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_71},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_72},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_73},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_74},
{1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_75}}
;
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_76 = { 2 | NIM_STRLIT_FLAG, "Ki" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_77 = { 2 | NIM_STRLIT_FLAG, "Mi" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_78 = { 2 | NIM_STRLIT_FLAG, "Gi" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_79 = { 2 | NIM_STRLIT_FLAG, "Ti" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_80 = { 2 | NIM_STRLIT_FLAG, "Pi" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_81 = { 2 | NIM_STRLIT_FLAG, "Ei" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_82 = { 2 | NIM_STRLIT_FLAG, "Zi" };
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_83 = { 2 | NIM_STRLIT_FLAG, "Yi" };
N_LIB_PRIVATE NIM_CONST tyArray__Uk4knQnm8g4ToSxJOhiVVg iecPrefixes__pureZstrutils_2080 = {{0, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_14},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_76},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_77},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_78},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_79},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_80},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_81},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_82},
{2, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_83}}
;
N_LIB_PRIVATE NIM_CONST tyArray__vB7L5YKNrMfbzoUubCEcYg floatFormatToChar__pureZstrutils_1938 = {103,
102,
101}
;
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_84 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_65};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__JGc9b9bh2D3nTdUR7TGyq8aA_85 = { 1 | NIM_STRLIT_FLAG, "B" };
static const NimStringV2 TM__JGc9b9bh2D3nTdUR7TGyq8aA_86 = {1, (NimStrPayload*)&TM__JGc9b9bh2D3nTdUR7TGyq8aA_85};
extern NIM_BOOL nimInErrorMode__system_4174;
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1708(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NOINLINE(void, invalidFormatString__pureZstrutils_2274)(NimStringV2 explain) {
	tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T1_;
	NimStringV2 T2_;
{	T1_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
	T1_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
	(*T1_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
	(*T1_).Sup.Sup.name = "ValueError";
	T2_.len = 0; T2_.p = NIM_NIL;
	T2_ = rawNewString(explain.len + 24);
appendString((&T2_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_3);
appendString((&T2_), explain);
	(*T1_).Sup.Sup.message = T2_;
	(*T1_).Sup.Sup.parent = ((Exception*) NIM_NIL);
	raiseExceptionEx((Exception*)T1_, "ValueError", "invalidFormatString", "strutils.nim", 2643);
	goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZstrutils_2405)(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ* dest) {
	switch ((*dest).kind) {
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
	{
		eqdestroy___system_3228((&(*dest)._kind_1.text));
	}
	break;
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
	{
	}
	break;
	case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
	{
	}
	break;
	}
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuStrip)(NimStringV2 s, NIM_BOOL leading, NIM_BOOL trailing, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw chars) {
	NimStringV2 result;
	NI first;
	NI last;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	first = ((NI) 0);
	last = (NI)(s.len - ((NI) 1));
	{
		if (!leading) goto LA3_;
		{
			while (1) {
				NIM_BOOL colontmp_;
				colontmp_ = (NIM_BOOL)0;
				{
					colontmp_ = (first <= last);
					{
						if (!!(colontmp_)) goto LA10_;
						goto LA7;
					}
					LA10_: ;
					colontmp_ = ((chars[(NU)(((NU8)(s.p->data[first])))>>3] &(1U<<((NU)(((NU8)(s.p->data[first])))&7U)))!=0);
				} LA7: ;
				{
					if (!!(colontmp_)) goto LA14_;
					goto LA6;
				}
				LA14_: ;
				first += ((NI) 1);
			} LA6: ;
		}
	}
	LA3_: ;
	{
		if (!trailing) goto LA18_;
		{
			while (1) {
				NIM_BOOL colontmp__2;
				colontmp__2 = (NIM_BOOL)0;
				{
					colontmp__2 = (first <= last);
					{
						if (!!(colontmp__2)) goto LA25_;
						goto LA22;
					}
					LA25_: ;
					colontmp__2 = ((chars[(NU)(((NU8)(s.p->data[last])))>>3] &(1U<<((NU)(((NU8)(s.p->data[last])))&7U)))!=0);
				} LA22: ;
				{
					if (!!(colontmp__2)) goto LA29_;
					goto LA21;
				}
				LA29_: ;
				last -= ((NI) 1);
			} LA21: ;
		}
	}
	LA18_: ;
	result = substr__system_7575(s, first, last);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s) {
	NIM_BOOL colontmp_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !(((*s).p == ((NimStrPayload*) NIM_NIL)));
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = ((NI)((*(*s).p).cap & ((NI) IL64(4611686018427387904))) == ((NI) IL64(4611686018427387904)));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		nimPrepareStrMutationImpl__system_2314(s);
	}
	LA8_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, X5BX5Deq___pureZstrutils_1103)(NimStringV2* s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x, NimStringV2 b) {
	NI a;
	NI L;
	a = x.a;
	L = (NI)((NI)(x.b - a) + ((NI) 1));
	{
		NI shiftX60gensym463_;
		NI newLenX60gensym463_;
		{
			if (!(L == b.len)) goto LA4_;
			{
				NI i;
				NI i_2;
				i = (NI)0;
				i_2 = ((NI) 0);
				{
					while (1) {
						{
							if (!!((i_2 < L))) goto LA11_;
							goto LA8;
						}
						LA11_: ;
						i = i_2;
						nimPrepareStrMutationV2((&(*s)));
						(*s).p->data[(NI)(i + a)] = b.p->data[i];
						i_2 += ((NI) 1);
					} LA8: ;
				}
			}
			goto LA1;
		}
		LA4_: ;
		shiftX60gensym463_ = (NI)(b.len - ((((NI) 0) >= L) ? ((NI) 0) : L));
		newLenX60gensym463_ = (NI)((*s).len + shiftX60gensym463_);
		{
			{
				if (!(((NI) 0) < shiftX60gensym463_)) goto LA16_;
				setLengthStrV2((&(*s)), ((NI) (newLenX60gensym463_)));
				{
					NI iX60gensym463_;
					NI colontmp_;
					NI colontmp__2;
					NI res;
					iX60gensym463_ = (NI)0;
					colontmp_ = (NI)0;
					colontmp__2 = (NI)0;
					colontmp_ = (NI)(newLenX60gensym463_ - ((NI) 1));
					colontmp__2 = (NI)(a + b.len);
					res = colontmp_;
					{
						while (1) {
							{
								if (!!((colontmp__2 <= res))) goto LA23_;
								goto LA20;
							}
							LA23_: ;
							iX60gensym463_ = res;
							nimPrepareStrMutationV2((&(*s)));
							(*s).p->data[iX60gensym463_] = (*s).p->data[(NI)(iX60gensym463_ - shiftX60gensym463_)];
							(*s).p->data[(NI)(iX60gensym463_ - shiftX60gensym463_)] = 0;
							res -= ((NI) 1);
						} LA20: ;
					}
				}
				goto LA13;
			}
			LA16_: ;
			{
				NI iX60gensym463__2;
				NI colontmp__3;
				NI colontmp__4;
				NI res_2;
				iX60gensym463__2 = (NI)0;
				colontmp__3 = (NI)0;
				colontmp__4 = (NI)0;
				colontmp__3 = (NI)(a + b.len);
				colontmp__4 = (NI)(newLenX60gensym463_ - ((NI) 1));
				res_2 = colontmp__3;
				{
					while (1) {
						{
							if (!!((res_2 <= colontmp__4))) goto LA30_;
							goto LA27;
						}
						LA30_: ;
						iX60gensym463__2 = res_2;
						nimPrepareStrMutationV2((&(*s)));
						(*s).p->data[iX60gensym463__2] = (*s).p->data[(NI)(iX60gensym463__2 - shiftX60gensym463_)];
						(*s).p->data[(NI)(iX60gensym463__2 - shiftX60gensym463_)] = 0;
						res_2 += ((NI) 1);
					} LA27: ;
				}
			}
			setLengthStrV2((&(*s)), ((NI) (newLenX60gensym463_)));
		} LA13: ;
		{
			NI iX60gensym463__3;
			NI colontmp__5;
			NI i_3;
			iX60gensym463__3 = (NI)0;
			colontmp__5 = (NI)0;
			colontmp__5 = b.len;
			i_3 = ((NI) 0);
			{
				while (1) {
					{
						if (!!((i_3 < colontmp__5))) goto LA37_;
						goto LA34;
					}
					LA37_: ;
					iX60gensym463__3 = i_3;
					nimPrepareStrMutationV2((&(*s)));
					(*s).p->data[(NI)(a + iX60gensym463__3)] = b.p->data[iX60gensym463__3];
					i_3 += ((NI) 1);
				} LA34: ;
			}
		}
	} LA1: ;
}
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
}
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___pureZunicode_935)(NI a, NI b) {
	tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA result;
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	result.a = a;
	result.b = b;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, alignLeft__pureZstrutils_1089)(NimStringV2 s, NI count, NIM_CHAR padding) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		{
			if (!(s.len < ((NI) (count)))) goto LA4_;
			result = mnewString(count);
			{
				tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA T10_;
				if (!(((NI) 0) < s.len)) goto LA8_;
				T10_ = dotdot___pureZunicode_935(((NI) 0), (NI)(s.len - ((NI) 1)));
				X5BX5Deq___pureZstrutils_1103((&result), T10_, s);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			LA8_: ;
			{
				NI i;
				NI colontmp_;
				NI colontmp__2;
				NI i_2;
				i = (NI)0;
				colontmp_ = (NI)0;
				colontmp__2 = (NI)0;
				colontmp_ = s.len;
				colontmp__2 = ((NI) (count));
				i_2 = colontmp_;
				{
					while (1) {
						{
							if (!!((i_2 < colontmp__2))) goto LA16_;
							goto LA13;
						}
						LA16_: ;
						i = i_2;
						nimPrepareStrMutationV2((&result));
						result.p->data[i] = padding;
						i_2 += ((NI) 1);
					} LA13: ;
				}
			}
			goto LA1;
		}
		LA4_: ;
		eqcopy___system_3231((&result), s);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_CHAR, toLowerAscii__stdZprivateZstrimpl_1)(NIM_CHAR c) {
	NIM_CHAR result;
	result = (NIM_CHAR)0;
	{
		{
			if (!(((NU8)(c)) >= ((NU8)(65)) && ((NU8)(c)) <= ((NU8)(90)))) goto LA4_;
			result = ((NIM_CHAR) (((NI) ((NI)(((NU8)(c)) + ((NI) 32))))));
			goto LA1;
		}
		LA4_: ;
		result = c;
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringV2 a, NimStringV2 b) {
	NI result;
	NI aLenX60gensym20_;
	NI bLenX60gensym20_;
	NI iX60gensym20_;
	NI mX60gensym20_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	aLenX60gensym20_ = a.len;
	bLenX60gensym20_ = b.len;
	iX60gensym20_ = ((NI) 0);
	mX60gensym20_ = ((aLenX60gensym20_ <= bLenX60gensym20_) ? aLenX60gensym20_ : bLenX60gensym20_);
	{
		while (1) {
			NIM_CHAR T7_;
			NIM_CHAR T8_;
			{
				if (!!((iX60gensym20_ < mX60gensym20_))) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			T7_ = (NIM_CHAR)0;
			T7_ = toLowerAscii__stdZprivateZstrimpl_1(a.p->data[iX60gensym20_]);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			T8_ = (NIM_CHAR)0;
			T8_ = toLowerAscii__stdZprivateZstrimpl_1(b.p->data[iX60gensym20_]);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result = (NI)(((NU8)(T7_)) - ((NU8)(T8_)));
			{
				if (!!((result == ((NI) 0)))) goto LA11_;
				goto BeforeRet_;
			}
			LA11_: ;
			iX60gensym20_ += ((NI) 1);
		} LA2: ;
	}
	result = (NI)(aLenX60gensym20_ - bLenX60gensym20_);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, nsuToLowerAsciiChar)(NIM_CHAR c) {
	NIM_CHAR result;
	result = (NIM_CHAR)0;
	{
		{
			if (!(((NU8)(c)) >= ((NU8)(65)) && ((NU8)(c)) <= ((NU8)(90)))) goto LA4_;
			result = ((NIM_CHAR) ((NU8)(((NU8) (((NU8)(c)))) ^ ((NU8) 32))));
			goto LA1;
		}
		LA4_: ;
		result = c;
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringV2 s, NimStringV2 prefix) {
	NIM_BOOL result;
	NI prefixLenX60gensym138_;
	NI sLenX60gensym138_;
	NI iX60gensym138_;
{	result = (NIM_BOOL)0;
	prefixLenX60gensym138_ = prefix.len;
	sLenX60gensym138_ = s.len;
	iX60gensym138_ = ((NI) 0);
	{
		while (1) {
			NIM_BOOL colontmp_;
			{
				if (!(prefixLenX60gensym138_ <= iX60gensym138_)) goto LA5_;
				result = NIM_TRUE;
				goto BeforeRet_;
			}
			LA5_: ;
			colontmp_ = (NIM_BOOL)0;
			{
				colontmp_ = (sLenX60gensym138_ <= iX60gensym138_);
				{
					if (!colontmp_) goto LA10_;
					goto LA7;
				}
				LA10_: ;
				colontmp_ = !(((NU8)(s.p->data[iX60gensym138_]) == (NU8)(prefix.p->data[iX60gensym138_])));
			} LA7: ;
			{
				if (!colontmp_) goto LA14_;
				result = NIM_FALSE;
				goto BeforeRet_;
			}
			LA14_: ;
			iX60gensym138_ += ((NI) 1);
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringV2 a, NimStringV2 b) {
	NI result;
	NI aLenX60gensym24_;
	NI bLenX60gensym24_;
	NI iX60gensym24_;
	NI jX60gensym24_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	aLenX60gensym24_ = a.len;
	bLenX60gensym24_ = b.len;
	iX60gensym24_ = ((NI) 0);
	jX60gensym24_ = ((NI) 0);
	{
		while (1) {
			NIM_CHAR colontmp__3;
			NIM_CHAR aaX60gensym24_;
			NIM_CHAR colontmp__4;
			NIM_CHAR bbX60gensym24_;
			{
				while (1) {
					NIM_BOOL colontmp_;
					colontmp_ = (NIM_BOOL)0;
					{
						colontmp_ = (iX60gensym24_ < aLenX60gensym24_);
						{
							if (!!(colontmp_)) goto LA8_;
							goto LA5;
						}
						LA8_: ;
						colontmp_ = ((NU8)(a.p->data[iX60gensym24_]) == (NU8)(95));
					} LA5: ;
					{
						if (!!(colontmp_)) goto LA12_;
						goto LA4;
					}
					LA12_: ;
					iX60gensym24_ += ((NI) 1);
				} LA4: ;
			}
			{
				while (1) {
					NIM_BOOL colontmp__2;
					colontmp__2 = (NIM_BOOL)0;
					{
						colontmp__2 = (jX60gensym24_ < bLenX60gensym24_);
						{
							if (!!(colontmp__2)) goto LA19_;
							goto LA16;
						}
						LA19_: ;
						colontmp__2 = ((NU8)(b.p->data[jX60gensym24_]) == (NU8)(95));
					} LA16: ;
					{
						if (!!(colontmp__2)) goto LA23_;
						goto LA15;
					}
					LA23_: ;
					jX60gensym24_ += ((NI) 1);
				} LA15: ;
			}
			colontmp__3 = (NIM_CHAR)0;
			{
				{
					if (!(iX60gensym24_ < aLenX60gensym24_)) goto LA28_;
					colontmp__3 = toLowerAscii__stdZprivateZstrimpl_1(a.p->data[iX60gensym24_]);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					goto LA25;
				}
				LA28_: ;
				colontmp__3 = 0;
			} LA25: ;
			aaX60gensym24_ = colontmp__3;
			colontmp__4 = (NIM_CHAR)0;
			{
				{
					if (!(jX60gensym24_ < bLenX60gensym24_)) goto LA33_;
					colontmp__4 = toLowerAscii__stdZprivateZstrimpl_1(b.p->data[jX60gensym24_]);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					goto LA30;
				}
				LA33_: ;
				colontmp__4 = 0;
			} LA30: ;
			bbX60gensym24_ = colontmp__4;
			result = (NI)(((NU8)(aaX60gensym24_)) - ((NU8)(bbX60gensym24_)));
			{
				if (!!((result == ((NI) 0)))) goto LA37_;
				goto BeforeRet_;
			}
			LA37_: ;
			{
				{
					if (!(aLenX60gensym24_ <= iX60gensym24_)) goto LA42_;
					{
						if (!(bLenX60gensym24_ <= jX60gensym24_)) goto LA46_;
						result = ((NI) 0);
						goto BeforeRet_;
					}
					LA46_: ;
					result = ((NI) -1);
					goto BeforeRet_;
				}
				LA42_: ;
				{
					if (!(bLenX60gensym24_ <= jX60gensym24_)) goto LA50_;
					result = ((NI) 1);
					goto BeforeRet_;
				}
				LA50_: ;
			}
			iX60gensym24_ += ((NI) 1);
			jX60gensym24_ += ((NI) 1);
		}
	}
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU64)(((NU) (x))) - (NU64)(((NU) (y))))));
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s) {
	NCSTRING result;
	result = (NCSTRING)0;
	{
		{
			if (!(s.len == ((NI) 0))) goto LA4_;
			result = "";
			goto LA1;
		}
		LA4_: ;
		result = ((NCSTRING) ((*s.p).data));
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindChar)(NimStringV2 s, NIM_CHAR sub, NI start, NI last) {
	NI result;
	NI colontmp_;
	NI last_2;
	NI L;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	colontmp_ = (NI)0;
	{
		{
			if (!(last == ((NI) 0))) goto LA4_;
			colontmp_ = (s.len-1);
			goto LA1;
		}
		LA4_: ;
		colontmp_ = last;
	} LA1: ;
	last_2 = colontmp_;
	L = (NI)((NI)(last_2 - ((NI) (start))) + ((NI) 1));
	{
		void* found;
		if (!(((NI) 0) < L)) goto LA8_;
		found = memchr(((void*) ((&s.p->data[start]))), sub, ((size_t) (L)));
		{
			if (!!((found == 0))) goto LA12_;
			result = minuspercent___system_704(((NI) (ptrdiff_t) (found)), ((NI) (nimToCStringConv(s))));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto BeforeRet_;
		}
		LA12_: ;
	}
	LA8_: ;
	result = ((NI) -1);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, fill__pureZstrutils_1461)(NI* a, NI aLen_0, NI value) {
	NI xX60gensym165_;
	xX60gensym165_ = ((NI) 0);
	{
		while (1) {
			{
				if (!!((xX60gensym165_ <= (aLen_0-1)))) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			a[xX60gensym165_] = value;
			xX60gensym165_ += ((NI) 1);
		} LA2: ;
	}
}
N_LIB_PRIVATE N_NIMCALL(void, nsuInitSkipTable)(NI* a, NimStringV2 sub) {
	NI m;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	m = sub.len;
	fill__pureZstrutils_1461(a, 256, m);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI i;
		NI colontmp_;
		NI i_2;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(m - ((NI) 1));
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = i_2;
				a[(((NU8)(sub.p->data[i])))- 0] = (NI)((NI)(m - ((NI) 1)) - i);
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindStrA)(tyArray__9cc9aPiDa8VaWjVcFLabEDZQ a, NimStringV2 s, NimStringV2 sub, NI start, NI last) {
	NI result;
	NI colontmp_;
	NI last_2;
	NI subLast;
	NI skip;
{	result = (NI)0;
	colontmp_ = (NI)0;
	{
		{
			if (!(last == ((NI) 0))) goto LA4_;
			colontmp_ = (s.len-1);
			goto LA1;
		}
		LA4_: ;
		colontmp_ = last;
	} LA1: ;
	last_2 = colontmp_;
	subLast = (NI)(sub.len - ((NI) 1));
	{
		if (!(subLast == ((NI) -1))) goto LA8_;
		result = ((NI) (start));
		goto BeforeRet_;
	}
	LA8_: ;
	skip = start;
	{
		while (1) {
			NI i;
			{
				if (!!((subLast <= (NI)(last_2 - ((NI) (skip)))))) goto LA14_;
				goto LA11;
			}
			LA14_: ;
			i = subLast;
			{
				while (1) {
					{
						if (!!(((NU8)(s.p->data[(NI)(((NI) (skip)) + i)]) == (NU8)(sub.p->data[i])))) goto LA20_;
						goto LA17;
					}
					LA20_: ;
					{
						if (!(i == ((NI) 0))) goto LA24_;
						result = ((NI) (skip));
						goto BeforeRet_;
					}
					LA24_: ;
					i -= ((NI) 1);
				} LA17: ;
			}
			skip += a[(((NU8)(s.p->data[(NI)(((NI) (skip)) + subLast)])))- 0];
		} LA11: ;
	}
	result = ((NI) -1);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindStr)(NimStringV2 s, NimStringV2 sub, NI start, NI last) {
	NI result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	{
		if (!((NI)(s.len - ((NI) (start))) < sub.len)) goto LA3_;
		result = ((NI) -1);
		goto BeforeRet_;
	}
	LA3_: ;
	{
		if (!(sub.len == ((NI) 1))) goto LA7_;
		result = nsuFindChar(s, sub.p->data[((NI) 0)], start, last);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		goto BeforeRet_;
	}
	LA7_: ;
	{
		NIM_BOOL colontmp_;
		tyArray__9cc9aPiDa8VaWjVcFLabEDZQ a;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (last == ((NI) 0));
			{
				if (!!(colontmp_)) goto LA13_;
				goto LA10;
			}
			LA13_: ;
			colontmp_ = (((NI) (start)) < s.len);
		} LA10: ;
		{
			NCSTRING found;
			if (!colontmp_) goto LA17_;
			found = strstr(((NCSTRING) ((&s.p->data[start]))), nimToCStringConv(sub));
			{
				{
					if (!!((found == 0))) goto LA22_;
					result = minuspercent___system_704(((NI) (found)), ((NI) (nimToCStringConv(s))));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					goto LA19;
				}
				LA22_: ;
				result = ((NI) -1);
			} LA19: ;
			goto LA9;
		}
		LA17_: ;
		nsuInitSkipTable(a, sub);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = nsuFindStrA(a, s, sub, start, last);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA9: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuCountString)(NimStringV2 s, NimStringV2 sub, NIM_BOOL overlapping) {
	NI result;
	NI i;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	{
		if (!!((((NI) 0) < sub.len))) goto LA3_;
		failedAssertImpl__systemZassertions_65(TM__JGc9b9bh2D3nTdUR7TGyq8aA_5);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	result = ((NI) 0);
	i = ((NI) 0);
	{
		while (1) {
			i = nsuFindStr(s, sub, ((NI) (i)), ((NI) 0));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				if (!(i < ((NI) 0))) goto LA9_;
				goto LA5;
			}
			LA9_: ;
			{
				{
					if (!overlapping) goto LA14_;
					i += ((NI) 1);
					goto LA11;
				}
				LA14_: ;
				i += sub.len;
			} LA11: ;
			result += ((NI) 1);
		}
	} LA5: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuNormalize)(NimStringV2 s) {
	NimStringV2 result;
	NI j;
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) (s.len)));
	j = ((NI) 0);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(s.len - ((NI) 1));
		res = ((NI) 0);
		{
			while (1) {
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				{
					{
						if (!(((NU8)(s.p->data[i])) >= ((NU8)(65)) && ((NU8)(s.p->data[i])) <= ((NU8)(90)))) goto LA11_;
						nimPrepareStrMutationV2((&result));
						result.p->data[j] = ((NIM_CHAR) (((NI) ((NI)(((NU8)(s.p->data[i])) + ((NI) 32))))));
						j += ((NI) 1);
						goto LA8;
					}
					LA11_: ;
					{
						if (!!(((NU8)(s.p->data[i]) == (NU8)(95)))) goto LA15_;
						nimPrepareStrMutationV2((&result));
						result.p->data[j] = s.p->data[i];
						j += ((NI) 1);
						goto LA8;
					}
					LA15_: ;
				} LA8: ;
				res += ((NI) 1);
			} LA3: ;
		}
	}
	{
		if (!!((j == s.len))) goto LA19_;
		setLengthStrV2((&result), ((NI) (j)));
	}
	LA19_: ;
	return result;
}
static N_INLINE(NimStringV2, X5BX5D___pureZunicode_963)(NimStringV2 s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x) {
	NimStringV2 result;
	NI a;
	NI L;
	result.len = 0; result.p = NIM_NIL;
	a = x.a;
	L = (NI)((NI)(x.b - a) + ((NI) 1));
	result = mnewString(((NI) (L)));
	{
		NI i;
		NI i_2;
		i = (NI)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = i_2;
				nimPrepareStrMutationV2((&result));
				result.p->data[i] = s.p->data[(NI)(i + a)];
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
static N_INLINE(void, nimAddCharV1)(NimStringV2* s, NIM_CHAR c) {
	prepareAdd(s, ((NI) 1));
	(*(*s).p).data[(*s).len] = c;
	(*(*s).p).data[(NI)((*s).len + ((NI) 1))] = 0;
	(*s).len += ((NI) 1);
}
N_LIB_PRIVATE N_NIMCALL(NI, findNormalized__pureZstrutils_2262)(NimStringV2 x, NimStringV2* inArray, NI inArrayLen_0) {
	NI result;
	NI i;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	i = ((NI) 0);
	{
		while (1) {
			{
				if (!!((i < (inArrayLen_0-1)))) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			{
				NI T9_;
				T9_ = (NI)0;
				T9_ = nsuCmpIgnoreStyle(x, inArray[i]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				if (!(T9_ == ((NI) 0))) goto LA10_;
				result = i;
				goto BeforeRet_;
			}
			LA10_: ;
			i += ((NI) 2);
		} LA2: ;
	}
	result = ((NI) -1);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, nsuAddf)(NimStringV2* s, NimStringV2 formatstr, NimStringV2* a, NI aLen_0) {
NIM_BOOL oldNimErrFin90_;
NIM_BOOL oldNimErrFin121_;
NIM_BOOL oldNimErrFin8_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ fr;
		NI i;
		NI num;
		nimZeroMem((void*)(&fr), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
		i = ((NI) 0);
		num = ((NI) 0);
		{
			while (1) {
				tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ frag;
				{
					if (!!((i < formatstr.len))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
				{
					NIM_BOOL colontmp_;
					tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA trange;
					colontmp_ = (NIM_BOOL)0;
					{
						colontmp_ = ((NU8)(formatstr.p->data[i]) == (NU8)(36));
						{
							if (!!(colontmp_)) goto LA13_;
							goto LA10;
						}
						LA13_: ;
						colontmp_ = ((NI)(i + ((NI) 1)) < formatstr.len);
					} LA10: ;
					{
						if (!colontmp_) goto LA17_;
						switch (((NU8)(formatstr.p->data[(NI)(i + ((NI) 1))]))) {
						case 35:
						{
							nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
							frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2);
							frag._kind_2.idx = num;
							switch (frag.kind) {
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
							break;
							} 
							i += ((NI) 2);
							num += ((NI) 1);
						}
						break;
						case 36:
						{
							i += ((NI) 2);
							nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
							frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3);
							switch (frag.kind) {
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
							break;
							} 
						}
						break;
						case 49 ... 57:
						case 45:
						{
							NI j;
							NI starti;
							NIM_BOOL negative;
							j = ((NI) 0);
							i += ((NI) 1);
							starti = i;
							negative = ((NU8)(formatstr.p->data[i]) == (NU8)(45));
							{
								if (!negative) goto LA24_;
								i += ((NI) 1);
							}
							LA24_: ;
							{
								while (1) {
									NIM_BOOL colontmp__2;
									colontmp__2 = (NIM_BOOL)0;
									{
										colontmp__2 = (i < formatstr.len);
										{
											if (!!(colontmp__2)) goto LA31_;
											goto LA28;
										}
										LA31_: ;
										colontmp__2 = (((NU8)(formatstr.p->data[i])) >= ((NU8)(48)) && ((NU8)(formatstr.p->data[i])) <= ((NU8)(57)));
									} LA28: ;
									{
										if (!!(colontmp__2)) goto LA35_;
										goto LA27;
									}
									LA35_: ;
									j = (NI)((NI)((NI)(j * ((NI) 10)) + ((NU8)(formatstr.p->data[i]))) - ((NI) 48));
									i += ((NI) 1);
								} LA27: ;
							}
							{
								{
									if (!negative) goto LA40_;
									nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
									frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4);
									frag._kind_2.idx = j;
									switch (frag.kind) {
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
									break;
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
									break;
									case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
									break;
									} 
									goto LA37;
								}
								LA40_: ;
								nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
								frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2);
								frag._kind_2.idx = (NI)(j - ((NI) 1));
								switch (frag.kind) {
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
								break;
								} 
							} LA37: ;
						}
						break;
						case 123:
						{
							NI j_2;
							NI k;
							NIM_BOOL negative_2;
							NI starti_2;
							NI isNumber;
							j_2 = (NI)(i + ((NI) 2));
							k = ((NI) 0);
							negative_2 = ((NU8)(formatstr.p->data[j_2]) == (NU8)(45));
							starti_2 = j_2;
							{
								if (!negative_2) goto LA45_;
								j_2 += ((NI) 1);
							}
							LA45_: ;
							isNumber = ((NI) 0);
							{
								while (1) {
									NIM_BOOL colontmp__3;
									colontmp__3 = (NIM_BOOL)0;
									{
										colontmp__3 = (j_2 < formatstr.len);
										{
											if (!!(colontmp__3)) goto LA52_;
											goto LA49;
										}
										LA52_: ;
										colontmp__3 = !((((NU8)(formatstr.p->data[j_2])) == ((NU8)(0)) || ((NU8)(formatstr.p->data[j_2])) == ((NU8)(125))));
									} LA49: ;
									{
										if (!!(colontmp__3)) goto LA56_;
										goto LA48;
									}
									LA56_: ;
									{
										{
											if (!(((NU8)(formatstr.p->data[j_2])) >= ((NU8)(48)) && ((NU8)(formatstr.p->data[j_2])) <= ((NU8)(57)))) goto LA61_;
											k = (NI)((NI)((NI)(k * ((NI) 10)) + ((NU8)(formatstr.p->data[j_2]))) - ((NI) 48));
											{
												if (!(isNumber == ((NI) 0))) goto LA65_;
												isNumber = ((NI) 1);
											}
											LA65_: ;
											goto LA58;
										}
										LA61_: ;
										isNumber = ((NI) -1);
									} LA58: ;
									j_2 += ((NI) 1);
								} LA48: ;
							}
							{
								{
									if (!(isNumber == ((NI) 1))) goto LA70_;
									{
										{
											if (!negative_2) goto LA75_;
											nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
											frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4);
											frag._kind_2.idx = k;
											switch (frag.kind) {
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
											break;
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
											break;
											case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
											break;
											} 
											goto LA72;
										}
										LA75_: ;
										nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
										frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2);
										frag._kind_2.idx = (NI)(k - ((NI) 1));
										switch (frag.kind) {
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
										break;
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
										break;
										case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
										break;
										} 
									} LA72: ;
									goto LA67;
								}
								LA70_: ;
								nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
								frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6);
								frag._kind_1.text = substr__system_7575(formatstr, (NI)(i + ((NI) 2)), (NI)(j_2 - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
								switch (frag.kind) {
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
								break;
								case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
								break;
								} 
							} LA67: ;
							i = (NI)(j_2 + ((NI) 1));
						}
						break;
						case 97 ... 122:
						case 65 ... 90:
						case 128 ... 255:
						case 95:
						{
							NI j_3;
							j_3 = (NI)(i + ((NI) 1));
							{
								while (1) {
									NIM_BOOL colontmp__4;
									colontmp__4 = (NIM_BOOL)0;
									{
										colontmp__4 = (j_3 < formatstr.len);
										{
											if (!!(colontmp__4)) goto LA83_;
											goto LA80;
										}
										LA83_: ;
										colontmp__4 = (((NU8)(formatstr.p->data[j_3])) >= ((NU8)(97)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(122)) || ((NU8)(formatstr.p->data[j_3])) >= ((NU8)(65)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(90)) || ((NU8)(formatstr.p->data[j_3])) >= ((NU8)(48)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(57)) || ((NU8)(formatstr.p->data[j_3])) >= ((NU8)(128)) && ((NU8)(formatstr.p->data[j_3])) <= ((NU8)(255)) || ((NU8)(formatstr.p->data[j_3])) == ((NU8)(95)));
									} LA80: ;
									{
										if (!!(colontmp__4)) goto LA87_;
										goto LA79;
									}
									LA87_: ;
									j_3 += ((NI) 1);
								} LA79: ;
							}
							nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
							frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5);
							frag._kind_1.text = substr__system_7575(formatstr, (NI)(i + ((NI) 1)), (NI)(j_3 - ((NI) 1)));
							if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
							switch (frag.kind) {
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
							break;
							case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
							break;
							} 
							i = j_3;
						}
						break;
						default:
						{
							NimStringV2 colontmp__5;
							NimStringV2 colontmp__6;
							NimStringV2 colontmp__7;
							NimStringV2 T91_;
							NimStringV2 colontmp__8;
							colontmp__5.len = 0; colontmp__5.p = NIM_NIL;
							colontmp__6.len = 0; colontmp__6.p = NIM_NIL;
							T91_.len = 0; T91_.p = NIM_NIL;
							colontmp__8 = nimCharToStr(formatstr.p->data[(NI)(i + ((NI) 1))]);
							colontmp__5 = colontmp__8;
							T91_ = rawNewString(colontmp__5.len + 26);
appendString((&T91_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_7);
appendString((&T91_), colontmp__5);
							colontmp__7 = T91_;
							colontmp__6 = colontmp__7;
							invalidFormatString__pureZstrutils_2274(colontmp__6);
							if (NIM_UNLIKELY(*nimErr_)) goto LA90_;
							{
								LA90_:;
							}
							{
								oldNimErrFin90_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3228((&colontmp__6));
								eqdestroy___system_3228((&colontmp__5));
								*nimErr_ = oldNimErrFin90_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
						}
						break;
						}
						goto LA9;
					}
					LA17_: ;
					trange = dotdot___pureZunicode_935(i, i);
					{
						while (1) {
							NIM_BOOL colontmp__9;
							colontmp__9 = (NIM_BOOL)0;
							{
								colontmp__9 = (trange.b < formatstr.len);
								{
									if (!!(colontmp__9)) goto LA99_;
									goto LA96;
								}
								LA99_: ;
								colontmp__9 = !(((NU8)(formatstr.p->data[trange.b]) == (NU8)(36)));
							} LA96: ;
							{
								if (!!(colontmp__9)) goto LA103_;
								goto LA95;
							}
							LA103_: ;
							trange.b += ((NI) 1);
						} LA95: ;
					}
					trange.b -= ((NI) 1);
					nimZeroMem((void*)(&frag), sizeof(tyObject_AddfFragment__avS6pb2zPQEKGAAnW9a9aRGQ));
					frag.kind = ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0);
					frag._kind_1.text = X5BX5D___pureZunicode_963(formatstr, trange);
					if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
					switch (frag.kind) {
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
					break;
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
					break;
					case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
					break;
					} 
					i = trange.b;
					i += ((NI) 1);
				} LA9: ;
				fr = frag;
				switch (fr.kind) {
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 3):
				{
					nimAddCharV1((&(*s)), 36);
				}
				break;
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 1):
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 2):
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4):
				{
					NIM_BOOL colontmp__10;
					NI colontmp__11;
					NI idx;
					colontmp__10 = (NIM_BOOL)0;
					colontmp__11 = (NI)0;
					{
						{
							if (!(fr.kind == ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 4))) goto LA110_;
							colontmp__11 = (NI)(aLen_0 - fr._kind_2.idx);
							goto LA107;
						}
						LA110_: ;
						colontmp__11 = fr._kind_2.idx;
					} LA107: ;
					idx = colontmp__11;
					{
						NimStringV2 colontmp__12;
						NimStringV2 colontmp__13;
						NimStringV2 colontmp__14;
						NimStringV2 T122_;
						NimStringV2 colontmp__15;
						{
							colontmp__10 = (((NI) 0) <= idx);
							{
								if (!!(colontmp__10)) goto LA117_;
								goto LA114;
							}
							LA117_: ;
							colontmp__10 = (idx < aLen_0);
						} LA114: ;
						if (!!(colontmp__10)) goto LA119_;
						colontmp__12.len = 0; colontmp__12.p = NIM_NIL;
						colontmp__13.len = 0; colontmp__13.p = NIM_NIL;
						T122_.len = 0; T122_.p = NIM_NIL;
						colontmp__15 = dollar___systemZdollars_3(idx);
						if (NIM_UNLIKELY(*nimErr_)) goto LA121_;
						colontmp__12 = colontmp__15;
						T122_ = rawNewString(colontmp__12.len + 48);
appendString((&T122_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_9);
appendString((&T122_), colontmp__12);
appendString((&T122_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_11);
						colontmp__14 = T122_;
						colontmp__13 = colontmp__14;
						invalidFormatString__pureZstrutils_2274(colontmp__13);
						if (NIM_UNLIKELY(*nimErr_)) goto LA121_;
						{
							LA121_:;
						}
						{
							oldNimErrFin121_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3228((&colontmp__13));
							eqdestroy___system_3228((&colontmp__12));
							*nimErr_ = oldNimErrFin121_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
					}
					LA119_: ;
					prepareAdd((&(*s)), a[idx].len + 0);
appendString((&(*s)), a[idx]);
				}
				break;
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 0):
				{
					prepareAdd((&(*s)), fr._kind_1.text.len + 0);
appendString((&(*s)), fr._kind_1.text);
				}
				break;
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 5):
				case ((tyEnum_AddfFragmentKind__ronT8Vymtn9bA40zcNgDiHg) 6):
				{
					NI x;
					x = findNormalized__pureZstrutils_2262(fr._kind_1.text, a, aLen_0);
					if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
					{
						NIM_BOOL colontmp__16;
						colontmp__16 = (NIM_BOOL)0;
						{
							colontmp__16 = (((NI) 0) <= x);
							{
								if (!!(colontmp__16)) goto LA131_;
								goto LA128;
							}
							LA131_: ;
							colontmp__16 = (x < (aLen_0-1));
						} LA128: ;
						{
							if (!colontmp__16) goto LA135_;
							prepareAdd((&(*s)), a[(NI)(x + ((NI) 1))].len + 0);
appendString((&(*s)), a[(NI)(x + ((NI) 1))]);
							goto LA127;
						}
						LA135_: ;
						invalidFormatString__pureZstrutils_2274(TM__JGc9b9bh2D3nTdUR7TGyq8aA_13);
						if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
					} LA127: ;
				}
				break;
				}
				{
					LA8_:;
				}
				{
					oldNimErrFin8_ = *nimErr_; *nimErr_ = NIM_FALSE;
					eqdestroy___pureZstrutils_2405((&frag));
					*nimErr_ = oldNimErrFin8_;
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			} LA3: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuFormatOpenArray)(NimStringV2 formatstr, NimStringV2* a, NI aLen_0) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(formatstr.len + (NI)((NU64)(aLen_0) << (NU64)(((NI) 4)))))));
	nsuAddf((&result), formatstr, a, aLen_0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuContinuesWith)(NimStringV2 s, NimStringV2 substr, NI start) {
	NIM_BOOL result;
	NI i;
{	result = (NIM_BOOL)0;
	i = ((NI) 0);
	{
		while (1) {
			NIM_BOOL colontmp_;
			{
				if (!(substr.len <= i)) goto LA5_;
				result = NIM_TRUE;
				goto BeforeRet_;
			}
			LA5_: ;
			colontmp_ = (NIM_BOOL)0;
			{
				colontmp_ = (s.len <= (NI)(i + ((NI) (start))));
				{
					if (!colontmp_) goto LA10_;
					goto LA7;
				}
				LA10_: ;
				colontmp_ = !(((NU8)(s.p->data[(NI)(i + ((NI) (start)))]) == (NU8)(substr.p->data[i])));
			} LA7: ;
			{
				if (!colontmp_) goto LA14_;
				result = NIM_FALSE;
				goto BeforeRet_;
			}
			LA14_: ;
			i += ((NI) 1);
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, multiReplace__pureZstrutils_1744)(NimStringV2 s, tyTuple__UV3llMMYFckfui8YMBuUZA* replacements, NI replacementsLen_0) {
	NimStringV2 result;
	NI i;
	tySet_tyChar__nmiMWKVIe46vacnhAFrQvw fastChk;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) (s.len)));
	i = ((NI) 0);
	nimZeroMem((void*)fastChk, sizeof(tySet_tyChar__nmiMWKVIe46vacnhAFrQvw));
	nimZeroMem(fastChk, sizeof(tySet_tyChar__nmiMWKVIe46vacnhAFrQvw));
	{
		NimStringV2* sub;
		NimStringV2* by;
		NI i_2;
		sub = (NimStringV2*)0;
		by = (NimStringV2*)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				tyTuple__UV3llMMYFckfui8YMBuUZA* colontmp_;
				{
					if (!!((i_2 < replacementsLen_0))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp_ = (&replacements[i_2]);
				sub = (&(*colontmp_).Field0);
				by = (&(*colontmp_).Field1);
				{
					if (!(((NI) 0) < (*sub).len)) goto LA10_;
					fastChk[(NU)(((NU8)((*sub).p->data[((NI) 0)])))>>3] |=(1U<<(((NU8)((*sub).p->data[((NI) 0)]))&7U));
				}
				LA10_: ;
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	{
		while (1) {
			{
				if (!!((i < s.len))) goto LA16_;
				goto LA13;
			}
			LA16_: ;
			{
				{
					if (!((fastChk[(NU)(((NU8)(s.p->data[i])))>>3] &(1U<<((NU)(((NU8)(s.p->data[i])))&7U)))!=0)) goto LA21_;
					{
						NimStringV2* sub_2;
						NimStringV2* by_2;
						NI i_3;
						sub_2 = (NimStringV2*)0;
						by_2 = (NimStringV2*)0;
						i_3 = ((NI) 0);
						{
							while (1) {
								tyTuple__UV3llMMYFckfui8YMBuUZA* colontmp__2;
								NIM_BOOL colontmp__3;
								{
									if (!!((i_3 < replacementsLen_0))) goto LA28_;
									goto LA25;
								}
								LA28_: ;
								colontmp__2 = (&replacements[i_3]);
								sub_2 = (&(*colontmp__2).Field0);
								by_2 = (&(*colontmp__2).Field1);
								colontmp__3 = (NIM_BOOL)0;
								{
									colontmp__3 = (((NI) 0) < (*sub_2).len);
									{
										if (!!(colontmp__3)) goto LA33_;
										goto LA30;
									}
									LA33_: ;
									colontmp__3 = nsuContinuesWith(s, (*sub_2), ((NI) (i)));
									if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								} LA30: ;
								{
									if (!colontmp__3) goto LA37_;
									prepareAdd((&result), (*by_2).len + 0);
appendString((&result), (*by_2));
									i += (*sub_2).len;
									goto LA18;
								}
								LA37_: ;
								i_3 += ((NI) 1);
							} LA25: ;
						}
					}
				}
				LA21_: ;
				nimAddCharV1((&result), s.p->data[i]);
				i += ((NI) 1);
			} LA18: ;
		} LA13: ;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuEndsWith)(NimStringV2 s, NimStringV2 suffix) {
	NIM_BOOL result;
	NI suffixLenX60gensym145_;
	NI sLenX60gensym145_;
	NI iX60gensym145_;
	NI jX60gensym145_;
{	result = (NIM_BOOL)0;
	suffixLenX60gensym145_ = suffix.len;
	sLenX60gensym145_ = s.len;
	iX60gensym145_ = ((NI) 0);
	jX60gensym145_ = (NI)(sLenX60gensym145_ - suffixLenX60gensym145_);
	{
		while (1) {
			NIM_BOOL colontmp_;
			colontmp_ = (NIM_BOOL)0;
			{
				colontmp_ = (((NI) 0) <= (NI)(iX60gensym145_ + jX60gensym145_));
				{
					if (!!(colontmp_)) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp_ = ((NI)(iX60gensym145_ + jX60gensym145_) < sLenX60gensym145_);
			} LA3: ;
			{
				if (!!(colontmp_)) goto LA10_;
				goto LA2;
			}
			LA10_: ;
			{
				if (!!(((NU8)(s.p->data[(NI)(iX60gensym145_ + jX60gensym145_)]) == (NU8)(suffix.p->data[iX60gensym145_])))) goto LA14_;
				result = NIM_FALSE;
				goto BeforeRet_;
			}
			LA14_: ;
			iX60gensym145_ += ((NI) 1);
		} LA2: ;
	}
	{
		if (!(suffixLenX60gensym145_ <= iX60gensym145_)) goto LA18_;
		result = NIM_TRUE;
		goto BeforeRet_;
	}
	LA18_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuFormatSingleElem)(NimStringV2 formatstr, NimStringV2 a) {
	NimStringV2 result;
	tyArray__Wex9cTiLLztRmCSkLU7RNiA T2_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(formatstr.len + a.len))));
	T2_[0] = a;
	nsuAddf((&result), formatstr, T2_, 1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&a));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuRepeatChar)(NIM_CHAR c, NI count) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(count);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(((NI) (count)) - ((NI) 1));
		res = ((NI) 0);
		{
			while (1) {
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				nimPrepareStrMutationV2((&result));
				result.p->data[i] = c;
				res += ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuReplaceStr)(NimStringV2 s, NimStringV2 sub, NimStringV2 by) {
	NimStringV2 result;
	NI subLen;
NIM_BOOL oldNimErrFin10_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__JGc9b9bh2D3nTdUR7TGyq8aA_15;
	subLen = sub.len;
	{
		NimStringV2 colontmp__4;
		tyArray__9cc9aPiDa8VaWjVcFLabEDZQ a;
		NI last_2;
		NI i_2;
		{
			if (!(subLen == ((NI) 0))) goto LA4_;
			eqcopy___system_3231((&result), s);
			goto LA1;
		}
		LA4_: ;
		{
			NimStringV2 colontmp_;
			NIM_CHAR c;
			NI last;
			NI i;
			NimStringV2 colontmp__3;
			if (!(subLen == ((NI) 1))) goto LA8_;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			c = sub.p->data[((NI) 0)];
			last = (s.len-1);
			i = ((NI) 0);
			{
				while (1) {
					NimStringV2 colontmp__2;
					NI j;
					colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
					j = nsuFindChar(s, c, ((NI) (i)), last);
					if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
					{
						if (!(j < ((NI) 0))) goto LA15_;
						goto LA11;
					}
					LA15_: ;
					colontmp__2 = substr__system_7575(s, i, (NI)(j - ((NI) 1)));
					if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
					prepareAdd((&result), colontmp__2.len + 0);
appendString((&result), colontmp__2);
					prepareAdd((&result), by.len + 0);
appendString((&result), by);
					i = (NI)(j + subLen);
					eqdestroy___system_3228((&colontmp__2));
				}
			} LA11: ;
			colontmp__3 = substr__system_7587(s, i);
			if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
			colontmp_ = colontmp__3;
			prepareAdd((&result), colontmp_.len + 0);
appendString((&result), colontmp_);
			eqdestroy___system_3228((&colontmp_));
			goto LA1;
			{
				LA10_:;
			}
			{
				oldNimErrFin10_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3228((&colontmp_));
				*nimErr_ = oldNimErrFin10_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA8_: ;
		colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
		nsuInitSkipTable(a, sub);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		last_2 = (s.len-1);
		i_2 = ((NI) 0);
		{
			while (1) {
				NimStringV2 colontmp__5;
				NI j_2;
				colontmp__5.len = 0; colontmp__5.p = NIM_NIL;
				j_2 = nsuFindStrA(a, s, sub, ((NI) (i_2)), last_2);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					if (!(j_2 < ((NI) 0))) goto LA23_;
					goto LA19;
				}
				LA23_: ;
				colontmp__5 = substr__system_7575(s, i_2, (NI)(j_2 - ((NI) 1)));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				prepareAdd((&result), colontmp__5.len + 0);
appendString((&result), colontmp__5);
				prepareAdd((&result), by.len + 0);
appendString((&result), by);
				i_2 = (NI)(j_2 + subLen);
				eqdestroy___system_3228((&colontmp__5));
			}
		} LA19: ;
		colontmp__4 = substr__system_7587(s, i_2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		prepareAdd((&result), colontmp__4.len + 0);
appendString((&result), colontmp__4);
		eqdestroy___system_3228((&colontmp__4));
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuToBin)(NI64 x, NI len) {
	NimStringV2 result;
	NU64 mask;
	NU64 shift;
	result.len = 0; result.p = NIM_NIL;
	mask = 1ULL;
	shift = 0ULL;
	result = mnewString(((NI) (len)));
	{
		NI j;
		NI colontmp_;
		NI res;
		j = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(((NI) (len)) - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				j = res;
				nimPrepareStrMutationV2((&result));
				result.p->data[j] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NU64)((NU64)((NU64)(((NU64) (x)) & mask)) >> (NU64)(shift)))) + ((NI) 48))))));
				shift += ((NI) 1);
				mask = (NU64)((NU64)(mask) << (NU64)(1ULL));
				res -= ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuToOct)(NI64 x, NI len) {
	NimStringV2 result;
	NU64 mask;
	NU64 shift;
	result.len = 0; result.p = NIM_NIL;
	mask = 7ULL;
	shift = 0ULL;
	result = mnewString(((NI) (len)));
	{
		NI j;
		NI colontmp_;
		NI res;
		j = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(((NI) (len)) - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				j = res;
				nimPrepareStrMutationV2((&result));
				result.p->data[j] = ((NIM_CHAR) (((NI) ((NI)(((NI) ((NU64)((NU64)((NU64)(((NU64) (x)) & mask)) >> (NU64)(shift)))) + ((NI) 48))))));
				shift += ((NI) 3);
				mask = (NU64)((NU64)(mask) << (NU64)(3ULL));
				res -= ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toHexImpl__pureZstrutils_714)(NU64 x, NI len, NIM_BOOL handleNegative) {
	NimStringV2 result;
	NU64 n;
	result.len = 0; result.p = NIM_NIL;
	n = x;
	result = mnewString(((NI) (len)));
	{
		NI j;
		NI colontmp_;
		NI res;
		j = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(((NI) (len)) - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				NIM_BOOL colontmp__2;
				{
					if (!!((((NI) 0) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				j = res;
				nimPrepareStrMutationV2((&result));
				result.p->data[j] = TM__JGc9b9bh2D3nTdUR7TGyq8aA_17.p->data[(NU64)(n & 15ULL)];
				n = (NU64)((NU64)(n) >> (NU64)(((NI) 4)));
				colontmp__2 = (NIM_BOOL)0;
				{
					colontmp__2 = (n == 0ULL);
					{
						if (!!(colontmp__2)) goto LA11_;
						goto LA8;
					}
					LA11_: ;
					colontmp__2 = handleNegative;
				} LA8: ;
				{
					if (!colontmp__2) goto LA15_;
					n = 18446744073709551615ULL;
				}
				LA15_: ;
				res -= ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuJoinSep)(NimStringV2* a, NI aLen_0, NimStringV2 sep) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	{
		{
			NI L;
			if (!(((NI) 0) < aLen_0)) goto LA4_;
			L = (NI)(sep.len * (NI)(aLen_0 - ((NI) 1)));
			{
				NI i;
				NI colontmp_;
				NI res;
				i = (NI)0;
				colontmp_ = (NI)0;
				colontmp_ = (aLen_0-1);
				res = ((NI) 0);
				{
					while (1) {
						{
							if (!!((res <= colontmp_))) goto LA11_;
							goto LA8;
						}
						LA11_: ;
						i = res;
						L += a[i].len;
						res += ((NI) 1);
					} LA8: ;
				}
			}
			result = rawNewString(((NI) (L)));
			prepareAdd((&result), a[((NI) 0)].len + 0);
appendString((&result), a[((NI) 0)]);
			{
				NI i_2;
				NI colontmp__2;
				NI res_2;
				i_2 = (NI)0;
				colontmp__2 = (NI)0;
				colontmp__2 = (aLen_0-1);
				res_2 = ((NI) 1);
				{
					while (1) {
						{
							if (!!((res_2 <= colontmp__2))) goto LA18_;
							goto LA15;
						}
						LA18_: ;
						i_2 = res_2;
						prepareAdd((&result), sep.len + 0);
appendString((&result), sep);
						prepareAdd((&result), a[i_2].len + 0);
appendString((&result), a[i_2]);
						res_2 += ((NI) 1);
					} LA15: ;
				}
			}
			goto LA1;
		}
		LA4_: ;
		result = TM__JGc9b9bh2D3nTdUR7TGyq8aA_18;
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuRepeatStr)(NimStringV2 s, NI n) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(((NI) (n)) * s.len))));
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = ((NI) (n));
		res = ((NI) 1);
		{
			while (1) {
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				prepareAdd((&result), s.len + 0);
appendString((&result), s);
				res += ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuAlignString)(NimStringV2 s, NI count, NIM_CHAR padding) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	{
		{
			NI spaces;
			if (!(s.len < ((NI) (count)))) goto LA4_;
			result = mnewString(count);
			spaces = (NI)(((NI) (count)) - s.len);
			{
				NI i;
				NI colontmp_;
				NI res;
				i = (NI)0;
				colontmp_ = (NI)0;
				colontmp_ = (NI)(spaces - ((NI) 1));
				res = ((NI) 0);
				{
					while (1) {
						{
							if (!!((res <= colontmp_))) goto LA11_;
							goto LA8;
						}
						LA11_: ;
						i = res;
						nimPrepareStrMutationV2((&result));
						result.p->data[i] = padding;
						res += ((NI) 1);
					} LA8: ;
				}
			}
			{
				NI i_2;
				NI colontmp__2;
				NI res_2;
				i_2 = (NI)0;
				colontmp__2 = (NI)0;
				colontmp__2 = (NI)(((NI) (count)) - ((NI) 1));
				res_2 = spaces;
				{
					while (1) {
						{
							if (!!((res_2 <= colontmp__2))) goto LA18_;
							goto LA15;
						}
						LA18_: ;
						i_2 = res_2;
						nimPrepareStrMutationV2((&result));
						result.p->data[i_2] = s.p->data[(NI)(i_2 - spaces)];
						res_2 += ((NI) 1);
					} LA15: ;
				}
			}
			goto LA1;
		}
		LA4_: ;
		eqcopy___system_3231((&result), s);
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nimIdentNormalize__pureZstrutils_105)(NimStringV2 s) {
	NimStringV2 result;
	NI j;
{	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) (s.len)));
	{
		if (!(s.len == ((NI) 0))) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	nimPrepareStrMutationV2((&result));
	result.p->data[((NI) 0)] = s.p->data[((NI) 0)];
	j = ((NI) 1);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(s.len - ((NI) 1));
		res = ((NI) 1);
		{
			while (1) {
				{
					if (!!((res <= colontmp_))) goto LA10_;
					goto LA7;
				}
				LA10_: ;
				i = res;
				{
					{
						if (!(((NU8)(s.p->data[i])) >= ((NU8)(65)) && ((NU8)(s.p->data[i])) <= ((NU8)(90)))) goto LA15_;
						nimPrepareStrMutationV2((&result));
						result.p->data[j] = ((NIM_CHAR) (((NI) ((NI)(((NU8)(s.p->data[i])) + ((NI) 32))))));
						j += ((NI) 1);
						goto LA12;
					}
					LA15_: ;
					{
						if (!!(((NU8)(s.p->data[i]) == (NU8)(95)))) goto LA19_;
						nimPrepareStrMutationV2((&result));
						result.p->data[j] = s.p->data[i];
						j += ((NI) 1);
						goto LA12;
					}
					LA19_: ;
				} LA12: ;
				res += ((NI) 1);
			} LA7: ;
		}
	}
	{
		if (!!((j == s.len))) goto LA23_;
		setLengthStrV2((&result), ((NI) (j)));
	}
	LA23_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, allCharsInSet__pureZstrutils_1397)(NimStringV2 s, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw theSet) {
	NIM_BOOL result;
{	result = (NIM_BOOL)0;
	{
		NIM_CHAR c;
		NI i;
		NI L;
		c = (NIM_CHAR)0;
		i = ((NI) 0);
		L = s.len;
		{
			while (1) {
				{
					if (!!((i < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				c = s.p->data[i];
				{
					if (!!(((theSet[(NU)(((NU8)(c)))>>3] &(1U<<((NU)(((NU8)(c)))&7U)))!=0))) goto LA10_;
					result = NIM_FALSE;
					goto BeforeRet_;
				}
				LA10_: ;
				i += ((NI) 1);
			} LA3: ;
		}
	}
	result = NIM_TRUE;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuToLowerAsciiStr)(NimStringV2 s) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) (s.len)));
	{
		NI iX60gensym7_;
		NI colontmp_;
		NI res;
		iX60gensym7_ = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(s.len - ((NI) 1));
		res = ((NI) 0);
		{
			while (1) {
				NIM_CHAR T8_;
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				iX60gensym7_ = res;
				nimPrepareStrMutationV2((&result));
				T8_ = (NIM_CHAR)0;
				T8_ = nsuToLowerAsciiChar(s.p->data[iX60gensym7_]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				result.p->data[iX60gensym7_] = T8_;
				res += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__pureZstrutils_1693)(NimStringV2 s, NimStringV2 sub) {
	NIM_BOOL result;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = nsuFindStr(s, sub, ((NI) 0), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (((NI) 0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, parseHex__pureZstrutils_919)(NimStringV2 s, NI* number, NI start, NI maxLen) {
	NI result;
	NI colontmp_;
	NIM_BOOL colontmp__2;
	NI i;
	NI output;
	NIM_BOOL foundDigit;
	NI last;
	result = (NI)0;
	colontmp_ = (NI)0;
	colontmp__2 = (NIM_BOOL)0;
	i = start;
	output = ((NI) 0);
	foundDigit = NIM_FALSE;
	{
		{
			if (!(maxLen == ((NI) 0))) goto LA4_;
			colontmp_ = s.len;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (NI)(i + maxLen);
	} LA1: ;
	last = ((s.len <= colontmp_) ? s.len : colontmp_);
	{
		NIM_BOOL colontmp__3;
		NIM_BOOL colontmp__4;
		colontmp__3 = (NIM_BOOL)0;
		{
			{
				colontmp__2 = ((NI)(i + ((NI) 1)) < last);
				{
					if (!!(colontmp__2)) goto LA11_;
					goto LA8;
				}
				LA11_: ;
				colontmp__2 = ((NU8)(s.p->data[i]) == (NU8)(48));
			} LA8: ;
			colontmp__3 = colontmp__2;
			{
				if (!!(colontmp__3)) goto LA15_;
				goto LA7;
			}
			LA15_: ;
			colontmp__3 = (((NU8)(s.p->data[(NI)(i + ((NI) 1))])) == ((NU8)(120)) || ((NU8)(s.p->data[(NI)(i + ((NI) 1))])) == ((NU8)(88)));
		} LA7: ;
		{
			if (!colontmp__3) goto LA19_;
			i += ((NI) 2);
			goto LA6;
		}
		LA19_: ;
		colontmp__4 = (NIM_BOOL)0;
		{
			colontmp__4 = (i < last);
			{
				if (!!(colontmp__4)) goto LA24_;
				goto LA21;
			}
			LA24_: ;
			colontmp__4 = ((NU8)(s.p->data[i]) == (NU8)(35));
		} LA21: ;
		{
			if (!colontmp__4) goto LA28_;
			i += ((NI) 1);
			goto LA6;
		}
		LA28_: ;
	} LA6: ;
	{
		while (1) {
			{
				if (!!((i < last))) goto LA34_;
				goto LA31;
			}
			LA34_: ;
			switch (((NU8)(s.p->data[i]))) {
			case 95:
			{
			}
			break;
			case 48 ... 57:
			{
				output = (NI)((NI)((NU64)(output) << (NU64)(((NI) 4))) | (NI)(((NU8)(s.p->data[i])) - ((NI) 48)));
				foundDigit = NIM_TRUE;
			}
			break;
			case 97 ... 102:
			{
				output = (NI)((NI)((NU64)(output) << (NU64)(((NI) 4))) | (NI)((NI)(((NU8)(s.p->data[i])) - ((NI) 97)) + ((NI) 10)));
				foundDigit = NIM_TRUE;
			}
			break;
			case 65 ... 70:
			{
				output = (NI)((NI)((NU64)(output) << (NU64)(((NI) 4))) | (NI)((NI)(((NU8)(s.p->data[i])) - ((NI) 65)) + ((NI) 10)));
				foundDigit = NIM_TRUE;
			}
			break;
			default:
			{
				goto LA30;
			}
			break;
			}
			i += ((NI) 1);
		} LA31: ;
	} LA30: ;
	{
		if (!foundDigit) goto LA43_;
		(*number) = output;
		result = (NI)(i - start);
	}
	LA43_: ;
	return result;
}
static N_INLINE(void, appendChar)(NimStringV2* dest, NIM_CHAR c) {
	(*(*dest).p).data[(*dest).len] = c;
	(*(*dest).p).data[(NI)((*dest).len + ((NI) 1))] = 0;
	(*dest).len += ((NI) 1);
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuUnescape)(NimStringV2 s, NimStringV2 prefix, NimStringV2 suffix) {
	NimStringV2 result;
	NI i;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) (s.len)));
	i = prefix.len;
	{
		NIM_BOOL T3_;
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T6_;
		NimStringV2 T7_;
		T3_ = (NIM_BOOL)0;
		T3_ = nsuStartsWith(s, prefix);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		T6_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T6_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T6_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T6_).Sup.Sup.name = "ValueError";
		T7_.len = 0; T7_.p = NIM_NIL;
		T7_ = rawNewString(prefix.len + 28);
appendString((&T7_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_20);
appendString((&T7_), prefix);
		(*T6_).Sup.Sup.message = T7_;
		(*T6_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T6_, "ValueError", "unescape", "strutils.nim", 2262);
		goto BeforeRet_;
	}
	LA4_: ;
	{
		while (1) {
			{
				if (!((NI)(s.len - suffix.len) <= i)) goto LA12_;
				goto LA8;
			}
			LA12_: ;
			{
				{
					if (!((NU8)(s.p->data[i]) == (NU8)(92))) goto LA17_;
					{
						if (!(s.len <= (NI)(i + ((NI) 1)))) goto LA21_;
						nimAddCharV1((&result), 92);
						goto LA8;
					}
					LA21_: ;
					switch (((NU8)(s.p->data[(NI)(i + ((NI) 1))]))) {
					case 120:
					{
						NI c;
						NI T24_;
						i += ((NI) 2);
						c = ((NI) 0);
						T24_ = (NI)0;
						T24_ = parseHex__pureZstrutils_919(s, (&c), i, ((NI) 2));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						i += T24_;
						nimAddCharV1((&result), ((NIM_CHAR) (((NI) (c)))));
						i -= ((NI) 2);
					}
					break;
					case 92:
					{
						nimAddCharV1((&result), 92);
					}
					break;
					case 39:
					{
						nimAddCharV1((&result), 39);
					}
					break;
					case 34:
					{
						nimAddCharV1((&result), 34);
					}
					break;
					default:
					{
						NimStringV2 colontmp_;
						NimStringV2 T29_;
						colontmp_.len = 0; colontmp_.p = NIM_NIL;
						T29_.len = 0; T29_.p = NIM_NIL;
						T29_ = rawNewString(2);
appendString((&T29_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_22);
appendChar((&T29_), s.p->data[(NI)(i + ((NI) 1))]);
						colontmp_ = T29_;
						prepareAdd((&result), colontmp_.len + 0);
appendString((&result), colontmp_);
						eqdestroy___system_3228((&colontmp_));
					}
					break;
					}
					i += ((NI) 2);
					goto LA14;
				}
				LA17_: ;
				nimAddCharV1((&result), s.p->data[i]);
				i += ((NI) 1);
			} LA14: ;
		}
	} LA8: ;
	{
		NIM_BOOL T32_;
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T35_;
		NimStringV2 T36_;
		T32_ = (NIM_BOOL)0;
		T32_ = nsuEndsWith(s, suffix);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T32_)) goto LA33_;
		T35_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T35_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T35_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T35_).Sup.Sup.name = "ValueError";
		T36_.len = 0; T36_.p = NIM_NIL;
		T36_ = rawNewString(suffix.len + 24);
appendString((&T36_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_24);
appendString((&T36_), suffix);
		(*T35_).Sup.Sup.message = T36_;
		(*T35_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T35_, "ValueError", "unescape", "strutils.nim", 2290);
		goto BeforeRet_;
	}
	LA33_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuRFindChar)(NimStringV2 s, NIM_CHAR sub, NI start, NI last) {
	NI result;
	NI colontmp_;
	NI last_2;
{	result = (NI)0;
	colontmp_ = (NI)0;
	{
		{
			if (!(last == ((NI) -1))) goto LA4_;
			colontmp_ = (s.len-1);
			goto LA1;
		}
		LA4_: ;
		colontmp_ = last;
	} LA1: ;
	last_2 = colontmp_;
	{
		NI i;
		NI colontmp__2;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__2 = ((NI) (start));
		res = last_2;
		{
			while (1) {
				{
					if (!!((colontmp__2 <= res))) goto LA11_;
					goto LA8;
				}
				LA11_: ;
				i = res;
				{
					if (!((NU8)(sub) == (NU8)(s.p->data[i]))) goto LA15_;
					result = i;
					goto BeforeRet_;
				}
				LA15_: ;
				res -= ((NI) 1);
			} LA8: ;
		}
	}
	result = ((NI) -1);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuRFindStr)(NimStringV2 s, NimStringV2 sub, NI start, NI last) {
	NI result;
	NI colontmp_;
	NI last_2;
{	result = (NI)0;
	{
		if (!(sub.len == ((NI) 0))) goto LA3_;
		result = ((NI) -1);
		goto BeforeRet_;
	}
	LA3_: ;
	{
		if (!((NI)(s.len - ((NI) (start))) < sub.len)) goto LA7_;
		result = ((NI) -1);
		goto BeforeRet_;
	}
	LA7_: ;
	colontmp_ = (NI)0;
	{
		{
			if (!(last == ((NI) -1))) goto LA12_;
			colontmp_ = (s.len-1);
			goto LA9;
		}
		LA12_: ;
		colontmp_ = last;
	} LA9: ;
	last_2 = colontmp_;
	result = ((NI) 0);
	{
		NI i;
		NI colontmp__2;
		NI colontmp__3;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__3 = (NI)0;
		colontmp__2 = (NI)((NI)(last_2 - sub.len) + ((NI) 1));
		colontmp__3 = ((NI) (start));
		res = colontmp__2;
		{
			while (1) {
				{
					if (!!((colontmp__3 <= res))) goto LA19_;
					goto LA16;
				}
				LA19_: ;
				i = res;
				{
					NI j;
					NI colontmp__4;
					NI res_2;
					j = (NI)0;
					colontmp__4 = (NI)0;
					colontmp__4 = (NI)(sub.len - ((NI) 1));
					res_2 = ((NI) 0);
					{
						while (1) {
							{
								if (!!((res_2 <= colontmp__4))) goto LA26_;
								goto LA23;
							}
							LA26_: ;
							j = res_2;
							result = i;
							{
								if (!!(((NU8)(sub.p->data[j]) == (NU8)(s.p->data[(NI)(i + j)])))) goto LA30_;
								result = ((NI) -1);
								goto LA21;
							}
							LA30_: ;
							res_2 += ((NI) 1);
						} LA23: ;
					}
				} LA21: ;
				{
					if (!!((result == ((NI) -1)))) goto LA34_;
					goto BeforeRet_;
				}
				LA34_: ;
				res -= ((NI) 1);
			} LA16: ;
		}
	}
	result = ((NI) -1);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, nsuSplitChar)(NimStringV2 s, NIM_CHAR sep, NI maxsplit) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result.len = 0; result.p = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content*) newSeqPayload(0, sizeof(NimStringV2), NIM_ALIGNOF(NimStringV2));
	{
		NimStringV2 xX60gensym66_;
		NI lastX60gensym33_;
		NI splitsX60gensym33_;
		xX60gensym66_.len = 0; xX60gensym66_.p = NIM_NIL;
		lastX60gensym33_ = ((NI) 0);
		splitsX60gensym33_ = maxsplit;
		{
			while (1) {
				NimStringV2 colontmp_;
				NI firstX60gensym33_;
				{
					if (!!((lastX60gensym33_ <= s.len))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp_.len = 0; colontmp_.p = NIM_NIL;
				firstX60gensym33_ = lastX60gensym33_;
				{
					while (1) {
						NIM_BOOL colontmp__2;
						colontmp__2 = (NIM_BOOL)0;
						{
							colontmp__2 = (lastX60gensym33_ < s.len);
							{
								if (!!(colontmp__2)) goto LA13_;
								goto LA10;
							}
							LA13_: ;
							colontmp__2 = !(((NU8)(s.p->data[lastX60gensym33_]) == (NU8)(sep)));
						} LA10: ;
						{
							if (!!(colontmp__2)) goto LA17_;
							goto LA9;
						}
						LA17_: ;
						lastX60gensym33_ += ((NI) 1);
					} LA9: ;
				}
				{
					if (!(splitsX60gensym33_ == ((NI) 0))) goto LA21_;
					lastX60gensym33_ = s.len;
				}
				LA21_: ;
				xX60gensym66_ = substr__system_7575(s, firstX60gensym33_, (NI)(lastX60gensym33_ - ((NI) 1)));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				colontmp_ = xX60gensym66_;
				xX60gensym66_.len = 0; xX60gensym66_.p = NIM_NIL;
				add__stdZenumutils_66((&result), colontmp_);
				{
					if (!(splitsX60gensym33_ == ((NI) 0))) goto LA25_;
					goto LA2;
				}
				LA25_: ;
				splitsX60gensym33_ -= ((NI) 1);
				lastX60gensym33_ += ((NI) 1);
			} LA3: ;
		} LA2: ;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, nsuSplitLines)(NimStringV2 s, NIM_BOOL keepEol) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result.len = 0; result.p = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content*) newSeqPayload(0, sizeof(NimStringV2), NIM_ALIGNOF(NimStringV2));
	{
		NimStringV2 xX60gensym75_;
		NI first;
		NI last;
		NI eolpos;
		xX60gensym75_.len = 0; xX60gensym75_.p = NIM_NIL;
		first = ((NI) 0);
		last = ((NI) 0);
		eolpos = ((NI) 0);
		{
			while (1) {
				NI colontmp_;
				NimStringV2 colontmp__2;
				colontmp_ = (NI)0;
				colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
				{
					while (1) {
						NIM_BOOL colontmp__3;
						colontmp__3 = (NIM_BOOL)0;
						{
							colontmp__3 = (last < s.len);
							{
								if (!!(colontmp__3)) goto LA9_;
								goto LA6;
							}
							LA9_: ;
							colontmp__3 = !((((NU8)(s.p->data[last])) == ((NU8)(13)) || ((NU8)(s.p->data[last])) == ((NU8)(10))));
						} LA6: ;
						{
							if (!!(colontmp__3)) goto LA13_;
							goto LA5;
						}
						LA13_: ;
						last += ((NI) 1);
					} LA5: ;
				}
				eolpos = last;
				{
					if (!(last < s.len)) goto LA17_;
					{
						{
							if (!((NU8)(s.p->data[last]) == (NU8)(10))) goto LA22_;
							last += ((NI) 1);
							goto LA19;
						}
						LA22_: ;
						{
							NIM_BOOL colontmp__4;
							if (!((NU8)(s.p->data[last]) == (NU8)(13))) goto LA26_;
							last += ((NI) 1);
							colontmp__4 = (NIM_BOOL)0;
							{
								colontmp__4 = (last < s.len);
								{
									if (!!(colontmp__4)) goto LA31_;
									goto LA28;
								}
								LA31_: ;
								colontmp__4 = ((NU8)(s.p->data[last]) == (NU8)(10));
							} LA28: ;
							{
								if (!colontmp__4) goto LA35_;
								last += ((NI) 1);
							}
							LA35_: ;
							goto LA19;
						}
						LA26_: ;
					} LA19: ;
				}
				LA17_: ;
				{
					{
						if (!keepEol) goto LA40_;
						colontmp_ = (NI)(last - ((NI) 1));
						goto LA37;
					}
					LA40_: ;
					colontmp_ = (NI)(eolpos - ((NI) 1));
				} LA37: ;
				xX60gensym75_ = substr__system_7575(s, first, colontmp_);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				colontmp__2 = xX60gensym75_;
				xX60gensym75_.len = 0; xX60gensym75_.p = NIM_NIL;
				add__stdZenumutils_66((&result), colontmp__2);
				{
					if (!(eolpos == last)) goto LA44_;
					goto LA2;
				}
				LA44_: ;
				first = last;
			}
		} LA2: ;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuReplaceChar)(NimStringV2 s, NIM_CHAR sub, NIM_CHAR by) {
	NimStringV2 result;
	NI i;
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) (s.len)));
	i = ((NI) 0);
	{
		while (1) {
			{
				if (!!((i < s.len))) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			{
				{
					if (!((NU8)(s.p->data[i]) == (NU8)(sub))) goto LA10_;
					nimPrepareStrMutationV2((&result));
					result.p->data[i] = by;
					goto LA7;
				}
				LA10_: ;
				nimPrepareStrMutationV2((&result));
				result.p->data[i] = s.p->data[i];
			} LA7: ;
			i += ((NI) 1);
		} LA2: ;
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuFindCharSet)(NimStringV2 s, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw chars, NI start, NI last) {
	NI result;
	NI colontmp_;
	NI last_2;
{	result = (NI)0;
	colontmp_ = (NI)0;
	{
		{
			if (!(last == ((NI) 0))) goto LA4_;
			colontmp_ = (s.len-1);
			goto LA1;
		}
		LA4_: ;
		colontmp_ = last;
	} LA1: ;
	last_2 = colontmp_;
	{
		NI i;
		NI colontmp__2;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__2 = ((NI) (start));
		res = colontmp__2;
		{
			while (1) {
				{
					if (!!((res <= last_2))) goto LA11_;
					goto LA8;
				}
				LA11_: ;
				i = res;
				{
					if (!((chars[(NU)(((NU8)(s.p->data[i])))>>3] &(1U<<((NU)(((NU8)(s.p->data[i])))&7U)))!=0)) goto LA15_;
					result = i;
					goto BeforeRet_;
				}
				LA15_: ;
				res += ((NI) 1);
			} LA8: ;
		}
	}
	result = ((NI) -1);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, contains__pureZstrutils_1697)(NimStringV2 s, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw chars) {
	NIM_BOOL result;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = nsuFindCharSet(s, chars, ((NI) 0), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (((NI) 0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, toHex__pureZstrutils_1860)(NI x, NI len) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = toHexImpl__pureZstrutils_714(((NU64) (x)), len, (x < ((NI) 0)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuParseHexInt)(NimStringV2 s) {
	NI result;
	NI L;
	NIM_BOOL colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	result = ((NI) 0);
	L = parseHex__pureZstrutils_919(s, (&result), ((NI) 0), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !((L == s.len));
		{
			if (!colontmp_) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (L == ((NI) 0));
	} LA1: ;
	{
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T10_;
		NimStringV2 T11_;
		if (!colontmp_) goto LA8_;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T10_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T10_).Sup.Sup.name = "ValueError";
		T11_.len = 0; T11_.p = NIM_NIL;
		T11_ = rawNewString(s.len + 21);
appendString((&T11_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_26);
appendString((&T11_), s);
		(*T10_).Sup.Sup.message = T11_;
		(*T10_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T10_, "ValueError", "parseHexInt", "strutils.nim", 1155);
		goto BeforeRet_;
	}
	LA8_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuParseInt)(NimStringV2 s) {
	NI result;
	NI L;
	NIM_BOOL colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	result = ((NI) 0);
	L = npuParseInt(s, (&result), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !((L == s.len));
		{
			if (!colontmp_) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (L == ((NI) 0));
	} LA1: ;
	{
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T10_;
		NimStringV2 T11_;
		if (!colontmp_) goto LA8_;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T10_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T10_).Sup.Sup.name = "ValueError";
		T11_.len = 0; T11_.p = NIM_NIL;
		T11_ = rawNewString(s.len + 17);
appendString((&T11_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_28);
appendString((&T11_), s);
		(*T10_).Sup.Sup.message = T11_;
		(*T10_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T10_, "ValueError", "parseInt", "strutils.nim", 1073);
		goto BeforeRet_;
	}
	LA8_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuToOctal)(NIM_CHAR c) {
	NimStringV2 result;
	NI val;
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) 3));
	val = ((NU8)(c));
	{
		NI i;
		NI res;
		i = (NI)0;
		res = ((NI) 2);
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				nimPrepareStrMutationV2((&result));
				result.p->data[i] = ((NIM_CHAR) (((NI) ((NI)((NI)(val % ((NI) 8)) + ((NI) 48))))));
				val = (NI)(val / ((NI) 8));
				res -= ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NF, nsuParseFloat)(NimStringV2 s) {
	NF result;
	NI L;
	NIM_BOOL colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NF)0;
	result = 0.0;
	L = npuParseFloat(s, (&result), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !((L == s.len));
		{
			if (!colontmp_) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (L == ((NI) 0));
	} LA1: ;
	{
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T10_;
		NimStringV2 T11_;
		if (!colontmp_) goto LA8_;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T10_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T10_).Sup.Sup.name = "ValueError";
		T11_.len = 0; T11_.p = NIM_NIL;
		T11_ = rawNewString(s.len + 15);
appendString((&T11_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_30);
appendString((&T11_), s);
		(*T10_).Sup.Sup.message = T11_;
		(*T10_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T10_, "ValueError", "parseFloat", "strutils.nim", 1115);
		goto BeforeRet_;
	}
	LA8_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuIntToStr)(NI x, NI minchars) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = dollar___systemZdollars_3((x > 0? (x) : -(x)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(((NI) (minchars)) - result.len);
		res = ((NI) 1);
		{
			while (1) {
				NimStringV2 colontmp__2;
				NimStringV2 T8_;
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				T8_.len = 0; T8_.p = NIM_NIL;
				T8_ = rawNewString(result.len + 1);
appendChar((&T8_), 48);
appendString((&T8_), result);
				colontmp__2 = T8_;
				eqsink___system_3234((&result), colontmp__2);
				res += ((NI) 1);
			} LA3: ;
		}
	}
	{
		NimStringV2 colontmp__3;
		NimStringV2 T13_;
		if (!(x < ((NI) 0))) goto LA11_;
		T13_.len = 0; T13_.p = NIM_NIL;
		T13_ = rawNewString(result.len + 1);
appendChar((&T13_), 45);
appendString((&T13_), result);
		colontmp__3 = T13_;
		eqsink___system_3234((&result), colontmp__3);
	}
	LA11_: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size) {
	int result;
	result = (int)0;
	result = memcmp(a, b, ((size_t) (size)));
	return result;
}
static N_INLINE(NIM_BOOL, equalMem__system_1716)(void* a, void* b, NI size) {
	NIM_BOOL result;
	int T1_;
	result = (NIM_BOOL)0;
	T1_ = (int)0;
	T1_ = nimCmpMem(a, b, size);
	result = (T1_ == ((NI32) 0));
	return result;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b) {
	NIM_BOOL result;
	NI alen;
	NI blen;
{	result = (NIM_BOOL)0;
	alen = a.len;
	blen = b.len;
	{
		if (!(alen == blen)) goto LA3_;
		{
			if (!(alen == ((NI) 0))) goto LA7_;
			result = NIM_TRUE;
			goto BeforeRet_;
		}
		LA7_: ;
		result = equalMem__system_1716(((void*) ((&a.p->data[((NI) 0)]))), ((void*) ((&b.p->data[((NI) 0)]))), ((NI) (alen)));
		goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, parseBool__pureZstrutils_1036)(NimStringV2 s) {
	NIM_BOOL result;
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2 = nsuNormalize(s);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	switch (hashString(colontmp_) & 15) {
	case 0: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_34)) goto LA2_;
break;
	case 1: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_42)) goto LA3_;
break;
	case 5: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_36)) goto LA2_;
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_44)) goto LA3_;
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_50)) goto LA3_;
break;
	case 8: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_32)) goto LA2_;
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_40)) goto LA2_;
break;
	case 9: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_38)) goto LA2_;
break;
	case 10: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_46)) goto LA3_;
break;
	case 11: 
if (eqStrings(colontmp_, TM__JGc9b9bh2D3nTdUR7TGyq8aA_48)) goto LA3_;
break;
	}
	goto LA4_;
	LA2_: ;
	{
		result = NIM_TRUE;
	}
	goto LA5_;
	LA3_: ;
	{
		result = NIM_FALSE;
	}
	goto LA5_;
	LA4_: ;
	{
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T9_;
		NimStringV2 T10_;
		T9_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T9_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T9_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T9_).Sup.Sup.name = "ValueError";
		T10_.len = 0; T10_.p = NIM_NIL;
		T10_ = rawNewString(s.len + 28);
appendString((&T10_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_52);
appendString((&T10_), s);
		(*T9_).Sup.Sup.message = T10_;
		(*T9_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T9_, "ValueError", "parseBool", "strutils.nim", 1217);
		goto LA1_;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_CHAR, nsuToUpperAsciiChar)(NIM_CHAR c) {
	NIM_CHAR result;
	result = (NIM_CHAR)0;
	{
		{
			if (!(((NU8)(c)) >= ((NU8)(97)) && ((NU8)(c)) <= ((NU8)(122)))) goto LA4_;
			result = ((NIM_CHAR) ((NU8)(((NU8) (((NU8)(c)))) ^ ((NU8) 32))));
			goto LA1;
		}
		LA4_: ;
		result = c;
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI64, nsuParseBiggestInt)(NimStringV2 s) {
	NI64 result;
	NI L;
	NIM_BOOL colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI64)0;
	result = IL64(0);
	L = npuParseBiggestInt(s, (&result), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !((L == s.len));
		{
			if (!colontmp_) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (L == ((NI) 0));
	} LA1: ;
	{
		tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T10_;
		NimStringV2 T11_;
		if (!colontmp_) goto LA8_;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
		T10_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
		(*T10_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
		(*T10_).Sup.Sup.name = "ValueError";
		T11_.len = 0; T11_.p = NIM_NIL;
		T11_ = rawNewString(s.len + 17);
appendString((&T11_), TM__JGc9b9bh2D3nTdUR7TGyq8aA_53);
appendString((&T11_), s);
		(*T10_).Sup.Sup.message = T11_;
		(*T10_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T10_, "ValueError", "parseBiggestInt", "strutils.nim", 1083);
		goto BeforeRet_;
	}
	LA8_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuEscape)(NimStringV2 s, NimStringV2 prefix, NimStringV2 suffix) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(s.len + (NI)((NI64)(s.len) >> (NU64)(((NI) 2)))))));
	prepareAdd((&result), prefix.len + 0);
appendString((&result), prefix);
	{
		NIM_CHAR c;
		NI i;
		NI L;
		c = (NIM_CHAR)0;
		i = ((NI) 0);
		L = s.len;
		{
			while (1) {
				{
					if (!!((i < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				c = s.p->data[i];
				switch (((NU8)(c))) {
				case 0 ... 31:
				case 127 ... 255:
				{
					NimStringV2 colontmp_;
					colontmp_.len = 0; colontmp_.p = NIM_NIL;
					prepareAdd((&result), 2);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_55);
					colontmp_ = toHex__pureZstrutils_1860(((NU8)(c)), ((NI) 2));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					prepareAdd((&result), colontmp_.len + 0);
appendString((&result), colontmp_);
					eqdestroy___system_3228((&colontmp_));
				}
				break;
				case 92:
				{
					prepareAdd((&result), 2);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_57);
				}
				break;
				case 39:
				{
					prepareAdd((&result), 2);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_59);
				}
				break;
				case 34:
				{
					prepareAdd((&result), 2);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_61);
				}
				break;
				default:
				{
					nimAddCharV1((&result), c);
				}
				break;
				}
				i += ((NI) 1);
			} LA3: ;
		}
	}
	prepareAdd((&result), suffix.len + 0);
appendString((&result), suffix);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuFormatVarargs)(NimStringV2 formatstr, NimStringV2* a, NI aLen_0) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(formatstr.len + aLen_0))));
	nsuAddf((&result), formatstr, a, aLen_0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NimStringV2, X5BX5D___pureZunicode_3364)(NimStringV2 s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA x) {
	NimStringV2 result;
	NI a;
	NI L;
	result.len = 0; result.p = NIM_NIL;
	a = x.a;
	L = (NI)((NI)((NI)(s.len - x.b) - a) + ((NI) 1));
	result = mnewString(((NI) (L)));
	{
		NI i;
		NI i_2;
		i = (NI)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = i_2;
				nimPrepareStrMutationV2((&result));
				result.p->data[i] = s.p->data[(NI)(i + a)];
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	return result;
}
static N_INLINE(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA, dotdot___stdZenumutils_99)(NI a, NI b) {
	tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA result;
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	nimZeroMem((void*)(&result), sizeof(tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA));
	result.a = a;
	result.b = b;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuUnindent)(NimStringV2 s, NI count, NimStringV2 padding) {
	NimStringV2 result;
	NI i;
NIM_BOOL oldNimErrFin55_;
NIM_BOOL oldNimErrFin5_;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__JGc9b9bh2D3nTdUR7TGyq8aA_62;
	i = ((NI) 0);
	{
		NimStringV2 line;
		NI first;
		NI last;
		NI eolpos;
		line.len = 0; line.p = NIM_NIL;
		first = ((NI) 0);
		last = ((NI) 0);
		eolpos = ((NI) 0);
		{
			while (1) {
				NI colontmp_;
				NimStringV2 colontmp__2;
				NimStringV2 colontmp__5;
				NI indentCount;
				NimStringV2 colontmp__10;
				tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA T68_;
				colontmp_ = (NI)0;
				colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
				{
					while (1) {
						NIM_BOOL colontmp__3;
						colontmp__3 = (NIM_BOOL)0;
						{
							colontmp__3 = (last < s.len);
							{
								if (!!(colontmp__3)) goto LA11_;
								goto LA8;
							}
							LA11_: ;
							colontmp__3 = !((((NU8)(s.p->data[last])) == ((NU8)(13)) || ((NU8)(s.p->data[last])) == ((NU8)(10))));
						} LA8: ;
						{
							if (!!(colontmp__3)) goto LA15_;
							goto LA7;
						}
						LA15_: ;
						last += ((NI) 1);
					} LA7: ;
				}
				eolpos = last;
				{
					if (!(last < s.len)) goto LA19_;
					{
						{
							if (!((NU8)(s.p->data[last]) == (NU8)(10))) goto LA24_;
							last += ((NI) 1);
							goto LA21;
						}
						LA24_: ;
						{
							NIM_BOOL colontmp__4;
							if (!((NU8)(s.p->data[last]) == (NU8)(13))) goto LA28_;
							last += ((NI) 1);
							colontmp__4 = (NIM_BOOL)0;
							{
								colontmp__4 = (last < s.len);
								{
									if (!!(colontmp__4)) goto LA33_;
									goto LA30;
								}
								LA33_: ;
								colontmp__4 = ((NU8)(s.p->data[last]) == (NU8)(10));
							} LA30: ;
							{
								if (!colontmp__4) goto LA37_;
								last += ((NI) 1);
							}
							LA37_: ;
							goto LA21;
						}
						LA28_: ;
					} LA21: ;
				}
				LA19_: ;
				{
					{
						if (!NIM_FALSE) goto LA42_;
						colontmp_ = (NI)(last - ((NI) 1));
						goto LA39;
					}
					LA42_: ;
					colontmp_ = (NI)(eolpos - ((NI) 1));
				} LA39: ;
				colontmp__5 = substr__system_7575(s, first, colontmp_);
				if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
				eqsink___system_3234((&line), colontmp__5);
				{
					if (!!((i == ((NI) 0)))) goto LA46_;
					prepareAdd((&result), 1);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_64);
				}
				LA46_: ;
				indentCount = ((NI) 0);
				{
					NI j;
					NI colontmp__6;
					NI i_2;
					j = (NI)0;
					colontmp__6 = (NI)0;
					colontmp__6 = ((NI) (count));
					i_2 = ((NI) 0);
					{
						while (1) {
							NimStringV2 colontmp__7;
							NIM_BOOL colontmp__8;
							{
								if (!!((i_2 < colontmp__6))) goto LA53_;
								goto LA50;
							}
							LA53_: ;
							colontmp__7.len = 0; colontmp__7.p = NIM_NIL;
							j = i_2;
							indentCount += ((NI) 1);
							colontmp__8 = (NIM_BOOL)0;
							{
								NimStringV2 colontmp__9;
								tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA T61_;
								colontmp__8 = (line.len <= (NI)((NI)(j + padding.len) - ((NI) 1)));
								{
									if (!colontmp__8) goto LA59_;
									goto LA56;
								}
								LA59_: ;
								T61_ = dotdot___pureZunicode_935(j, (NI)((NI)(j + padding.len) - ((NI) 1)));
								colontmp__9 = X5BX5D___pureZunicode_963(line, T61_);
								if (NIM_UNLIKELY(*nimErr_)) goto LA55_;
								colontmp__7 = colontmp__9;
								colontmp__8 = !(eqStrings(colontmp__7, padding));
							} LA56: ;
							{
								if (!colontmp__8) goto LA64_;
								indentCount = j;
								eqdestroy___system_3228((&colontmp__7));
								goto LA48;
							}
							LA64_: ;
							i_2 += ((NI) 1);
							{
								LA55_:;
							}
							{
								oldNimErrFin55_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3228((&colontmp__7));
								*nimErr_ = oldNimErrFin55_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
						} LA50: ;
					}
				} LA48: ;
				T68_ = dotdot___stdZenumutils_99((NI)(indentCount * padding.len), ((NI) 1));
				colontmp__10 = X5BX5D___pureZunicode_3364(line, T68_);
				if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
				colontmp__2 = colontmp__10;
				prepareAdd((&result), colontmp__2.len + 0);
appendString((&result), colontmp__2);
				i += ((NI) 1);
				{
					if (!(eolpos == last)) goto LA71_;
					eqdestroy___system_3228((&colontmp__2));
					goto LA3;
				}
				LA71_: ;
				first = last;
				{
					LA5_:;
				}
				{
					oldNimErrFin5_ = *nimErr_; *nimErr_ = NIM_FALSE;
					eqdestroy___system_3228((&colontmp__2));
					*nimErr_ = oldNimErrFin5_;
				}
				if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
			}
		} LA3: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&line));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuIsAlphaAsciiChar)(NIM_CHAR c) {
	NIM_BOOL result;
{	result = (NIM_BOOL)0;
	result = (((NU8)(c)) >= ((NU8)(65)) && ((NU8)(c)) <= ((NU8)(90)) || ((NU8)(c)) >= ((NU8)(97)) && ((NU8)(c)) <= ((NU8)(122)));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuIsAlphaNumericChar)(NIM_CHAR c) {
	NIM_BOOL result;
{	result = (NIM_BOOL)0;
	result = (((NU8)(c)) >= ((NU8)(48)) && ((NU8)(c)) <= ((NU8)(57)) || ((NU8)(c)) >= ((NU8)(65)) && ((NU8)(c)) <= ((NU8)(90)) || ((NU8)(c)) >= ((NU8)(97)) && ((NU8)(c)) <= ((NU8)(122)));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuDedent)(NimStringV2 s, NI count) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nsuUnindent(s, count, TM__JGc9b9bh2D3nTdUR7TGyq8aA_66);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, indentation__pureZstrutils_1245)(NimStringV2 s) {
	NI result;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	result = ((NI) IL64(9223372036854775807));
	{
		NimStringV2 line;
		NI first;
		NI last;
		NI eolpos;
		line.len = 0; line.p = NIM_NIL;
		first = ((NI) 0);
		last = ((NI) 0);
		eolpos = ((NI) 0);
		{
			while (1) {
				NI colontmp_;
				NimStringV2 colontmp__4;
				colontmp_ = (NI)0;
				{
					while (1) {
						NIM_BOOL colontmp__2;
						colontmp__2 = (NIM_BOOL)0;
						{
							colontmp__2 = (last < s.len);
							{
								if (!!(colontmp__2)) goto LA10_;
								goto LA7;
							}
							LA10_: ;
							colontmp__2 = !((((NU8)(s.p->data[last])) == ((NU8)(13)) || ((NU8)(s.p->data[last])) == ((NU8)(10))));
						} LA7: ;
						{
							if (!!(colontmp__2)) goto LA14_;
							goto LA6;
						}
						LA14_: ;
						last += ((NI) 1);
					} LA6: ;
				}
				eolpos = last;
				{
					if (!(last < s.len)) goto LA18_;
					{
						{
							if (!((NU8)(s.p->data[last]) == (NU8)(10))) goto LA23_;
							last += ((NI) 1);
							goto LA20;
						}
						LA23_: ;
						{
							NIM_BOOL colontmp__3;
							if (!((NU8)(s.p->data[last]) == (NU8)(13))) goto LA27_;
							last += ((NI) 1);
							colontmp__3 = (NIM_BOOL)0;
							{
								colontmp__3 = (last < s.len);
								{
									if (!!(colontmp__3)) goto LA32_;
									goto LA29;
								}
								LA32_: ;
								colontmp__3 = ((NU8)(s.p->data[last]) == (NU8)(10));
							} LA29: ;
							{
								if (!colontmp__3) goto LA36_;
								last += ((NI) 1);
							}
							LA36_: ;
							goto LA20;
						}
						LA27_: ;
					} LA20: ;
				}
				LA18_: ;
				{
					{
						if (!NIM_FALSE) goto LA41_;
						colontmp_ = (NI)(last - ((NI) 1));
						goto LA38;
					}
					LA41_: ;
					colontmp_ = (NI)(eolpos - ((NI) 1));
				} LA38: ;
				colontmp__4 = substr__system_7575(s, first, colontmp_);
				if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				eqsink___system_3234((&line), colontmp__4);
				{
					NI i;
					NIM_CHAR c;
					NI i_2;
					NI L;
					i = (NI)0;
					c = (NIM_CHAR)0;
					i_2 = ((NI) 0);
					L = line.len;
					{
						while (1) {
							{
								if (!!((i_2 < L))) goto LA48_;
								goto LA45;
							}
							LA48_: ;
							i = i_2;
							c = line.p->data[i_2];
							{
								{
									if (!(((NI) (result)) <= i)) goto LA53_;
									goto LA43;
								}
								LA53_: ;
								{
									if (!!(((NU8)(c) == (NU8)(32)))) goto LA57_;
									result = ((NI) (i));
									goto LA43;
								}
								LA57_: ;
							}
							i_2 += ((NI) 1);
						} LA45: ;
					}
				} LA43: ;
				{
					if (!(eolpos == last)) goto LA61_;
					goto LA3;
				}
				LA61_: ;
				first = last;
			}
		} LA3: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&line));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	{
		if (!(((NI) (result)) == ((NI) IL64(9223372036854775807)))) goto LA67_;
		result = ((NI) 0);
	}
	LA67_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuIsDigitChar)(NIM_CHAR c) {
	NIM_BOOL result;
{	result = (NIM_BOOL)0;
	result = (((NU8)(c)) >= ((NU8)(48)) && ((NU8)(c)) <= ((NU8)(57)));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, delete__pureZstrutils_1267)(NimStringV2* s, tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA slice) {
	{
		NI i;
		NI j;
		NI newLen;
		if (!(slice.a <= slice.b)) goto LA3_;
		i = slice.a;
		j = (NI)(slice.b + ((NI) 1));
		newLen = (NI)((NI)((*s).len - j) + i);
		{
			while (1) {
				{
					if (!!((i < newLen))) goto LA9_;
					goto LA6;
				}
				LA9_: ;
				nimPrepareStrMutationV2((&(*s)));
				(*s).p->data[i] = (*s).p->data[j];
				i += ((NI) 1);
				j += ((NI) 1);
			} LA6: ;
		}
		setLengthStrV2((&(*s)), ((NI) (newLen)));
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuIsUpperAsciiChar)(NIM_CHAR c) {
	NIM_BOOL result;
{	result = (NIM_BOOL)0;
	result = (((NU8)(c)) >= ((NU8)(65)) && ((NU8)(c)) <= ((NU8)(90)));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuCapitalizeAscii)(NimStringV2 s) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NimStringV2 colontmp_;
		NimStringV2 T6_;
		NIM_CHAR T7_;
		{
			if (!(s.len == ((NI) 0))) goto LA4_;
			result = TM__JGc9b9bh2D3nTdUR7TGyq8aA_67;
			goto LA1;
		}
		LA4_: ;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T6_.len = 0; T6_.p = NIM_NIL;
		T7_ = (NIM_CHAR)0;
		T7_ = nsuToUpperAsciiChar(s.p->data[((NI) 0)]);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		colontmp_ = substr__system_7587(s, ((NI) 1));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T6_ = rawNewString(colontmp_.len + 1);
appendChar((&T6_), T7_);
appendString((&T6_), colontmp_);
		result = T6_;
		eqdestroy___system_3228((&colontmp_));
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, nsuCountLines)(NimStringV2 s) {
	NI result;
	NI i;
	result = (NI)0;
	result = ((NI) 1);
	i = ((NI) 0);
	{
		while (1) {
			{
				if (!!((i < s.len))) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			switch (((NU8)(s.p->data[i]))) {
			case 13:
			{
				NIM_BOOL colontmp_;
				colontmp_ = (NIM_BOOL)0;
				{
					colontmp_ = ((NI)(i + ((NI) 1)) < s.len);
					{
						if (!!(colontmp_)) goto LA11_;
						goto LA8;
					}
					LA11_: ;
					colontmp_ = ((NU8)(s.p->data[(NI)(i + ((NI) 1))]) == (NU8)(10));
				} LA8: ;
				{
					if (!colontmp_) goto LA15_;
					i += ((NI) 1);
				}
				LA15_: ;
				result += ((NI) 1);
			}
			break;
			case 10:
			{
				result += ((NI) 1);
			}
			break;
			default:
			{
			}
			break;
			}
			i += ((NI) 1);
		} LA2: ;
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuformatBiggestFloat)(NF f, tyEnum_FloatFormatMode__pNvEoaqwoxKyoASD11vSgQ format, NI precision, NIM_CHAR decimalSep) {
	NimStringV2 result;
	tyArray__W0Gg3z22QxiOloTdYD2kjw frmtstr;
	tyArray__BDdjUYTeqb7vAUkhlX1NNQ buf;
	int L;
	result.len = 0; result.p = NIM_NIL;
	L = (int)0;
	frmtstr[(((NI) 0))- 0] = 37;
	{
		{
			if (!(((NI) 0) <= ((NI) (precision)))) goto LA4_;
			frmtstr[(((NI) 1))- 0] = 35;
			frmtstr[(((NI) 2))- 0] = 46;
			frmtstr[(((NI) 3))- 0] = 42;
			frmtstr[(((NI) 4))- 0] = floatFormatToChar__pureZstrutils_1938[(format)- 0];
			frmtstr[(((NI) 5))- 0] = 0;
			L = sprintf(((NCSTRING) (buf)), ((NCSTRING) (frmtstr)), precision, f);
			goto LA1;
		}
		LA4_: ;
		frmtstr[(((NI) 1))- 0] = floatFormatToChar__pureZstrutils_1938[(format)- 0];
		frmtstr[(((NI) 2))- 0] = 0;
		L = sprintf(((NCSTRING) (buf)), ((NCSTRING) (frmtstr)), f);
	} LA1: ;
	result = mnewString(((NI) (L)));
	{
		NI32 i;
		NI32 res;
		i = (NI32)0;
		res = ((NI32) 0);
		{
			while (1) {
				{
					if (!!((res < L))) goto LA11_;
					goto LA8;
				}
				LA11_: ;
				i = res;
				{
					{
						if (!(((NU8)(buf[(i)- 0])) == ((NU8)(46)) || ((NU8)(buf[(i)- 0])) == ((NU8)(44)))) goto LA16_;
						nimPrepareStrMutationV2((&result));
						result.p->data[i] = decimalSep;
						goto LA13;
					}
					LA16_: ;
					nimPrepareStrMutationV2((&result));
					result.p->data[i] = buf[(i)- 0];
				} LA13: ;
				res += ((NI) 1);
			} LA8: ;
		}
	}
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuformatFloat)(NF f, tyEnum_FloatFormatMode__pNvEoaqwoxKyoASD11vSgQ format, NI precision, NIM_CHAR decimalSep) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nsuformatBiggestFloat(f, format, precision, decimalSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, trimZeros__pureZstrutils_2049)(NimStringV2* x, NIM_CHAR decimalSep) {
	NI sPos;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	sPos = nsuFindChar((*x), decimalSep, ((NI) 0), ((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NI last;
		NI pos;
		tyObject_HSlice__EE5dzjqoOrHT6HJhIPXAvA T25_;
		if (!(((NI) 0) <= sPos)) goto LA3_;
		last = nsuFindChar((*x), 101, ((NI) (sPos)), ((NI) 0));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		{
			{
				if (!(((NI) 0) <= last)) goto LA8_;
				last = (NI)(last - ((NI) 1));
				goto LA5;
			}
			LA8_: ;
			last = ((*x).len-1);
		} LA5: ;
		pos = last;
		{
			while (1) {
				NIM_BOOL colontmp_;
				colontmp_ = (NIM_BOOL)0;
				{
					colontmp_ = (((NI) 0) <= pos);
					{
						if (!!(colontmp_)) goto LA15_;
						goto LA12;
					}
					LA15_: ;
					colontmp_ = ((NU8)((*x).p->data[pos]) == (NU8)(48));
				} LA12: ;
				{
					if (!!(colontmp_)) goto LA19_;
					goto LA11;
				}
				LA19_: ;
				pos -= ((NI) 1);
			} LA11: ;
		}
		{
			if (!(sPos < pos)) goto LA23_;
			pos += ((NI) 1);
		}
		LA23_: ;
		T25_ = dotdot___pureZunicode_935(pos, last);
		delete__pureZstrutils_1267(x, T25_);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, formatSize__pureZstrutils_2074)(NI64 bytes, NIM_CHAR decimalSep, tyEnum_BinaryPrefixMode__nDtrM19b3byM8T9ab2m7BwvA prefix, NIM_BOOL includeSpace) {
	NimStringV2 result;
	NI64 xb;
	NF fbytes;
	NI64 lastXb;
	NI matchedIndex;
	tyArray__Uk4knQnm8g4ToSxJOhiVVg prefixes;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	xb = bytes;
	fbytes = (NF)0;
	lastXb = bytes;
	matchedIndex = ((NI) 0);
	nimZeroMem((void*)prefixes, sizeof(tyArray__Uk4knQnm8g4ToSxJOhiVVg));
	{
		{
			if (!(prefix == ((tyEnum_BinaryPrefixMode__nDtrM19b3byM8T9ab2m7BwvA) 1))) goto LA4_;
			nimCopyMem((void*)prefixes, (NIM_CONST void*)collPrefixes__pureZstrutils_2081, sizeof(tyArray__Uk4knQnm8g4ToSxJOhiVVg));
			goto LA1;
		}
		LA4_: ;
		nimCopyMem((void*)prefixes, (NIM_CONST void*)iecPrefixes__pureZstrutils_2080, sizeof(tyArray__Uk4knQnm8g4ToSxJOhiVVg));
	} LA1: ;
	{
		NI index;
		NI i;
		index = (NI)0;
		i = ((NI) 1);
		{
			while (1) {
				{
					if (!!((i < ((NI) 9)))) goto LA11_;
					goto LA8;
				}
				LA11_: ;
				index = i;
				lastXb = xb;
				xb = (NI64)(bytes / (NI64)((NU64)(IL64(1)) << (NU64)((NI)(index * ((NI) 10)))));
				matchedIndex = index;
				{
					if (!(xb == IL64(0))) goto LA15_;
					xb = lastXb;
					matchedIndex = (NI)(index - ((NI) 1));
					goto LA6;
				}
				LA15_: ;
				i += ((NI) 1);
			} LA8: ;
		}
	} LA6: ;
	fbytes = ((NF)(((NF) (bytes))) / (NF)(((NF) ((NI64)((NU64)(IL64(1)) << (NU64)((NI)(matchedIndex * ((NI) 10))))))));
	result = nsuformatFloat(fbytes, ((tyEnum_FloatFormatMode__pNvEoaqwoxKyoASD11vSgQ) 1), ((NI) 3), decimalSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	trimZeros__pureZstrutils_2049((&result), decimalSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!includeSpace) goto LA19_;
		prepareAdd((&result), 1);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_84);
	}
	LA19_: ;
	prepareAdd((&result), prefixes[(matchedIndex)- 0].len + 0);
appendString((&result), prefixes[(matchedIndex)- 0]);
	prepareAdd((&result), 1);
appendString((&result), TM__JGc9b9bh2D3nTdUR7TGyq8aA_86);
	}BeforeRet_: ;
	return result;
}
