/* Generated by Nim Compiler v0.1.0-dev.20827 */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <unistd.h>
#include <errno.h>
#include <sys/stat.h>
#include <sys/types.h>
#include <time.h>
#include <stdlib.h>
#include <dirent.h>
#include <stdio.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyTuple__UV3llMMYFckfui8YMBuUZA tyTuple__UV3llMMYFckfui8YMBuUZA;
typedef struct tyTuple__7q7q3E6Oj24ZNVJb9aonhAg tyTuple__7q7q3E6Oj24ZNVJb9aonhAg;
typedef struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA;
typedef struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A;
typedef struct tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ;
typedef struct tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ;
typedef struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyTuple__N4J9cV4JZGem3ljqqj5rT0Q;
typedef struct tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ;
typedef struct tyTuple__0F3Kz25HWtRatQmCDVHWEA tyTuple__0F3Kz25HWtRatQmCDVHWEA;
typedef struct tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg;
typedef struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ;
typedef struct tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content;
typedef struct tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ;
typedef struct tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA;
typedef struct tyTuple__LCURwohbLBusrL8hdCnvng tyTuple__LCURwohbLBusrL8hdCnvng;
typedef struct tySequence__4eQHGndY6XBYpFOH09apV8Q tySequence__4eQHGndY6XBYpFOH09apV8Q;
typedef struct tySequence__4eQHGndY6XBYpFOH09apV8Q_Content tySequence__4eQHGndY6XBYpFOH09apV8Q_Content;
typedef struct tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tyTuple__UV3llMMYFckfui8YMBuUZA {
NimStringV2 Field0;
NimStringV2 Field1;
};
struct tyTuple__7q7q3E6Oj24ZNVJb9aonhAg {
NimStringV2 Field0;
NimStringV2 Field1;
NimStringV2 Field2;
};
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* typeInfoV1;
NI flags;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA {
  Exception Sup;
};
struct tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A {
NI rc;
NI rootIdx;
};
struct tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
NI32 errorCode;
};
struct tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ {
NI len;
NI cap;
tyTuple__N4J9cV4JZGem3ljqqj5rT0Q* d;
};
struct tyTuple__N4J9cV4JZGem3ljqqj5rT0Q {
void** Field0;
TNimTypeV2* Field1;
};
typedef tyTuple__N4J9cV4JZGem3ljqqj5rT0Q tyUncheckedArray__sC1L67m2tqEzJLHInkP5AQ[1];
struct tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ {
NI len;
NI cap;
tyTuple__0F3Kz25HWtRatQmCDVHWEA* d;
};
struct tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ {
tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ traceStack;
tyObject_CellSeq__z4KasHYddby49cXX2MD4LxQ toFree;
NI freed;
NI touched;
NI edges;
NI rcSum;
NIM_BOOL keepThreshold;
};
struct tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg {
NI i;
NI prev;
NIM_BOOL notFirst;
};
struct tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ {
NI Field0;
NI Field1;
};
struct tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw {
  tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA Sup;
};
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  NI len; tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content* p;
};
struct tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA {
  Exception Sup;
};
struct tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ {
  tyObject_Defect__LbeSGvgPzGzXnW9caIkJqMA Sup;
};
typedef NU8 tySet_tyChar__nmiMWKVIe46vacnhAFrQvw[32];
typedef NU8 tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg;
typedef NimStringV2 tyArray__Wex9cTiLLztRmCSkLU7RNiA[1];
struct tyTuple__LCURwohbLBusrL8hdCnvng {
tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg Field0;
NimStringV2 Field1;
};
struct tySequence__4eQHGndY6XBYpFOH09apV8Q {
  NI len; tySequence__4eQHGndY6XBYpFOH09apV8Q_Content* p;
};
struct tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q {
NI64 seconds;
NI nanosecond;
};
typedef NU8 tySet_tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA;
typedef NU8 tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA;
typedef NU8 tyEnum_FileMode__ZJfK20XeZ9bv2j1pZjw9aswg;
typedef char tyArray__QCjLBn9c1ZJnt1nAEAGTHqw[256];
struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__4eQHGndY6XBYpFOH09apV8Q_Content_PP
#define tySequence__4eQHGndY6XBYpFOH09apV8Q_Content_PP
struct tySequence__4eQHGndY6XBYpFOH09apV8Q_Content { NI cap; tyTuple__UV3llMMYFckfui8YMBuUZA data[SEQ_DECL_SIZE];};
#endif

      N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space);
N_NIMCALL(NimStringV2, rawNewString)(NI cap);
N_LIB_PRIVATE N_NIMCALL(void, joinPathImpl__pureZos_97)(NimStringV2* result, NI* state, NimStringV2 tail);
static N_INLINE(NIM_CHAR, X5BX5D___system_7144)(NimStringV2 s, NI i);
static N_INLINE(NIM_CHAR*, X5BX5D___system_7183)(NimStringV2* s, NI i);
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, nimPrepareStrMutationImpl__system_2314)(NimStringV2* s);
N_LIB_PRIVATE N_NIMCALL(void, normalizePathEnd__pureZos_66)(NimStringV2* path, NIM_BOOL trailingSep);
N_LIB_PRIVATE N_NIMCALL(void, setLengthStrV2)(NimStringV2* s, NI newLen);
static N_INLINE(void, nimAddCharV1)(NimStringV2* s, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s, NI addlen);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_3234)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(void, addNormalizePath__pureZpathnorm_74)(NimStringV2 x, NimStringV2* result, NI* state, NIM_CHAR dirSep);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normalizePathEnd__pureZos_86)(NimStringV2 path, NIM_BOOL trailingSep);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_3231)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosextractFilename)(NimStringV2 path);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
N_LIB_PRIVATE N_NIMCALL(tyTuple__UV3llMMYFckfui8YMBuUZA, nossplitPath)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7554)(NimStringV2 s, NI first, NI last);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, substr__system_7566)(NimStringV2 s, NI first);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3228)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_328)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normalizePath__pureZpathnorm_130)(NimStringV2 path, NIM_CHAR dirSep);
N_LIB_PRIVATE N_NIMCALL(NI, cmp__system_1540)(NimStringV2 x, NimStringV2 y);
N_LIB_PRIVATE N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringV2 a, NimStringV2 b);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosrelativePath)(NimStringV2 path, NimStringV2 base, NIM_CHAR sep);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b);
static N_INLINE(NIM_BOOL, equalMem__system_1716)(void* a, void* b, NI size);
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size);
static N_INLINE(void, normalizePathAux__pureZos_46)(NimStringV2* path);
N_LIB_PRIVATE N_NIMCALL(void, nosnormalizePath)(NimStringV2* path);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosisAbsolute)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePathInternal__pureZos_64)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePath__pureZos_899)(NimStringV2 path, NimStringV2 root);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size, NI alignment);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosjoinPath)(NimStringV2 head, NimStringV2 tail);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetCurrentDir)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, mnewString)(NI len);
N_NIMCALL(NimStringV2, mnewString)(NI len);
static N_INLINE(NIM_BOOL, eqeq___system_7534)(NCSTRING x, NCSTRING y);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__pureZos_449)(void);
N_LIB_PRIVATE N_NIMCALL(void, failedAssertImpl__systemZassertions_65)(NimStringV2 msg);
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__pureZos_446)(NI32 errorCode, NimStringV2 additionalInfo);
N_LIB_PRIVATE N_NOINLINE(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*, newOSError__pureZos_401)(NI32 errorCode, NimStringV2 additionalInfo);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_409)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA** dest);
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p);
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y);
N_LIB_PRIVATE N_NOINLINE(void, rememberCycle__system_3163)(NIM_BOOL isDestroyAction, tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* s, TNimTypeV2* desc);
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___system_3266)(tySequence__uB9b75OUPRENsBAu4AnoePA* dest);
static N_INLINE(void, nimTraceRefDyn)(void* q, void* env);
static N_INLINE(void, add__system_2722)(tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ* s, void** c, TNimTypeV2* t);
N_LIB_PRIVATE N_NOCONV(void*, allocImpl__system_1724)(NI size);
N_LIB_PRIVATE N_NOCONV(void, dealloc)(void* p);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, osErrorMsg__pureZos_374)(NI32 errorCode);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasNext__pureZpathnorm_6)(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg it, NimStringV2 x);
N_LIB_PRIVATE N_NIMCALL(tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ, next__pureZpathnorm_10)(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg* it, NimStringV2 x);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringV2 s, NimStringV2 prefix);
N_LIB_PRIVATE N_NIMCALL(NI, parentDirPos__pureZos_206)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosexistsOrCreateDir)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, rawCreateDir__pureZos_1714)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosdirExists)(NimStringV2 dir);
static N_INLINE(void, addEscapedChar__system_7268)(NimStringV2* s, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NI, paramCount__pureZos_1846)(void);
N_LIB_PRIVATE N_NIMCALL(void, add__stdZenumutils_66)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* x, NimStringV2 value);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, paramStr__pureZos_1837)(NI i);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, formatErrorIndexBoundStr__system_4378)(NimStringV2 i, NimStringV2 a, NimStringV2 b);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_3)(NI x);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShellPosix)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, allCharsInSet__pureZstrutils_1397)(NimStringV2 s, tySet_tyChar__nmiMWKVIe46vacnhAFrQvw theSet);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuReplaceStr)(NimStringV2 s, NimStringV2 sub, NimStringV2 by);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShell)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getEnv__pureZos_459)(NimStringV2 key, NimStringV2 default_0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetHomeDir)(void);
static N_INLINE(NimStringV2, slash___pureZos_136)(NimStringV2 head, NimStringV2 tail);
N_LIB_PRIVATE N_NIMCALL(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg, nossplitFile)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetAppFilename)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getApplAux__pureZos_1863)(NimStringV2 procPath);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getApplHeuristic__pureZos_1867)(void);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileExists)(NimStringV2 filename);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_1875)(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg* dest);
N_LIB_PRIVATE N_NIMCALL(NI, searchExtPos__pureZos_282)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normExt__pureZos_279)(NimStringV2 ext);
static N_INLINE(void, appendChar)(NimStringV2* dest, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___pureZos_470)(tyTuple__UV3llMMYFckfui8YMBuUZA* x);
N_LIB_PRIVATE N_NIMCALL(void, addQuoted__pureZos_490)(NimStringV2* s, NimStringV2 x);
static N_INLINE(NIM_BOOL, contains__pureZos_826)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item);
static N_INLINE(NI, find__pureZos_831)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosaddFileExt)(NimStringV2 filename, NimStringV2 ext);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, expandTilde__pureZos_748)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nossymlinkExists)(NimStringV2 link);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosparentDir)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, WIFSIGNALED__posixZposix_1063)(int s);
N_LIB_PRIVATE N_NIMCALL(int, WTERMSIG__posixZposix_1054)(int s);
N_LIB_PRIVATE N_NIMCALL(int, WEXITSTATUS__posixZposix_1047)(int s);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p, NI align);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nostryRemoveFile)(NimStringV2 file);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, ntLtTime)(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q a, tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q b);
N_LIB_PRIVATE N_NIMCALL(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, nosgetLastModificationTime)(NimStringV2 file);
static N_INLINE(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, toTime__pureZos_17)(struct timespec ts);
N_LIB_PRIVATE N_NIMCALL(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, initTime__pureZtimes_933)(NI64 unix_0, NI nanosecond);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_548)(tySequence__4eQHGndY6XBYpFOH09apV8Q* dest);
N_LIB_PRIVATE N_NIMCALL(int, exitStatusLikeShell__pureZos_1279)(int status);
static N_INLINE(NI, countBits32)(NU32 n);
static N_INLINE(NI, countSetBitsImpl__systemZcountbits95impl_26)(NU32 x);
N_CDECL(int, __builtin_popcount)(unsigned int x);
N_LIB_PRIVATE N_NIMCALL(void, createSymlink__pureZos_1184)(NimStringV2 src, NimStringV2 dest);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, expandSymlink__pureZos_1190)(NimStringV2 symlinkPath);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, open__systemZio_452)(FILE** f, NimStringV2 filename, tyEnum_FileMode__ZJfK20XeZ9bv2j1pZjw9aswg mode, NI bufSize);
N_LIB_PRIVATE N_NIMCALL(void, close__systemZio_275)(FILE* f);
N_LIB_PRIVATE N_NIMCALL(NI, readBuffer__systemZio_187)(FILE* f, void* buffer, NI len);
N_LIB_PRIVATE N_NIMCALL(NI, writeBuffer__systemZio_219)(FILE* f, void* buffer, NI len);
N_LIB_PRIVATE N_NIMCALL(void, flushFile__systemZio_284)(FILE* f);
N_LIB_PRIVATE N_NIMCALL(tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg, getSymlinkFileKind__pureZos_1399)(NimStringV2 path);
N_LIB_PRIVATE N_NIMCALL(void, nosremoveFile)(NimStringV2 file);
N_LIB_PRIVATE N_NIMCALL(void, nosremoveDir)(NimStringV2 dir, NIM_BOOL checkDir);
N_LIB_PRIVATE N_NIMCALL(void, rawRemoveDir__pureZos_1707)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, tryMoveFSObject__pureZos_1266)(NimStringV2 source, NimStringV2 dest, NIM_BOOL isDir);
N_LIB_PRIVATE N_NIMCALL(void, noscopyFile)(NimStringV2 source, NimStringV2 dest, tySet_tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA options);
N_LIB_PRIVATE N_NIMCALL(void, reraiseException)(void);
static N_INLINE(void, popCurrentException)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_3893)(Exception** dest, Exception* src, NIM_BOOL cyclic);
N_LIB_PRIVATE N_NIMCALL(void, noscopyDir)(NimStringV2 source, NimStringV2 dest);
N_LIB_PRIVATE N_NIMCALL(void, noscreateDir)(NimStringV2 dir);
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_2 = { 1 | NIM_STRLIT_FLAG, "/" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_3 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_2};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_4 = { 0 | NIM_STRLIT_FLAG, "" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_5 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_6 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_7 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_8 = { 1 | NIM_STRLIT_FLAG, "." };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_9 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_10 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
extern TNimTypeV2 NTIv2__yoNlBGx0D2tRizIdhQuENw_;
static const struct {
  NI cap; NIM_CHAR data[36+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_11 = { 36 | NIM_STRLIT_FLAG, "The specified root is not absolute: " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_12 = {36, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_11};
static const struct {
  NI cap; NIM_CHAR data[32+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_13 = { 32 | NIM_STRLIT_FLAG, "os.nim(1410, 21) `bufsize >= 0` " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_14 = {32, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_13};
extern TNimTypeV2 NTIv2__BeJgrOdDsczOwEWOZbRfKA_;
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_15 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[17+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_16 = { 17 | NIM_STRLIT_FLAG, "Additional info: " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_17 = {17, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_16};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_18 = { 16 | NIM_STRLIT_FLAG, "unknown OS error" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_19 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_18};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_20 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static NIM_CONST tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ TM__yu6cxgKBBXbNsTkT9cyMd4g_21 = {((NI) 0),
((NI) -1)}
;
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_22 = { 2 | NIM_STRLIT_FLAG, ".." };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_23 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_22};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_24 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_25 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_22};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_26 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_22};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_27 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_28 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_29 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
extern TNimTypeV2 NTIv2__iLZrPn9anoh9ad1MmO0RczFw_;
static const struct {
  NI cap; NIM_CHAR data[18+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_30 = { 18 | NIM_STRLIT_FLAG, "Failed to create \'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_31 = {18, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_30};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_32 = { 1 | NIM_STRLIT_FLAG, "\'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_33 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_34 = { 1 | NIM_STRLIT_FLAG, "\"" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_35 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_34};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_36 = { 2 | NIM_STRLIT_FLAG, "\\a" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_37 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_36};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_38 = { 2 | NIM_STRLIT_FLAG, "\\b" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_39 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_38};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_40 = { 2 | NIM_STRLIT_FLAG, "\\t" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_41 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_40};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_42 = { 2 | NIM_STRLIT_FLAG, "\\n" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_43 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_42};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_44 = { 2 | NIM_STRLIT_FLAG, "\\v" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_45 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_44};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_46 = { 2 | NIM_STRLIT_FLAG, "\\f" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_47 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_46};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_48 = { 2 | NIM_STRLIT_FLAG, "\\r" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_49 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_48};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_50 = { 2 | NIM_STRLIT_FLAG, "\\e" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_51 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_50};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_52 = { 2 | NIM_STRLIT_FLAG, "\\\\" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_53 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_52};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_54 = { 2 | NIM_STRLIT_FLAG, "\\\'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_55 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_54};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_56 = { 2 | NIM_STRLIT_FLAG, "\\\"" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_57 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_56};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_58 = { 2 | NIM_STRLIT_FLAG, "\\x" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_59 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_58};
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_60 = { 16 | NIM_STRLIT_FLAG, "0123456789ABCDEF" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_61 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_60};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_62 = {16, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_60};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_63 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_34};
extern TNimTypeV2 NTIv2__n6tGEPHKkh7E1AP9bj30WrQ_;
static const struct {
  NI cap; NIM_CHAR data[43+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_64 = { 43 | NIM_STRLIT_FLAG, "index out of bounds, the container is empty" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_65 = {43, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_64};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_66 = { 1 | NIM_STRLIT_FLAG, "0" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_67 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_66};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_68 = { 2 | NIM_STRLIT_FLAG, "\'\'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_69 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_68};
static NIM_CONST tySet_tyChar__nmiMWKVIe46vacnhAFrQvw TM__yu6cxgKBBXbNsTkT9cyMd4g_70 = {
0x00, 0x00, 0x00, 0x00, 0x20, 0xe8, 0xff, 0x27,
0xff, 0xff, 0xff, 0x87, 0xfe, 0xff, 0xff, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_71 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_72 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const struct {
  NI cap; NIM_CHAR data[5+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_73 = { 5 | NIM_STRLIT_FLAG, "\'\"\'\"\'" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_74 = {5, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_73};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_75 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_32};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_76 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_77 = { 1 | NIM_STRLIT_FLAG, " " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_78 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_77};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_79 = { 4 | NIM_STRLIT_FLAG, "HOME" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_80 = {4, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_79};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_81 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_82 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_2};
static const struct {
  NI cap; NIM_CHAR data[14+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_83 = { 14 | NIM_STRLIT_FLAG, "/proc/self/exe" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_84 = {14, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_83};
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_85 = { 4 | NIM_STRLIT_FLAG, "PATH" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_86 = {4, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_85};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_87 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_88 = { 1 | NIM_STRLIT_FLAG, "(" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_89 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_88};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_90 = { 2 | NIM_STRLIT_FLAG, ", " };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_91 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_90};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_92 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_90};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_93 = { 1 | NIM_STRLIT_FLAG, "," };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_94 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_93};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_95 = { 1 | NIM_STRLIT_FLAG, ")" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_96 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_95};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_97 = {4, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_85};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_98 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_99 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
N_LIB_PRIVATE NIM_CONST tyArray__Wex9cTiLLztRmCSkLU7RNiA ExeExts__pureZos_818 = {{0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4}}
;
static const struct {
  NI cap; NIM_CHAR data[15+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_100 = { 15 | NIM_STRLIT_FLAG, "XDG_CONFIG_HOME" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_101 = {15, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_100};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_102 = {4, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_79};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_103 = {0, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_4};
static const struct {
  NI cap; NIM_CHAR data[7+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_104 = { 7 | NIM_STRLIT_FLAG, ".config" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_105 = {7, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_104};
static const struct {
  NI cap; NIM_CHAR data[105+1];
} TM__yu6cxgKBBXbNsTkT9cyMd4g_106 = { 105 | NIM_STRLIT_FLAG, "os.nim(1844, 12) `card(copyFlagSymlink * options) == 1` There should be exactly one cfSymlink* in options" };
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_107 = {105, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_106};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_108 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_109 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_22};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_110 = {1, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_8};
static const NimStringV2 TM__yu6cxgKBBXbNsTkT9cyMd4g_111 = {2, (NimStrPayload*)&TM__yu6cxgKBBXbNsTkT9cyMd4g_22};
extern NCSTRING* environ;
extern int cmdCount;
extern NCSTRING* cmdLine;
extern NIM_BOOL nimInErrorMode__system_4174;
extern Exception* currException__system_3855;
extern Exception* currException__system_3855;
static N_INLINE(NIM_CHAR, X5BX5D___system_7144)(NimStringV2 s, NI i) {
	NIM_CHAR result;
	result = (NIM_CHAR)0;
	result = s.p->data[(NI)(s.len - i)];
	return result;
}
static N_INLINE(void, nimPrepareStrMutationV2)(NimStringV2* s) {
	NIM_BOOL colontmp_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = !(((*s).p == ((NimStrPayload*) NIM_NIL)));
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = ((NI)((*(*s).p).cap & ((NI) IL64(4611686018427387904))) == ((NI) IL64(4611686018427387904)));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		nimPrepareStrMutationImpl__system_2314(s);
	}
	LA8_: ;
}
static N_INLINE(NIM_CHAR*, X5BX5D___system_7183)(NimStringV2* s, NI i) {
	NIM_CHAR* result;
	result = (NIM_CHAR*)0;
	nimPrepareStrMutationV2((&(*s)));
	result = (&(*s).p->data[(NI)((*s).len - i)]);
	return result;
}
static N_INLINE(void, nimAddCharV1)(NimStringV2* s, NIM_CHAR c) {
	prepareAdd(s, ((NI) 1));
	(*(*s).p).data[(*s).len] = c;
	(*(*s).p).data[(NI)((*s).len + ((NI) 1))] = 0;
	(*s).len += ((NI) 1);
}
N_LIB_PRIVATE N_NIMCALL(void, normalizePathEnd__pureZos_66)(NimStringV2* path, NIM_BOOL trailingSep) {
	NI i;
{	{
		if (!((*path).len == ((NI) 0))) goto LA3_;
		goto BeforeRet_;
	}
	LA3_: ;
	i = (*path).len;
	{
		while (1) {
			NIM_BOOL colontmp_;
			{
				if (!!((((NI) 1) <= i))) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			colontmp_ = (NIM_BOOL)0;
			{
				NIM_BOOL colontmp__2;
				{
					if (!(((NU8)((*path).p->data[(NI)(i - ((NI) 1))])) == ((NU8)(47)) || ((NU8)((*path).p->data[(NI)(i - ((NI) 1))])) == ((NU8)(47)))) goto LA14_;
					i -= ((NI) 1);
					goto LA11;
				}
				LA14_: ;
				colontmp__2 = (NIM_BOOL)0;
				{
					{
						colontmp_ = ((NU8)((*path).p->data[(NI)(i - ((NI) 1))]) == (NU8)(46));
						{
							if (!!(colontmp_)) goto LA20_;
							goto LA17;
						}
						LA20_: ;
						colontmp_ = (((NI) 2) <= i);
					} LA17: ;
					colontmp__2 = colontmp_;
					{
						if (!!(colontmp__2)) goto LA24_;
						goto LA16;
					}
					LA24_: ;
					colontmp__2 = (((NU8)((*path).p->data[(NI)(i - ((NI) 2))])) == ((NU8)(47)) || ((NU8)((*path).p->data[(NI)(i - ((NI) 2))])) == ((NU8)(47)));
				} LA16: ;
				{
					if (!colontmp__2) goto LA28_;
					i -= ((NI) 1);
					goto LA11;
				}
				LA28_: ;
				goto LA5;
			} LA11: ;
		} LA6: ;
	} LA5: ;
	{
		NimStringV2* colontmp__3;
		{
			if (!trailingSep) goto LA33_;
			setLengthStrV2((&(*path)), ((NI) (i)));
			nimAddCharV1((&(*path)), 47);
			goto LA30;
		}
		LA33_: ;
		{
			if (!(((NI) 0) < i)) goto LA37_;
			setLengthStrV2((&(*path)), ((NI) (i)));
			goto LA30;
		}
		LA37_: ;
		colontmp__3 = path;
		eqsink___system_3234(colontmp__3, TM__yu6cxgKBBXbNsTkT9cyMd4g_3);
	} LA30: ;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4174);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, joinPathImpl__pureZos_97)(NimStringV2* result, NI* state, NimStringV2 tail) {
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NIM_BOOL colontmp__3;
	NIM_BOOL colontmp__4;
	NIM_BOOL trailingSep;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	colontmp__3 = (NIM_BOOL)0;
	colontmp__4 = (NIM_BOOL)0;
	{
		{
			NIM_CHAR T7_;
			colontmp_ = (((NI) 0) < tail.len);
			{
				if (!!(colontmp_)) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			T7_ = (NIM_CHAR)0;
			T7_ = X5BX5D___system_7144(tail, ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			colontmp_ = (((NU8)(T7_)) == ((NU8)(47)) || ((NU8)(T7_)) == ((NU8)(47)));
		} LA2: ;
		colontmp__4 = colontmp_;
		{
			if (!colontmp__4) goto LA10_;
			goto LA1;
		}
		LA10_: ;
		{
			colontmp__2 = (tail.len == ((NI) 0));
			{
				if (!!(colontmp__2)) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			{
				NIM_CHAR* T22_;
				colontmp__3 = (((NI) 0) < (*result).len);
				{
					if (!!(colontmp__3)) goto LA20_;
					goto LA17;
				}
				LA20_: ;
				T22_ = (NIM_CHAR*)0;
				T22_ = X5BX5D___system_7183(result, ((NI) 1));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				colontmp__3 = (((NU8)((*T22_))) == ((NU8)(47)) || ((NU8)((*T22_))) == ((NU8)(47)));
			} LA17: ;
			colontmp__2 = colontmp__3;
		} LA12: ;
		colontmp__4 = colontmp__2;
	} LA1: ;
	trailingSep = colontmp__4;
	normalizePathEnd__pureZos_66(result, NIM_FALSE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	addNormalizePath__pureZpathnorm_74(tail, result, state, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	normalizePathEnd__pureZos_66(result, trailingSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosjoinPath)(NimStringV2 head, NimStringV2 tail) {
	NimStringV2 result;
	NI state;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = rawNewString(((NI) ((NI)(head.len + tail.len))));
	state = ((NI) 0);
	joinPathImpl__pureZos_97((&result), (&state), head);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	joinPathImpl__pureZos_97((&result), (&state), tail);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normalizePathEnd__pureZos_86)(NimStringV2 path, NIM_BOOL trailingSep) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	eqcopy___system_3231((&result), path);
	normalizePathEnd__pureZos_66((&result), trailingSep);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__UV3llMMYFckfui8YMBuUZA, nossplitPath)(NimStringV2 path) {
	tyTuple__UV3llMMYFckfui8YMBuUZA result;
	NI sepPos;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyTuple__UV3llMMYFckfui8YMBuUZA));
	sepPos = ((NI) -1);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(path.len - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA7_;
					goto LA4;
				}
				LA7_: ;
				i = res;
				{
					if (!(((NU8)(path.p->data[i])) == ((NU8)(47)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA11_;
					sepPos = i;
					goto LA2;
				}
				LA11_: ;
				res -= ((NI) 1);
			} LA4: ;
		}
	} LA2: ;
	{
		{
			NI colontmp__2;
			NimStringV2 T24_;
			NimStringV2 T25_;
			if (!(((NI) 0) <= sepPos)) goto LA16_;
			colontmp__2 = (NI)0;
			{
				{
					NIM_BOOL T21_;
					T21_ = (NIM_BOOL)0;
					T21_ = NIM_LIKELY((((NI) 1) <= sepPos));
					if (!T21_) goto LA22_;
					colontmp__2 = (NI)(sepPos - ((NI) 1));
					goto LA18;
				}
				LA22_: ;
				colontmp__2 = ((NI) 0);
			} LA18: ;
			T24_.len = 0; T24_.p = NIM_NIL;
			T24_ = substr__system_7554(path, ((NI) 0), colontmp__2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			result.Field0 = T24_;
			T25_.len = 0; T25_.p = NIM_NIL;
			T25_ = substr__system_7566(path, (NI)(sepPos + ((NI) 1)));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			result.Field1 = T25_;
			goto LA13;
		}
		LA16_: ;
		result.Field0 = TM__yu6cxgKBBXbNsTkT9cyMd4g_6;
		result.Field1 = path;
		path.len = 0; path.p = NIM_NIL;
	} LA13: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&path));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_328)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest) {
	eqdestroy___system_3228((&(*dest).Field0));
	eqdestroy___system_3228((&(*dest).Field1));
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosextractFilename)(NimStringV2 path) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		NimStringV2 colontmp__2;
		tyTuple__UV3llMMYFckfui8YMBuUZA colontmp__3;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (path.len == ((NI) 0));
			{
				if (!colontmp_) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = (((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(47)) || ((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(47)));
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			result = TM__yu6cxgKBBXbNsTkT9cyMd4g_5;
			goto LA1;
		}
		LA9_: ;
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		nimZeroMem((void*)(&colontmp__3), sizeof(tyTuple__UV3llMMYFckfui8YMBuUZA));
		colontmp__2 = path;
		path.len = 0; path.p = NIM_NIL;
		colontmp__3 = nossplitPath(colontmp__2);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		result = colontmp__3.Field1;
		colontmp__3.Field1.len = 0; colontmp__3.Field1.p = NIM_NIL;
		eqdestroy___pureZos_328((&colontmp__3));
	} LA1: ;
	eqdestroy___system_3228((&path));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, noslastPathPart)(NimStringV2 path) {
	NimStringV2 result;
	NimStringV2 path_2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	path_2.len = 0; path_2.p = NIM_NIL;
	path_2 = normalizePathEnd__pureZos_86(path, NIM_FALSE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = nosextractFilename(path_2);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, noscmpPaths)(NimStringV2 pathA, NimStringV2 pathB) {
	NI result;
	NimStringV2 a;
	NimStringV2 b;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	a.len = 0; a.p = NIM_NIL;
	b.len = 0; b.p = NIM_NIL;
	a = normalizePath__pureZpathnorm_130(pathA, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	b = normalizePath__pureZpathnorm_130(pathB, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		{
			if (!NIM_TRUE) goto LA5_;
			result = cmp__system_1540(a, b);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			goto LA2;
		}
		LA5_: ;
		result = nsuCmpIgnoreCase(a, b);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA2: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&b));
		eqdestroy___system_3228((&a));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg, nossplitFile)(NimStringV2 path) {
	tyTuple__7q7q3E6Oj24ZNVJb9aonhAg result;
	NI namePos;
	NI dotPos;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg));
	namePos = ((NI) 0);
	dotPos = ((NI) 0);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(path.len - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				NIM_BOOL colontmp__2;
				NIM_BOOL colontmp__3;
				NIM_BOOL colontmp__4;
				NIM_BOOL colontmp__5;
				{
					if (!!((((NI) 0) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp__2 = (NIM_BOOL)0;
				colontmp__3 = (NIM_BOOL)0;
				colontmp__4 = (NIM_BOOL)0;
				colontmp__5 = (NIM_BOOL)0;
				i = res;
				{
					NIM_BOOL colontmp__6;
					NIM_BOOL colontmp__8;
					colontmp__6 = (NIM_BOOL)0;
					{
						colontmp__6 = (((NU8)(path.p->data[i])) == ((NU8)(47)) || ((NU8)(path.p->data[i])) == ((NU8)(47)));
						{
							if (!colontmp__6) goto LA12_;
							goto LA9;
						}
						LA12_: ;
						colontmp__6 = (i == ((NI) 0));
					} LA9: ;
					{
						if (!colontmp__6) goto LA16_;
						{
							NI colontmp__7;
							NimStringV2 T28_;
							if (!(((NU8)(path.p->data[i])) == ((NU8)(47)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA20_;
							colontmp__7 = (NI)0;
							{
								{
									NIM_BOOL T25_;
									T25_ = (NIM_BOOL)0;
									T25_ = NIM_LIKELY((((NI) 1) <= i));
									if (!T25_) goto LA26_;
									colontmp__7 = (NI)(i - ((NI) 1));
									goto LA22;
								}
								LA26_: ;
								colontmp__7 = ((NI) 0);
							} LA22: ;
							T28_.len = 0; T28_.p = NIM_NIL;
							T28_ = substr__system_7554(path, ((NI) 0), colontmp__7);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							result.Field0 = T28_;
							namePos = (NI)(i + ((NI) 1));
						}
						LA20_: ;
						{
							NimStringV2 T36_;
							{
								NimStringV2 T34_;
								NimStringV2 T35_;
								if (!(i < dotPos)) goto LA32_;
								T34_.len = 0; T34_.p = NIM_NIL;
								T34_ = substr__system_7554(path, namePos, (NI)(dotPos - ((NI) 1)));
								if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								result.Field1 = T34_;
								T35_.len = 0; T35_.p = NIM_NIL;
								T35_ = substr__system_7566(path, dotPos);
								if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								result.Field2 = T35_;
								goto LA29;
							}
							LA32_: ;
							T36_.len = 0; T36_.p = NIM_NIL;
							T36_ = substr__system_7566(path, namePos);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							result.Field1 = T36_;
						} LA29: ;
						goto LA1;
					}
					LA16_: ;
					colontmp__8 = (NIM_BOOL)0;
					{
						{
							{
								{
									{
										colontmp__5 = ((NU8)(path.p->data[i]) == (NU8)(46));
										{
											if (!!(colontmp__5)) goto LA44_;
											goto LA41;
										}
										LA44_: ;
										colontmp__5 = (((NI) 0) < i);
									} LA41: ;
									colontmp__4 = colontmp__5;
									{
										if (!!(colontmp__4)) goto LA48_;
										goto LA40;
									}
									LA48_: ;
									colontmp__4 = (i < (NI)(path.len - ((NI) 1)));
								} LA40: ;
								colontmp__3 = colontmp__4;
								{
									if (!!(colontmp__3)) goto LA52_;
									goto LA39;
								}
								LA52_: ;
								colontmp__3 = !((((NU8)(path.p->data[(NI)(i - ((NI) 1))])) == ((NU8)(47)) || ((NU8)(path.p->data[(NI)(i - ((NI) 1))])) == ((NU8)(47))));
							} LA39: ;
							colontmp__2 = colontmp__3;
							{
								if (!!(colontmp__2)) goto LA56_;
								goto LA38;
							}
							LA56_: ;
							colontmp__2 = !(((NU8)(path.p->data[(NI)(i + ((NI) 1))]) == (NU8)(46)));
						} LA38: ;
						colontmp__8 = colontmp__2;
						{
							if (!!(colontmp__8)) goto LA60_;
							goto LA37;
						}
						LA60_: ;
						colontmp__8 = (dotPos == ((NI) 0));
					} LA37: ;
					{
						if (!colontmp__8) goto LA64_;
						dotPos = i;
						goto LA8;
					}
					LA64_: ;
				} LA8: ;
				res -= ((NI) 1);
			} LA3: ;
		}
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_1875)(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg* dest) {
	eqdestroy___system_3228((&(*dest).Field0));
	eqdestroy___system_3228((&(*dest).Field1));
	eqdestroy___system_3228((&(*dest).Field2));
}
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size) {
	int result;
	result = (int)0;
	result = memcmp(a, b, ((size_t) (size)));
	return result;
}
static N_INLINE(NIM_BOOL, equalMem__system_1716)(void* a, void* b, NI size) {
	NIM_BOOL result;
	int T1_;
	result = (NIM_BOOL)0;
	T1_ = (int)0;
	T1_ = nimCmpMem(a, b, size);
	result = (T1_ == ((NI32) 0));
	return result;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b) {
	NIM_BOOL result;
	NI alen;
	NI blen;
{	result = (NIM_BOOL)0;
	alen = a.len;
	blen = b.len;
	{
		if (!(alen == blen)) goto LA3_;
		{
			if (!(alen == ((NI) 0))) goto LA7_;
			result = NIM_TRUE;
			goto BeforeRet_;
		}
		LA7_: ;
		result = equalMem__system_1716(((void*) ((&a.p->data[((NI) 0)]))), ((void*) ((&b.p->data[((NI) 0)]))), ((NI) (alen)));
		goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, nosnormalizePath)(NimStringV2* path) {
	NimStringV2* colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = path;
	colontmp__2 = normalizePath__pureZpathnorm_130((*path), 47);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	eqsink___system_3234(colontmp_, colontmp__2);
	}BeforeRet_: ;
}
static N_INLINE(void, normalizePathAux__pureZos_46)(NimStringV2* path) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nosnormalizePath(path);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosisAbsolute)(NimStringV2 path) {
	NIM_BOOL result;
{	result = (NIM_BOOL)0;
	{
		if (!(path.len == ((NI) 0))) goto LA3_;
		result = NIM_FALSE;
		goto BeforeRet_;
	}
	LA3_: ;
	result = ((NU8)(path.p->data[((NI) 0)]) == (NU8)(47));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
	(void)(T1_);
}
static N_INLINE(void, copyMem__system_1708)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1708(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePath__pureZos_899)(NimStringV2 path, NimStringV2 root) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		{
			NIM_BOOL T4_;
			T4_ = (NIM_BOOL)0;
			T4_ = nosisAbsolute(path);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T4_) goto LA5_;
			eqcopy___system_3231((&result), path);
			goto LA1;
		}
		LA5_: ;
		{
			NIM_BOOL T9_;
			tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw* T12_;
			NimStringV2 T13_;
			T9_ = (NIM_BOOL)0;
			T9_ = nosisAbsolute(root);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!!(T9_)) goto LA10_;
			T12_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*)0;
			T12_ = (tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw*) nimNewObj(sizeof(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw), NIM_ALIGNOF(tyObject_ValueError__yoNlBGx0D2tRizIdhQuENw));
			(*T12_).Sup.Sup.Sup.m_type = (&NTIv2__yoNlBGx0D2tRizIdhQuENw_);
			(*T12_).Sup.Sup.name = "ValueError";
			T13_.len = 0; T13_.p = NIM_NIL;
			T13_ = rawNewString(root.len + 36);
appendString((&T13_), TM__yu6cxgKBBXbNsTkT9cyMd4g_12);
appendString((&T13_), root);
			(*T12_).Sup.Sup.message = T13_;
			(*T12_).Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T12_, "ValueError", "absolutePath", "os.nim", 1448);
			goto BeforeRet_;
		}
		LA10_: ;
		result = nosjoinPath(root, path);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, eqeq___system_7534)(NCSTRING x, NCSTRING y) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		NIM_BOOL colontmp_;
		int T15_;
		{
			if (!(((void*) (x)) == ((void*) (y)))) goto LA4_;
			result = NIM_TRUE;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (x == 0);
			{
				if (!colontmp_) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			colontmp_ = (y == 0);
		} LA6: ;
		{
			if (!colontmp_) goto LA13_;
			result = NIM_FALSE;
			goto LA1;
		}
		LA13_: ;
		T15_ = (int)0;
		T15_ = strcmp(x, y);
		result = (T15_ == ((NI32) 0));
	} LA1: ;
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s) {
	NCSTRING result;
	result = (NCSTRING)0;
	{
		{
			if (!(s.len == ((NI) 0))) goto LA4_;
			result = "";
			goto LA1;
		}
		LA4_: ;
		result = ((NCSTRING) ((*s.p).data));
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__pureZos_449)(void) {
	NI32 result;
	result = (NI32)0;
	result = errno;
	return result;
}
static N_INLINE(NI, minuspercent___system_704)(NI x, NI y) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NU)((NU64)(((NU) (x))) - (NU64)(((NU) (y))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p) {
	NIM_BOOL result;
	result = (NIM_BOOL)0;
	{
		tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A* cell;
		NI T5_;
		if (!!((p == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_704(((NI) (ptrdiff_t) (p)), ((NI) 16));
		cell = ((tyObject_RefHeader__Gi7WQzlT1ZRToh9a2ueYb4A*) (T5_));
		{
			{
				if (!((NI)((*cell).rc & ((NI) -16)) == ((NI) 0))) goto LA9_;
				result = NIM_TRUE;
				goto LA6;
			}
			LA9_: ;
			(*cell).rc -= ((NI) 16);
		} LA6: ;
		rememberCycle__system_3163(result, cell, (*((TNimTypeV2**) (p))));
	}
	LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_409)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA** dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn((*dest));
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest));
	}
	LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_422)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* dest) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn((*dest).Sup.Sup.parent);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose((*dest).Sup.Sup.parent);
	}
	LA4_: ;
	eqdestroy___system_3228((&(*dest).Sup.Sup.message));
	eqdestroy___system_3266((&(*dest).Sup.Sup.trace));
	{
		NIM_BOOL T8_;
		T8_ = (NIM_BOOL)0;
		T8_ = nimDecRefIsLastCyclicDyn((*dest).Sup.Sup.up);
		if (!T8_) goto LA9_;
		nimDestroyAndDispose((*dest).Sup.Sup.up);
	}
	LA9_: ;
}
static N_INLINE(void, add__system_2722)(tyObject_CellSeq__sGle0igznE2T7vk4dBh5SQ* s, void** c, TNimTypeV2* t) {
	void** colontmp_;
	TNimTypeV2* colontmp__2;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		tyTuple__N4J9cV4JZGem3ljqqj5rT0Q* d;
		void* T5_;
		if (!((*s).cap <= (*s).len)) goto LA3_;
		(*s).cap = (NI)((NI)((*s).cap * ((NI) 3)) / ((NI) 2));
		T5_ = (void*)0;
		T5_ = allocImpl__system_1724(((NI) ((NI)((*s).cap * ((NI) 16)))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		d = ((tyTuple__N4J9cV4JZGem3ljqqj5rT0Q*) (T5_));
		copyMem__system_1708(((void*) (d)), ((void*) ((*s).d)), ((NI) ((NI)((*s).len * ((NI) 16)))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		dealloc(((void*) ((*s).d)));
		(*s).d = d;
	}
	LA3_: ;
	colontmp_ = c;
	colontmp__2 = t;
	(*s).d[(*s).len].Field0 = colontmp_;
	(*s).d[(*s).len].Field1 = colontmp__2;
	(*s).len += ((NI) 1);
	}BeforeRet_: ;
}
static N_INLINE(void, nimTraceRefDyn)(void* q, void* env) {
	void** p;
	p = ((void**) (q));
	{
		tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ* j;
		if (!!(((*p) == NIM_NIL))) goto LA3_;
		j = ((tyObject_GcEnv__g0b9ao2MXcYnUpu9b4I8eP9bQ*) (env));
		add__system_2722((&(*j).traceStack), p, (*((TNimTypeV2**) ((*p)))));
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqtrace___pureZos_431)(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* dest, void* env) {
	nimTraceRefDyn(&(*dest).Sup.Sup.parent, env);
	nimTraceRefDyn(&(*dest).Sup.Sup.up, env);
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, osErrorMsg__pureZos_374)(NI32 errorCode) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_15;
	{
		NimStringV2 colontmp_;
		NCSTRING T5_;
		if (!!((errorCode == ((NI32) 0)))) goto LA3_;
		T5_ = (NCSTRING)0;
		T5_ = strerror(errorCode);
		colontmp_ = cstrToNimstr(T5_);
		eqsink___system_3234((&result), colontmp_);
	}
	LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NOINLINE(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*, newOSError__pureZos_401)(NI32 errorCode, NimStringV2 additionalInfo) {
	tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* result;
	tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* e;
	NimStringV2* colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
	e = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
	eqdestroy___pureZos_409(&e);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	e = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*) nimNewObj(sizeof(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA), NIM_ALIGNOF(tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA));
	(*e).Sup.Sup.Sup.m_type = (&NTIv2__BeJgrOdDsczOwEWOZbRfKA_);
	(*e).errorCode = errorCode;
	colontmp_ = (&(*e).Sup.Sup.message);
	colontmp__2 = osErrorMsg__pureZos_374(errorCode);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	eqsink___system_3234(colontmp_, colontmp__2);
	{
		NIM_BOOL colontmp__3;
		if (!(((NI) 0) < additionalInfo.len)) goto LA4_;
		colontmp__3 = (NIM_BOOL)0;
		{
			NIM_CHAR* T11_;
			colontmp__3 = (((NI) 0) < (*e).Sup.Sup.message.len);
			{
				if (!!(colontmp__3)) goto LA9_;
				goto LA6;
			}
			LA9_: ;
			T11_ = (NIM_CHAR*)0;
			T11_ = X5BX5D___system_7183((&(*e).Sup.Sup.message), ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			colontmp__3 = !(((NU8)((*T11_)) == (NU8)(10)));
		} LA6: ;
		{
			if (!colontmp__3) goto LA14_;
			nimAddCharV1((&(*e).Sup.Sup.message), 10);
		}
		LA14_: ;
		prepareAdd((&(*e).Sup.Sup.message), 17);
appendString((&(*e).Sup.Sup.message), TM__yu6cxgKBBXbNsTkT9cyMd4g_17);
		prepareAdd((&(*e).Sup.Sup.message), additionalInfo.len + 0);
appendString((&(*e).Sup.Sup.message), additionalInfo);
	}
	LA4_: ;
	{
		NimStringV2* colontmp__4;
		if (!((*e).Sup.Sup.message.len == 0)) goto LA18_;
		colontmp__4 = (&(*e).Sup.Sup.message);
		eqsink___system_3234(colontmp__4, TM__yu6cxgKBBXbNsTkT9cyMd4g_19);
	}
	LA18_: ;
	result = e;
	e = 0;
	eqdestroy___pureZos_409(&e);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___pureZos_409(&e);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__pureZos_446)(NI32 errorCode, NimStringV2 additionalInfo) {
	tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (tyObject_OSError__BeJgrOdDsczOwEWOZbRfKA*)0;
	T1_ = newOSError__pureZos_401(errorCode, additionalInfo);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	raiseExceptionEx((Exception*)T1_, "OSError", "raiseOSError", "oserr.nim", 95);
	goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetCurrentDir)(void) {
	NimStringV2 result;
	NI bufsize;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	bufsize = ((NI) 1024);
	result = mnewString(((NI) (bufsize)));
	{
		while (1) {
			{
				NI32 err;
				{
					NCSTRING T6_;
					NIM_BOOL T7_;
					int T10_;
					T6_ = (NCSTRING)0;
					T6_ = getcwd(nimToCStringConv(result), bufsize);
					T7_ = (NIM_BOOL)0;
					T7_ = eqeq___system_7534(T6_, ((NCSTRING) NIM_NIL));
					if (!!(T7_)) goto LA8_;
					T10_ = (int)0;
					T10_ = strlen(nimToCStringConv(result));
					setLengthStrV2((&result), ((NI) (T10_)));
					goto LA1;
				}
				LA8_: ;
				err = osLastError__pureZos_449();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					NI32 T20_;
					{
						NimStringV2 colontmp_;
						if (!(err == ((int) 34))) goto LA14_;
						bufsize = (NI)((NU64)(bufsize) << (NU64)(((NI) 1)));
						{
							if (!!((((NI) 0) <= bufsize))) goto LA18_;
							failedAssertImpl__systemZassertions_65(TM__yu6cxgKBBXbNsTkT9cyMd4g_14);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						LA18_: ;
						colontmp_ = mnewString(((NI) (bufsize)));
						eqsink___system_3234((&result), colontmp_);
						goto LA11;
					}
					LA14_: ;
					T20_ = (NI32)0;
					T20_ = osLastError__pureZos_449();
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					raiseOSError__pureZos_446(T20_, TM__yu6cxgKBBXbNsTkT9cyMd4g_20);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				} LA11: ;
			}
		}
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, absolutePathInternal__pureZos_64)(NimStringV2 path) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2 = nosgetCurrentDir();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	result = absolutePath__pureZos_899(path, colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosrelativePath)(NimStringV2 path, NimStringV2 base, NIM_CHAR sep) {
	NimStringV2 result;
	NimStringV2 base_2;
	NimStringV2 path_2;
	NIM_BOOL a1;
	NIM_BOOL a2;
	tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg f;
	tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg b;
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ ff;
	tyTuple__1v9bKyksXWMsm0vNwmZ4EuQ bb;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	base_2.len = 0; base_2.p = NIM_NIL;
	path_2.len = 0; path_2.p = NIM_NIL;
	{
		if (!(path.len == ((NI) 0))) goto LA4_;
		result = TM__yu6cxgKBBXbNsTkT9cyMd4g_7;
		eqdestroy___system_3228((&path_2));
		eqdestroy___system_3228((&base_2));
		goto BeforeRet_;
	}
	LA4_: ;
	{
		{
			if (!eqStrings(base, TM__yu6cxgKBBXbNsTkT9cyMd4g_9)) goto LA9_;
			base_2 = TM__yu6cxgKBBXbNsTkT9cyMd4g_10;
			goto LA6;
		}
		LA9_: ;
		eqcopy___system_3231((&base_2), base);
	} LA6: ;
	eqcopy___system_3231((&path_2), path);
	normalizePathAux__pureZos_46((&path_2));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	normalizePathAux__pureZos_46((&base_2));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a1 = nosisAbsolute(path_2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	a2 = nosisAbsolute(base_2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NIM_BOOL colontmp_;
		NIM_BOOL colontmp__3;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = a1;
			{
				if (!!(colontmp_)) goto LA15_;
				goto LA12;
			}
			LA15_: ;
			colontmp_ = !(a2);
		} LA12: ;
		{
			NimStringV2 colontmp__2;
			if (!colontmp_) goto LA19_;
			colontmp__2 = absolutePathInternal__pureZos_64(base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___system_3234((&base_2), colontmp__2);
			goto LA11;
		}
		LA19_: ;
		colontmp__3 = (NIM_BOOL)0;
		{
			colontmp__3 = a2;
			{
				if (!!(colontmp__3)) goto LA24_;
				goto LA21;
			}
			LA24_: ;
			colontmp__3 = !(a1);
		} LA21: ;
		{
			NimStringV2 colontmp__4;
			if (!colontmp__3) goto LA28_;
			colontmp__4 = absolutePathInternal__pureZos_64(path_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			eqsink___system_3234((&path_2), colontmp__4);
			goto LA11;
		}
		LA28_: ;
	} LA11: ;
	nimZeroMem((void*)(&f), sizeof(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg));
	nimZeroMem((void*)(&b), sizeof(tyObject_PathIter__tllF14xUpDWpqG9ci5sg9bMg));
	ff = TM__yu6cxgKBBXbNsTkT9cyMd4g_21;
	bb = TM__yu6cxgKBBXbNsTkT9cyMd4g_21;
	result = rawNewString(((NI) (path_2.len)));
	{
		while (1) {
			NIM_BOOL colontmp__5;
			NI diff;
			NIM_BOOL same;
			NI colontmp__6;
			NI colontmp__7;
			NI colontmp__8;
			NI colontmp__9;
			colontmp__5 = (NIM_BOOL)0;
			{
				colontmp__5 = hasNext__pureZpathnorm_6(f, path_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				{
					if (!!(colontmp__5)) goto LA35_;
					goto LA32;
				}
				LA35_: ;
				colontmp__5 = hasNext__pureZpathnorm_6(b, base_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			} LA32: ;
			{
				if (!!(colontmp__5)) goto LA39_;
				goto LA31;
			}
			LA39_: ;
			ff = next__pureZpathnorm_10((&f), path_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			bb = next__pureZpathnorm_10((&b), base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			diff = (NI)(ff.Field1 - ff.Field0);
			{
				if (!!((diff == (NI)(bb.Field1 - bb.Field0)))) goto LA43_;
				goto LA30;
			}
			LA43_: ;
			same = NIM_TRUE;
			{
				NI i;
				NI res;
				i = (NI)0;
				res = ((NI) 0);
				{
					while (1) {
						{
							if (!!((res <= diff))) goto LA50_;
							goto LA47;
						}
						LA50_: ;
						i = res;
						{
							if (!!(((NU8)(path_2.p->data[(NI)(i + ff.Field0)]) == (NU8)(base_2.p->data[(NI)(i + bb.Field0)])))) goto LA54_;
							same = NIM_FALSE;
							goto LA45;
						}
						LA54_: ;
						res += ((NI) 1);
					} LA47: ;
				}
			} LA45: ;
			{
				if (!!(same)) goto LA58_;
				goto LA30;
			}
			LA58_: ;
			colontmp__6 = ((NI) 0);
			colontmp__7 = ((NI) -1);
			ff.Field0 = colontmp__6;
			ff.Field1 = colontmp__7;
			colontmp__8 = ((NI) 0);
			colontmp__9 = ((NI) -1);
			bb.Field0 = colontmp__8;
			bb.Field1 = colontmp__9;
		} LA31: ;
	} LA30: ;
	{
		while (1) {
			{
				NIM_BOOL colontmp__10;
				if (!(bb.Field0 <= bb.Field1)) goto LA64_;
				colontmp__10 = (NIM_BOOL)0;
				{
					NIM_CHAR* T71_;
					colontmp__10 = (((NI) 0) < result.len);
					{
						if (!!(colontmp__10)) goto LA69_;
						goto LA66;
					}
					LA69_: ;
					T71_ = (NIM_CHAR*)0;
					T71_ = X5BX5D___system_7183((&result), ((NI) 1));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					colontmp__10 = !(((NU8)((*T71_)) == (NU8)(sep)));
				} LA66: ;
				{
					if (!colontmp__10) goto LA74_;
					nimAddCharV1((&result), sep);
				}
				LA74_: ;
				prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_23);
			}
			LA64_: ;
			{
				NIM_BOOL T78_;
				T78_ = (NIM_BOOL)0;
				T78_ = hasNext__pureZpathnorm_6(b, base_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				if (!!(T78_)) goto LA79_;
				goto LA60;
			}
			LA79_: ;
			bb = next__pureZpathnorm_10((&b), base_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
	} LA60: ;
	{
		while (1) {
			{
				NIM_BOOL colontmp__11;
				if (!(ff.Field0 <= ff.Field1)) goto LA85_;
				colontmp__11 = (NIM_BOOL)0;
				{
					NIM_CHAR* T92_;
					colontmp__11 = (((NI) 0) < result.len);
					{
						if (!!(colontmp__11)) goto LA90_;
						goto LA87;
					}
					LA90_: ;
					T92_ = (NIM_CHAR*)0;
					T92_ = X5BX5D___system_7183((&result), ((NI) 1));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					colontmp__11 = !(((NU8)((*T92_)) == (NU8)(sep)));
				} LA87: ;
				{
					if (!colontmp__11) goto LA95_;
					nimAddCharV1((&result), sep);
				}
				LA95_: ;
				{
					NI i_2;
					NI colontmp__12;
					NI res_2;
					i_2 = (NI)0;
					colontmp__12 = (NI)0;
					colontmp__12 = (NI)(ff.Field1 - ff.Field0);
					res_2 = ((NI) 0);
					{
						while (1) {
							{
								if (!!((res_2 <= colontmp__12))) goto LA102_;
								goto LA99;
							}
							LA102_: ;
							i_2 = res_2;
							nimAddCharV1((&result), path_2.p->data[(NI)(i_2 + ff.Field0)]);
							res_2 += ((NI) 1);
						} LA99: ;
					}
				}
			}
			LA85_: ;
			{
				NIM_BOOL T106_;
				T106_ = (NIM_BOOL)0;
				T106_ = hasNext__pureZpathnorm_6(f, path_2);
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				if (!!(T106_)) goto LA107_;
				goto LA81;
			}
			LA107_: ;
			ff = next__pureZpathnorm_10((&f), path_2);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
	} LA81: ;
	{
		if (!(result.len == ((NI) 0))) goto LA111_;
		prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_24);
	}
	LA111_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&path_2));
		eqdestroy___system_3228((&base_2));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isRelativeTo__pureZos_199)(NimStringV2 path, NimStringV2 base) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	NimStringV2 path_2;
	NimStringV2 base_2;
	NimStringV2 ret;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	path_2.len = 0; path_2.p = NIM_NIL;
	base_2.len = 0; base_2.p = NIM_NIL;
	ret.len = 0; ret.p = NIM_NIL;
	path_2 = normalizePath__pureZpathnorm_130(path, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	base_2 = normalizePath__pureZpathnorm_130(base, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	ret = nosrelativePath(path_2, base_2, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NIM_BOOL T7_;
		colontmp_ = (((NI) 0) < path_2.len);
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA2;
		}
		LA5_: ;
		T7_ = (NIM_BOOL)0;
		T7_ = nsuStartsWith(ret, TM__yu6cxgKBBXbNsTkT9cyMd4g_25);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		colontmp_ = !(T7_);
	} LA2: ;
	result = colontmp_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&ret));
		eqdestroy___system_3228((&base_2));
		eqdestroy___system_3228((&path_2));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, parentDirPos__pureZos_206)(NimStringV2 path) {
	NI result;
	NI q;
	NIM_BOOL colontmp_;
{	result = (NI)0;
	q = ((NI) 1);
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = (((NI) 1) <= path.len);
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = (((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(47)) || ((NU8)(path.p->data[(NI)(path.len - ((NI) 1))])) == ((NU8)(47)));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		q = ((NI) 2);
	}
	LA8_: ;
	{
		NI i;
		NI colontmp__2;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__2 = (NI)(path.len - q);
		res = colontmp__2;
		{
			while (1) {
				{
					if (!!((((NI) 0) <= res))) goto LA15_;
					goto LA12;
				}
				LA15_: ;
				i = res;
				{
					if (!(((NU8)(path.p->data[i])) == ((NU8)(47)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA19_;
					result = i;
					goto BeforeRet_;
				}
				LA19_: ;
				res -= ((NI) 1);
			} LA12: ;
		}
	}
	result = ((NI) -1);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosparentDir)(NimStringV2 path) {
	NimStringV2 result;
	NIM_BOOL colontmp_;
	NIM_BOOL colontmp__2;
	NI sepPos;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_ = (NIM_BOOL)0;
	colontmp__2 = (NIM_BOOL)0;
	result = normalizePath__pureZpathnorm_130(path, 47);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	sepPos = parentDirPos__pureZos_206(result);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NIM_BOOL colontmp__4;
		{
			NimStringV2 colontmp__3;
			if (!(((NI) 0) <= sepPos)) goto LA4_;
			colontmp__3 = substr__system_7554(result, ((NI) 0), sepPos);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			eqsink___system_3234((&result), colontmp__3);
			normalizePathEnd__pureZos_66((&result), NIM_FALSE);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA4_: ;
		colontmp__4 = (NIM_BOOL)0;
		{
			NIM_CHAR* T21_;
			{
				{
					colontmp__2 = eqStrings(result, TM__yu6cxgKBBXbNsTkT9cyMd4g_26);
					{
						if (!colontmp__2) goto LA11_;
						goto LA8;
					}
					LA11_: ;
					colontmp__2 = eqStrings(result, TM__yu6cxgKBBXbNsTkT9cyMd4g_27);
				} LA8: ;
				colontmp_ = colontmp__2;
				{
					if (!colontmp_) goto LA15_;
					goto LA7;
				}
				LA15_: ;
				colontmp_ = (result.len == ((NI) 0));
			} LA7: ;
			colontmp__4 = colontmp_;
			{
				if (!colontmp__4) goto LA19_;
				goto LA6;
			}
			LA19_: ;
			T21_ = (NIM_CHAR*)0;
			T21_ = X5BX5D___system_7183((&result), ((NI) 1));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			colontmp__4 = (((NU8)((*T21_))) == ((NU8)(47)) || ((NU8)((*T21_))) == ((NU8)(47)));
		} LA6: ;
		{
			if (!colontmp__4) goto LA24_;
			eqsink___system_3234((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_28);
			goto LA1;
		}
		LA24_: ;
		eqsink___system_3234((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_29);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileExists)(NimStringV2 filename) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	struct stat res;
{	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	nimZeroMem((void*)(&res), sizeof(struct stat));
	{
		int T2_;
		T2_ = (int)0;
		T2_ = stat(nimToCStringConv(filename), (&res));
		colontmp_ = (((NI32) 0) <= T2_);
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA1;
		}
		LA5_: ;
		colontmp_ = S_ISREG(res.st_mode);
	} LA1: ;
	result = colontmp_;
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosdirExists)(NimStringV2 dir) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	struct stat res;
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	nimZeroMem((void*)(&res), sizeof(struct stat));
	{
		int T2_;
		T2_ = (int)0;
		T2_ = stat(nimToCStringConv(dir), (&res));
		colontmp_ = (((NI32) 0) <= T2_);
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA1;
		}
		LA5_: ;
		colontmp_ = S_ISDIR(res.st_mode);
	} LA1: ;
	result = colontmp_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, rawCreateDir__pureZos_1714)(NimStringV2 dir) {
	NIM_BOOL result;
	int res;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	res = mkdir(nimToCStringConv(dir), ((mode_t) 511));
	{
		NI32 T10_;
		{
			if (!(res == ((NI32) 0))) goto LA4_;
			result = NIM_TRUE;
			goto LA1;
		}
		LA4_: ;
		{
			if (!(errno == ((int) 17))) goto LA8_;
			result = NIM_FALSE;
			goto LA1;
		}
		LA8_: ;
		T10_ = (NI32)0;
		T10_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_446(T10_, dir);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosexistsOrCreateDir)(NimStringV2 dir) {
	NIM_BOOL result;
	NIM_BOOL T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NIM_BOOL)0;
	T1_ = rawCreateDir__pureZos_1714(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = !(T1_);
	{
		if (!result) goto LA4_;
		{
			NIM_BOOL T8_;
			tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw* T11_;
			NimStringV2 T12_;
			T8_ = (NIM_BOOL)0;
			T8_ = nosdirExists(dir);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!!(T8_)) goto LA9_;
			T11_ = (tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw*)0;
			T11_ = (tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw*) nimNewObj(sizeof(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw), NIM_ALIGNOF(tyObject_IOError__iLZrPn9anoh9ad1MmO0RczFw));
			(*T11_).Sup.Sup.Sup.m_type = (&NTIv2__iLZrPn9anoh9ad1MmO0RczFw_);
			(*T11_).Sup.Sup.name = "IOError";
			T12_.len = 0; T12_.p = NIM_NIL;
			T12_ = rawNewString(dir.len + 19);
appendString((&T12_), TM__yu6cxgKBBXbNsTkT9cyMd4g_31);
appendString((&T12_), dir);
appendString((&T12_), TM__yu6cxgKBBXbNsTkT9cyMd4g_33);
			(*T11_).Sup.Sup.message = T12_;
			(*T11_).Sup.Sup.parent = ((Exception*) NIM_NIL);
			raiseExceptionEx((Exception*)T11_, "IOError", "existsOrCreateDir", "os.nim", 2519);
			goto BeforeRet_;
		}
		LA9_: ;
	}
	LA4_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, noscreateDir)(NimStringV2 dir) {
	NIM_BOOL colontmp_;
	NIM_BOOL omitNext;
NIM_BOOL oldNimErrFin17_;
	NIM_BOOL colontmp__5;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	omitNext = NIM_FALSE;
	{
		NI i;
		NI colontmp__2;
		NI res;
		i = (NI)0;
		colontmp__2 = (NI)0;
		colontmp__2 = (NI)(dir.len - ((NI) 1));
		res = ((NI) 1);
		{
			while (1) {
				{
					if (!!((res <= colontmp__2))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				{
					if (!(((NU8)(dir.p->data[i])) == ((NU8)(47)) || ((NU8)(dir.p->data[i])) == ((NU8)(47)))) goto LA10_;
					{
						NimStringV2 colontmp__3;
						NimStringV2 colontmp__4;
						NIM_BOOL T18_;
						{
							if (!omitNext) goto LA15_;
							omitNext = NIM_FALSE;
							goto LA12;
						}
						LA15_: ;
						colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
						colontmp__4 = substr__system_7554(dir, ((NI) 0), (NI)(i - ((NI) 1)));
						if (NIM_UNLIKELY(*nimErr_)) goto LA17_;
						colontmp__3 = colontmp__4;
						T18_ = (NIM_BOOL)0;
						T18_ = nosexistsOrCreateDir(colontmp__3);
						if (NIM_UNLIKELY(*nimErr_)) goto LA17_;
						(void)(T18_);
						{
							LA17_:;
						}
						{
							oldNimErrFin17_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3228((&colontmp__3));
							*nimErr_ = oldNimErrFin17_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					} LA12: ;
				}
				LA10_: ;
				res += ((NI) 1);
			} LA3: ;
		}
	}
	colontmp__5 = (NIM_BOOL)0;
	{
		NIM_CHAR T31_;
		{
			colontmp_ = (((NI) 0) < dir.len);
			{
				if (!!(colontmp_)) goto LA25_;
				goto LA22;
			}
			LA25_: ;
			colontmp_ = !(omitNext);
		} LA22: ;
		colontmp__5 = colontmp_;
		{
			if (!!(colontmp__5)) goto LA29_;
			goto LA21;
		}
		LA29_: ;
		T31_ = (NIM_CHAR)0;
		T31_ = X5BX5D___system_7144(dir, ((NI) 1));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		colontmp__5 = !((((NU8)(T31_)) == ((NU8)(47)) || ((NU8)(T31_)) == ((NU8)(47))));
	} LA21: ;
	{
		NIM_BOOL T36_;
		if (!colontmp__5) goto LA34_;
		T36_ = (NIM_BOOL)0;
		T36_ = nosexistsOrCreateDir(dir);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		(void)(T36_);
	}
	LA34_: ;
	}BeforeRet_: ;
}
static N_INLINE(void, addEscapedChar__system_7268)(NimStringV2* s, NIM_CHAR c) {
	switch (((NU8)(c))) {
	case 7:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_37);
	}
	break;
	case 8:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_39);
	}
	break;
	case 9:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_41);
	}
	break;
	case 10:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_43);
	}
	break;
	case 11:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_45);
	}
	break;
	case 12:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_47);
	}
	break;
	case 13:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_49);
	}
	break;
	case 27:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_51);
	}
	break;
	case 92:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_53);
	}
	break;
	case 39:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_55);
	}
	break;
	case 34:
	{
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_57);
	}
	break;
	case 32 ... 33:
	case 35 ... 38:
	case 40 ... 91:
	case 93 ... 126:
	{
		nimAddCharV1((&(*s)), c);
	}
	break;
	default:
	{
		NI n;
		prepareAdd((&(*s)), 2);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_59);
		n = ((NU8)(c));
		nimAddCharV1((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_61.p->data[(NI)((NI64)((NI)(n & ((NI) 240))) >> (NU64)(((NI) 4)))]);
		nimAddCharV1((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_62.p->data[(NI)(n & ((NI) 15))]);
	}
	break;
	}
}
N_LIB_PRIVATE N_NIMCALL(void, addQuoted__pureZos_490)(NimStringV2* s, NimStringV2 x) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	prepareAdd((&(*s)), 1);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_35);
	{
		NIM_CHAR c;
		NI i;
		NI L;
		c = (NIM_CHAR)0;
		i = ((NI) 0);
		L = x.len;
		{
			while (1) {
				{
					if (!!((i < L))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				c = x.p->data[i];
				{
					{
						if (!((NU8)(c) <= (NU8)(127))) goto LA11_;
						addEscapedChar__system_7268(s, c);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						goto LA8;
					}
					LA11_: ;
					nimAddCharV1((&(*s)), c);
				} LA8: ;
				i += ((NI) 1);
			} LA3: ;
		}
	}
	prepareAdd((&(*s)), 1);
appendString((&(*s)), TM__yu6cxgKBBXbNsTkT9cyMd4g_63);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI, paramCount__pureZos_1846)(void) {
	NI result;
	result = (NI)0;
	result = ((NI) ((NI32)(cmdCount - ((NI32) 1))));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, paramStr__pureZos_1837)(NI i) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		NimStringV2 colontmp__2;
		tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ* T11_;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (i < ((NI) (cmdCount)));
			{
				if (!!(colontmp_)) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = (((NI) 0) <= i);
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			result = cstrToNimstr(cmdLine[i]);
			goto LA1;
		}
		LA9_: ;
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		T11_ = (tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ*)0;
		T11_ = (tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ*) nimNewObj(sizeof(tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ), NIM_ALIGNOF(tyObject_IndexDefect__n6tGEPHKkh7E1AP9bj30WrQ));
		(*T11_).Sup.Sup.Sup.m_type = (&NTIv2__n6tGEPHKkh7E1AP9bj30WrQ_);
		(*T11_).Sup.Sup.name = "IndexDefect";
		{
			NimStringV2 T17_;
			NimStringV2 T18_;
			{
				if (!((NI32)(cmdCount - ((NI32) 1)) < ((NI32) 0))) goto LA15_;
				colontmp__2 = TM__yu6cxgKBBXbNsTkT9cyMd4g_65;
				goto LA12;
			}
			LA15_: ;
			T17_.len = 0; T17_.p = NIM_NIL;
			T17_ = dollar___systemZdollars_3(i);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			T18_.len = 0; T18_.p = NIM_NIL;
			T18_ = dollar___systemZdollars_3(((NI) ((NI32)(cmdCount - ((NI32) 1)))));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			colontmp__2 = formatErrorIndexBoundStr__system_4378(T17_, TM__yu6cxgKBBXbNsTkT9cyMd4g_67, T18_);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		} LA12: ;
		(*T11_).Sup.Sup.message = colontmp__2;
		(*T11_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T11_, "IndexDefect", "paramStr", "os.nim", 2951);
		goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, getExecArgs__pureZos_2154)(void) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = paramCount__pureZos_1846();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		res = ((NI) 1);
		{
			while (1) {
				NimStringV2 T8_;
				{
					if (!!((res <= colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				T8_.len = 0; T8_.p = NIM_NIL;
				T8_ = paramStr__pureZos_1837(i);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				add__stdZenumutils_66((&result), T8_);
				res += ((NI) 1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShellPosix)(NimStringV2 s) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NimStringV2 colontmp_;
		NimStringV2 T11_;
		{
			if (!(s.len == ((NI) 0))) goto LA4_;
			result = TM__yu6cxgKBBXbNsTkT9cyMd4g_69;
			goto LA1;
		}
		LA4_: ;
		{
			NIM_BOOL T8_;
			T8_ = (NIM_BOOL)0;
			T8_ = allCharsInSet__pureZstrutils_1397(s, TM__yu6cxgKBBXbNsTkT9cyMd4g_70);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T8_) goto LA9_;
			eqcopy___system_3231((&result), s);
			goto LA1;
		}
		LA9_: ;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T11_.len = 0; T11_.p = NIM_NIL;
		colontmp_ = nsuReplaceStr(s, TM__yu6cxgKBBXbNsTkT9cyMd4g_72, TM__yu6cxgKBBXbNsTkT9cyMd4g_74);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		T11_ = rawNewString(colontmp_.len + 2);
appendString((&T11_), TM__yu6cxgKBBXbNsTkT9cyMd4g_71);
appendString((&T11_), colontmp_);
appendString((&T11_), TM__yu6cxgKBBXbNsTkT9cyMd4g_75);
		result = T11_;
		eqdestroy___system_3228((&colontmp_));
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nospquoteShell)(NimStringV2 s) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nospquoteShellPosix(s);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosunixToNativePath)(NimStringV2 path, NimStringV2 drive) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	eqcopy___system_3231((&result), path);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, quoteShellCommand__pureZos_773)(NimStringV2* args, NI argsLen_0) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_76;
	{
		NI i;
		NI colontmp_;
		NI i_2;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = argsLen_0;
		i_2 = ((NI) 0);
		{
			while (1) {
				NimStringV2 colontmp__2;
				{
					if (!!((i_2 < colontmp_))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
				i = i_2;
				{
					if (!(((NI) 0) < i)) goto LA10_;
					prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_78);
				}
				LA10_: ;
				colontmp__2 = nospquoteShell(args[i]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				prepareAdd((&result), colontmp__2.len + 0);
appendString((&result), colontmp__2);
				i_2 += ((NI) 1);
				eqdestroy___system_3228((&colontmp__2));
			} LA3: ;
		}
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getEnv__pureZos_459)(NimStringV2 key, NimStringV2 default_0) {
	NimStringV2 result;
	NCSTRING env;
{	result.len = 0; result.p = NIM_NIL;
	env = getenv(nimToCStringConv(key));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = eqeq___system_7534(env, ((NCSTRING) NIM_NIL));
		if (!T3_) goto LA4_;
		eqcopy___system_3231((&result), default_0);
		goto BeforeRet_;
	}
	LA4_: ;
	result = cstrToNimstr(env);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetHomeDir)(void) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 T2_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	T2_.len = 0; T2_.p = NIM_NIL;
	colontmp__2 = getEnv__pureZos_459(TM__yu6cxgKBBXbNsTkT9cyMd4g_80, TM__yu6cxgKBBXbNsTkT9cyMd4g_81);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__2;
	T2_ = rawNewString(colontmp_.len + 1);
appendString((&T2_), colontmp_);
appendString((&T2_), TM__yu6cxgKBBXbNsTkT9cyMd4g_82);
	result = T2_;
	eqdestroy___system_3228((&colontmp_));
	goto BeforeRet_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NimStringV2, slash___pureZos_136)(NimStringV2 head, NimStringV2 tail) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nosjoinPath(head, tail);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, expandTilde__pureZos_748)(NimStringV2 path) {
	NimStringV2 result;
NIM_BOOL oldNimErrFin19_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (path.len == ((NI) 0));
			{
				if (!colontmp_) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = !(((NU8)(path.p->data[((NI) 0)]) == (NU8)(126)));
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			eqcopy___system_3231((&result), path);
			goto LA1;
		}
		LA9_: ;
		{
			if (!(path.len == ((NI) 1))) goto LA13_;
			result = nosgetHomeDir();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA13_: ;
		{
			NimStringV2 colontmp__2;
			NimStringV2 colontmp__3;
			NimStringV2 colontmp__4;
			NimStringV2 colontmp__5;
			if (!(((NU8)(path.p->data[((NI) 1)])) == ((NU8)(47)) || ((NU8)(path.p->data[((NI) 1)])) == ((NU8)(47)))) goto LA17_;
			colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
			colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
			colontmp__4 = nosgetHomeDir();
			if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
			colontmp__2 = colontmp__4;
			colontmp__5 = substr__system_7566(path, ((NI) 2));
			if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
			colontmp__3 = colontmp__5;
			result = slash___pureZos_136(colontmp__2, colontmp__3);
			if (NIM_UNLIKELY(*nimErr_)) goto LA19_;
			eqdestroy___system_3228((&colontmp__3));
			eqdestroy___system_3228((&colontmp__2));
			goto LA1;
			{
				LA19_:;
			}
			{
				oldNimErrFin19_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3228((&colontmp__3));
				eqdestroy___system_3228((&colontmp__2));
				*nimErr_ = oldNimErrFin19_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA17_: ;
		eqcopy___system_3231((&result), path);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getApplAux__pureZos_1863)(NimStringV2 procPath) {
	NimStringV2 result;
	NI len;
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) 1024));
	len = readlink(nimToCStringConv(procPath), nimToCStringConv(result), ((NI) 1024));
	{
		NimStringV2 colontmp_;
		if (!(((NI) 1024) < len)) goto LA3_;
		colontmp_ = mnewString(((NI) ((NI)(len + ((NI) 1)))));
		eqsink___system_3234((&result), colontmp_);
		len = readlink(nimToCStringConv(procPath), nimToCStringConv(result), len);
	}
	LA3_: ;
	setLengthStrV2((&result), ((NI) (len)));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, getApplHeuristic__pureZos_1867)(void) {
	NimStringV2 result;
	NIM_BOOL colontmp_;
NIM_BOOL oldNimErrFin18_;
NIM_BOOL oldNimErrFin11_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = paramStr__pureZos_1837(((NI) 0));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	colontmp_ = (NIM_BOOL)0;
	{
		colontmp_ = (((NI) 0) < result.len);
		{
			if (!!(colontmp_)) goto LA4_;
			goto LA1;
		}
		LA4_: ;
		colontmp_ = !(((NU8)(result.p->data[((NI) 0)]) == (NU8)(47)));
	} LA1: ;
	{
		if (!colontmp_) goto LA8_;
		{
			NimStringV2 p;
			NimStringV2 colontmp__2;
			NI lastX60gensym36_;
			NI splitsX60gensym36_;
			p.len = 0; p.p = NIM_NIL;
			colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
			colontmp__2 = getEnv__pureZos_459(TM__yu6cxgKBBXbNsTkT9cyMd4g_86, TM__yu6cxgKBBXbNsTkT9cyMd4g_87);
			if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
			lastX60gensym36_ = ((NI) 0);
			splitsX60gensym36_ = ((NI) -1);
			{
				while (1) {
					NimStringV2 x;
					NI firstX60gensym36_;
					NimStringV2 colontmp__4;
					{
						if (!!((lastX60gensym36_ <= colontmp__2.len))) goto LA16_;
						goto LA13;
					}
					LA16_: ;
					x.len = 0; x.p = NIM_NIL;
					firstX60gensym36_ = lastX60gensym36_;
					{
						while (1) {
							NIM_BOOL colontmp__3;
							colontmp__3 = (NIM_BOOL)0;
							{
								colontmp__3 = (lastX60gensym36_ < colontmp__2.len);
								{
									if (!!(colontmp__3)) goto LA24_;
									goto LA21;
								}
								LA24_: ;
								colontmp__3 = !((((NU8)(colontmp__2.p->data[lastX60gensym36_])) == ((NU8)(58))));
							} LA21: ;
							{
								if (!!(colontmp__3)) goto LA28_;
								goto LA20;
							}
							LA28_: ;
							lastX60gensym36_ += ((NI) 1);
						} LA20: ;
					}
					{
						if (!(splitsX60gensym36_ == ((NI) 0))) goto LA32_;
						lastX60gensym36_ = colontmp__2.len;
					}
					LA32_: ;
					colontmp__4 = substr__system_7554(colontmp__2, firstX60gensym36_, (NI)(lastX60gensym36_ - ((NI) 1)));
					if (NIM_UNLIKELY(*nimErr_)) goto LA18_;
					eqsink___system_3234((&p), colontmp__4);
					x = nosjoinPath(p, result);
					if (NIM_UNLIKELY(*nimErr_)) goto LA18_;
					{
						NIM_BOOL T36_;
						T36_ = (NIM_BOOL)0;
						T36_ = nosfileExists(x);
						if (NIM_UNLIKELY(*nimErr_)) goto LA18_;
						if (!T36_) goto LA37_;
						eqsink___system_3234((&result), x);
						x.len = 0; x.p = NIM_NIL;
						eqdestroy___system_3228((&x));
						eqdestroy___system_3228((&colontmp__2));
						eqdestroy___system_3228((&p));
						goto BeforeRet_;
					}
					LA37_: ;
					{
						if (!(splitsX60gensym36_ == ((NI) 0))) goto LA41_;
						eqdestroy___system_3228((&x));
						goto LA12;
					}
					LA41_: ;
					splitsX60gensym36_ -= ((NI) 1);
					lastX60gensym36_ += ((NI) 1);
					{
						LA18_:;
					}
					{
						oldNimErrFin18_ = *nimErr_; *nimErr_ = NIM_FALSE;
						eqdestroy___system_3228((&x));
						*nimErr_ = oldNimErrFin18_;
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
				} LA13: ;
			} LA12: ;
			{
				LA11_:;
			}
			{
				oldNimErrFin11_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3228((&colontmp__2));
				eqdestroy___system_3228((&p));
				*nimErr_ = oldNimErrFin11_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
	}
	LA8_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetAppFilename)(void) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = getApplAux__pureZos_1863(TM__yu6cxgKBBXbNsTkT9cyMd4g_84);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NimStringV2 colontmp_;
		if (!(result.len == ((NI) 0))) goto LA3_;
		colontmp_ = getApplHeuristic__pureZos_1867();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqsink___system_3234((&result), colontmp_);
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetAppDir)(void) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	tyTuple__7q7q3E6Oj24ZNVJb9aonhAg colontmp__2;
	tyTuple__7q7q3E6Oj24ZNVJb9aonhAg colontmp__3;
	NimStringV2 colontmp__4;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	nimZeroMem((void*)(&colontmp__2), sizeof(tyTuple__7q7q3E6Oj24ZNVJb9aonhAg));
	colontmp__4 = nosgetAppFilename();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__4;
	colontmp__3 = nossplitFile(colontmp_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__2 = colontmp__3;
	result = colontmp__2.Field0;
	colontmp__2.Field0.len = 0; colontmp__2.Field0.p = NIM_NIL;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___pureZos_1875((&colontmp__2));
		eqdestroy___system_3228((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg, getSymlinkFileKind__pureZos_1399)(NimStringV2 path) {
	tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg result;
	struct stat s;
	result = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
	nimZeroMem((void*)(&s), sizeof(struct stat));
	{
		NIM_BOOL colontmp_;
		colontmp_ = (NIM_BOOL)0;
		{
			int T3_;
			T3_ = (int)0;
			T3_ = stat(nimToCStringConv(path), (&s));
			colontmp_ = (T3_ == ((NI32) 0));
			{
				if (!!(colontmp_)) goto LA6_;
				goto LA2;
			}
			LA6_: ;
			colontmp_ = S_ISDIR(s.st_mode);
		} LA2: ;
		{
			if (!colontmp_) goto LA10_;
			result = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
			goto LA1;
		}
		LA10_: ;
		result = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1);
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___pureZos_331)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest, tyTuple__UV3llMMYFckfui8YMBuUZA* src) {
	eqcopy___system_3231((&(*dest).Field0), (*src).Field0);
	eqcopy___system_3231((&(*dest).Field1), (*src).Field1);
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZos_334)(tyTuple__UV3llMMYFckfui8YMBuUZA* dest, tyTuple__UV3llMMYFckfui8YMBuUZA* src) {
	if ((*dest).Field0.p != (*src).Field0.p) {	eqdestroy___system_3228((&(*dest).Field0));
	}
(*dest).Field0.len = (*src).Field0.len; (*dest).Field0.p = (*src).Field0.p;
	if ((*dest).Field1.p != (*src).Field1.p) {	eqdestroy___system_3228((&(*dest).Field1));
	}
(*dest).Field1.len = (*src).Field1.len; (*dest).Field1.p = (*src).Field1.p;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosexpandFilename)(NimStringV2 filename) {
	NimStringV2 result;
	NCSTRING r;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	r = realpath(nimToCStringConv(filename), ((NCSTRING) NIM_NIL));
	{
		{
			NI32 T6_;
			if (!(r == 0)) goto LA4_;
			T6_ = (NI32)0;
			T6_ = osLastError__pureZos_449();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			raiseOSError__pureZos_446(T6_, filename);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			goto LA1;
		}
		LA4_: ;
		result = cstrToNimstr(r);
		free(((void*) (r)));
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, searchExtPos__pureZos_282)(NimStringV2 path) {
	NI result;
	result = (NI)0;
	result = ((NI) -1);
	{
		NI i;
		NI colontmp_;
		NI res;
		i = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(path.len - ((NI) 1));
		res = colontmp_;
		{
			while (1) {
				{
					if (!!((((NI) 1) <= res))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = res;
				{
					{
						if (!((NU8)(path.p->data[i]) == (NU8)(46))) goto LA11_;
						result = i;
						goto LA1;
					}
					LA11_: ;
					{
						if (!(((NU8)(path.p->data[i])) == ((NU8)(47)) || ((NU8)(path.p->data[i])) == ((NU8)(47)))) goto LA15_;
						goto LA1;
					}
					LA15_: ;
				}
				res -= ((NI) 1);
			} LA3: ;
		}
	} LA1: ;
	return result;
}
static N_INLINE(void, appendChar)(NimStringV2* dest, NIM_CHAR c) {
	(*(*dest).p).data[(*dest).len] = c;
	(*(*dest).p).data[(NI)((*dest).len + ((NI) 1))] = 0;
	(*dest).len += ((NI) 1);
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, normExt__pureZos_279)(NimStringV2 ext) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL colontmp_;
		NimStringV2 T11_;
		colontmp_ = (NIM_BOOL)0;
		{
			colontmp_ = (ext.len == 0);
			{
				if (!colontmp_) goto LA5_;
				goto LA2;
			}
			LA5_: ;
			colontmp_ = ((NU8)(ext.p->data[((NI) 0)]) == (NU8)(46));
		} LA2: ;
		{
			if (!colontmp_) goto LA9_;
			eqcopy___system_3231((&result), ext);
			goto LA1;
		}
		LA9_: ;
		T11_.len = 0; T11_.p = NIM_NIL;
		T11_ = rawNewString(ext.len + 1);
appendChar((&T11_), 46);
appendString((&T11_), ext);
		result = T11_;
	} LA1: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, noschangeFileExt)(NimStringV2 filename, NimStringV2 ext) {
	NimStringV2 result;
	NI extPos;
NIM_BOOL oldNimErrFin6_;
NIM_BOOL oldNimErrFin10_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	extPos = searchExtPos__pureZos_282(filename);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NimStringV2 colontmp__3;
		NimStringV2 colontmp__4;
		NimStringV2 T11_;
		NimStringV2 colontmp__5;
		NimStringV2 colontmp__6;
		{
			NimStringV2 colontmp_;
			NimStringV2 T7_;
			NimStringV2 colontmp__2;
			if (!(extPos < ((NI) 0))) goto LA4_;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			T7_.len = 0; T7_.p = NIM_NIL;
			colontmp__2 = normExt__pureZos_279(ext);
			if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
			colontmp_ = colontmp__2;
			T7_ = rawNewString(filename.len + colontmp_.len + 0);
appendString((&T7_), filename);
appendString((&T7_), colontmp_);
			result = T7_;
			eqdestroy___system_3228((&colontmp_));
			goto LA1;
			{
				LA6_:;
			}
			{
				oldNimErrFin6_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3228((&colontmp_));
				*nimErr_ = oldNimErrFin6_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA4_: ;
		colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
		colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
		T11_.len = 0; T11_.p = NIM_NIL;
		colontmp__5 = substr__system_7554(filename, ((NI) 0), (NI)(extPos - ((NI) 1)));
		if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
		colontmp__3 = colontmp__5;
		colontmp__6 = normExt__pureZos_279(ext);
		if (NIM_UNLIKELY(*nimErr_)) goto LA10_;
		colontmp__4 = colontmp__6;
		T11_ = rawNewString(colontmp__3.len + colontmp__4.len + 0);
appendString((&T11_), colontmp__3);
appendString((&T11_), colontmp__4);
		result = T11_;
		{
			LA10_:;
		}
		{
			oldNimErrFin10_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&colontmp__4));
			eqdestroy___system_3228((&colontmp__3));
			*nimErr_ = oldNimErrFin10_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosaddFileExt)(NimStringV2 filename, NimStringV2 ext) {
	NimStringV2 result;
	NI extPos;
NIM_BOOL oldNimErrFin6_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	extPos = searchExtPos__pureZos_282(filename);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		{
			NimStringV2 colontmp_;
			NimStringV2 T7_;
			NimStringV2 colontmp__2;
			if (!(extPos < ((NI) 0))) goto LA4_;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			T7_.len = 0; T7_.p = NIM_NIL;
			colontmp__2 = normExt__pureZos_279(ext);
			if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
			colontmp_ = colontmp__2;
			T7_ = rawNewString(filename.len + colontmp_.len + 0);
appendString((&T7_), filename);
appendString((&T7_), colontmp_);
			result = T7_;
			eqdestroy___system_3228((&colontmp_));
			goto LA1;
			{
				LA6_:;
			}
			{
				oldNimErrFin6_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3228((&colontmp_));
				*nimErr_ = oldNimErrFin6_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		LA4_: ;
		eqcopy___system_3231((&result), filename);
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nostryRemoveFile)(NimStringV2 file) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	result = (NIM_BOOL)0;
	result = NIM_TRUE;
	colontmp_ = (NIM_BOOL)0;
	{
		int T2_;
		T2_ = (int)0;
		T2_ = unlink(nimToCStringConv(file));
		colontmp_ = !((T2_ == ((NI32) 0)));
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA1;
		}
		LA5_: ;
		colontmp_ = !((errno == ((int) 2)));
	} LA1: ;
	{
		if (!colontmp_) goto LA9_;
		result = NIM_FALSE;
	}
	LA9_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___pureZos_470)(tyTuple__UV3llMMYFckfui8YMBuUZA* x) {
	NimStringV2 result;
	NI count;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = TM__yu6cxgKBBXbNsTkT9cyMd4g_89;
	count = ((NI) 0);
	{
		if (!(((NI) 0) < count)) goto LA3_;
		prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_91);
	}
	LA3_: ;
	count += ((NI) 1);
	addQuoted__pureZos_490((&result), (*x).Field0);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(((NI) 0) < count)) goto LA7_;
		prepareAdd((&result), 2);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_92);
	}
	LA7_: ;
	count += ((NI) 1);
	addQuoted__pureZos_490((&result), (*x).Field1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(count == ((NI) 1))) goto LA11_;
		prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_94);
	}
	LA11_: ;
	prepareAdd((&result), 1);
appendString((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_96);
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, putEnv__pureZos_467)(NimStringV2 key, NimStringV2 val) {
NIM_BOOL oldNimErrFin7_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		int T4_;
		NimStringV2 colontmp_;
		NI32 T8_;
		NimStringV2 colontmp__2;
		tyTuple__UV3llMMYFckfui8YMBuUZA T9_;
		T4_ = (int)0;
		T4_ = setenv(nimToCStringConv(key), nimToCStringConv(val), ((NI32) 1));
		if (!!((T4_ == ((NI32) 0)))) goto LA5_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T8_ = (NI32)0;
		T8_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		T9_.Field0 = key;
		T9_.Field1 = val;
		colontmp__2 = dollar___pureZos_470((&T9_));
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		colontmp_ = colontmp__2;
		raiseOSError__pureZos_446(T8_, colontmp_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		{
			LA7_:;
		}
		{
			oldNimErrFin7_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&colontmp_));
			*nimErr_ = oldNimErrFin7_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&val));
		eqdestroy___system_3228((&key));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NI, find__pureZos_831)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item) {
	NI result;
{	result = (NI)0;
	result = ((NI) 0);
	{
		NIM_CHAR i;
		NI i_2;
		i = (NIM_CHAR)0;
		i_2 = ((NI) 0);
		{
			while (1) {
				{
					if (!!((i_2 < aLen_0))) goto LA6_;
					goto LA3;
				}
				LA6_: ;
				i = a[i_2];
				{
					if (!((NU8)(i) == (NU8)(item))) goto LA10_;
					goto BeforeRet_;
				}
				LA10_: ;
				result += ((NI) 1);
				i_2 += ((NI) 1);
			} LA3: ;
		}
	}
	result = ((NI) -1);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, contains__pureZos_826)(NIM_CHAR* a, NI aLen_0, NIM_CHAR item) {
	NIM_BOOL result;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = find__pureZos_831(a, aLen_0, item);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (((NI) 0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nossymlinkExists)(NimStringV2 link) {
	NIM_BOOL result;
	NIM_BOOL colontmp_;
	struct stat res;
	result = (NIM_BOOL)0;
	colontmp_ = (NIM_BOOL)0;
	nimZeroMem((void*)(&res), sizeof(struct stat));
	{
		int T2_;
		T2_ = (int)0;
		T2_ = lstat(nimToCStringConv(link), (&res));
		colontmp_ = (((NI32) 0) <= T2_);
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA1;
		}
		LA5_: ;
		colontmp_ = S_ISLNK(res.st_mode);
	} LA1: ;
	result = colontmp_;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, findExe__pureZos_819)(NimStringV2 exe, NIM_BOOL followSymlinks, NimStringV2* extensions, NI extensionsLen_0) {
	NimStringV2 result;
	NimStringV2 path;
NIM_BOOL oldNimErrFin93_;
NIM_BOOL oldNimErrFin77_;
NIM_BOOL oldNimErrFin59_;
NIM_BOOL oldNimErrFin47_;
NIM_BOOL oldNimErrFin24_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	path.len = 0; path.p = NIM_NIL;
	{
		if (!(exe.len == ((NI) 0))) goto LA4_;
		eqdestroy___system_3228((&path));
		goto BeforeRet_;
	}
	LA4_: ;
	{
		NIM_BOOL T8_;
		T8_ = (NIM_BOOL)0;
		T8_ = contains__pureZos_826(exe.p->data, exe.len, 47);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!T8_) goto LA9_;
		{
			NimStringV2* extX60gensym82_;
			NI i;
			extX60gensym82_ = (NimStringV2*)0;
			i = ((NI) 0);
			{
				while (1) {
					NimStringV2 colontmp_;
					{
						if (!!((i < extensionsLen_0))) goto LA16_;
						goto LA13;
					}
					LA16_: ;
					extX60gensym82_ = (&extensions[i]);
					colontmp_ = nosaddFileExt(exe, (*extX60gensym82_));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					eqsink___system_3234((&result), colontmp_);
					{
						NIM_BOOL T20_;
						T20_ = (NIM_BOOL)0;
						T20_ = nosfileExists(result);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						if (!T20_) goto LA21_;
						eqdestroy___system_3228((&path));
						goto BeforeRet_;
					}
					LA21_: ;
					i += ((NI) 1);
				} LA13: ;
			}
		}
	}
	LA9_: ;
	path = getEnv__pureZos_459(TM__yu6cxgKBBXbNsTkT9cyMd4g_97, TM__yu6cxgKBBXbNsTkT9cyMd4g_98);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		NimStringV2 candidate;
		NI lastX60gensym33_;
		NI splitsX60gensym33_;
		candidate.len = 0; candidate.p = NIM_NIL;
		lastX60gensym33_ = ((NI) 0);
		splitsX60gensym33_ = ((NI) -1);
		{
			while (1) {
				NI firstX60gensym33_;
				NimStringV2 colontmp__3;
				{
					if (!!((lastX60gensym33_ <= path.len))) goto LA29_;
					goto LA26;
				}
				LA29_: ;
				firstX60gensym33_ = lastX60gensym33_;
				{
					while (1) {
						NIM_BOOL colontmp__2;
						colontmp__2 = (NIM_BOOL)0;
						{
							colontmp__2 = (lastX60gensym33_ < path.len);
							{
								if (!!(colontmp__2)) goto LA36_;
								goto LA33;
							}
							LA36_: ;
							colontmp__2 = !(((NU8)(path.p->data[lastX60gensym33_]) == (NU8)(58)));
						} LA33: ;
						{
							if (!!(colontmp__2)) goto LA40_;
							goto LA32;
						}
						LA40_: ;
						lastX60gensym33_ += ((NI) 1);
					} LA32: ;
				}
				{
					if (!(splitsX60gensym33_ == ((NI) 0))) goto LA44_;
					lastX60gensym33_ = path.len;
				}
				LA44_: ;
				colontmp__3 = substr__system_7554(path, firstX60gensym33_, (NI)(lastX60gensym33_ - ((NI) 1)));
				if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
				eqsink___system_3234((&candidate), colontmp__3);
				{
					NimStringV2 x;
					NimStringV2 colontmp__4;
					NimStringV2 colontmp__5;
					x.len = 0; x.p = NIM_NIL;
					colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
					{
						if (!(candidate.len == ((NI) 0))) goto LA50_;
						eqdestroy___system_3228((&colontmp__4));
						eqdestroy___system_3228((&x));
						goto LA46;
					}
					LA50_: ;
					colontmp__5 = expandTilde__pureZos_748(candidate);
					if (NIM_UNLIKELY(*nimErr_)) goto LA47_;
					colontmp__4 = colontmp__5;
					x = slash___pureZos_136(colontmp__4, exe);
					if (NIM_UNLIKELY(*nimErr_)) goto LA47_;
					{
						NimStringV2* ext;
						NI i_2;
						ext = (NimStringV2*)0;
						i_2 = ((NI) 0);
						{
							while (1) {
								NimStringV2 x_2;
								{
									if (!!((i_2 < extensionsLen_0))) goto LA57_;
									goto LA54;
								}
								LA57_: ;
								x_2.len = 0; x_2.p = NIM_NIL;
								ext = (&extensions[i_2]);
								x_2 = nosaddFileExt(x, (*ext));
								if (NIM_UNLIKELY(*nimErr_)) goto LA59_;
								{
									NIM_BOOL T62_;
									T62_ = (NIM_BOOL)0;
									T62_ = nosfileExists(x_2);
									if (NIM_UNLIKELY(*nimErr_)) goto LA59_;
									if (!T62_) goto LA63_;
									{
										while (1) {
											{
												if (!!(followSymlinks)) goto LA69_;
												goto LA66;
											}
											LA69_: ;
											{
												{
													NIM_BOOL T74_;
													NimStringV2 r;
													NI len;
													T74_ = (NIM_BOOL)0;
													T74_ = nossymlinkExists(x_2);
													if (NIM_UNLIKELY(*nimErr_)) goto LA59_;
													if (!T74_) goto LA75_;
													r.len = 0; r.p = NIM_NIL;
													r = mnewString(((NI) 1024));
													len = readlink(nimToCStringConv(x_2), nimToCStringConv(r), ((NI) 1024));
													{
														NI32 T82_;
														if (!(len < ((NI) 0))) goto LA80_;
														T82_ = (NI32)0;
														T82_ = osLastError__pureZos_449();
														if (NIM_UNLIKELY(*nimErr_)) goto LA77_;
														raiseOSError__pureZos_446(T82_, exe);
														if (NIM_UNLIKELY(*nimErr_)) goto LA77_;
													}
													LA80_: ;
													{
														NimStringV2 colontmp__6;
														if (!(((NI) 1024) < len)) goto LA85_;
														colontmp__6 = mnewString(((NI) ((NI)(len + ((NI) 1)))));
														eqsink___system_3234((&r), colontmp__6);
														len = readlink(nimToCStringConv(x_2), nimToCStringConv(r), len);
													}
													LA85_: ;
													setLengthStrV2((&r), ((NI) (len)));
													{
														NimStringV2 colontmp__7;
														NimStringV2 colontmp__8;
														NimStringV2 colontmp__9;
														{
															NIM_BOOL T90_;
															T90_ = (NIM_BOOL)0;
															T90_ = nosisAbsolute(r);
															if (NIM_UNLIKELY(*nimErr_)) goto LA77_;
															if (!T90_) goto LA91_;
															eqsink___system_3234((&x_2), r);
															r.len = 0; r.p = NIM_NIL;
															goto LA87;
														}
														LA91_: ;
														colontmp__7.len = 0; colontmp__7.p = NIM_NIL;
														colontmp__9 = nosparentDir(x_2);
														if (NIM_UNLIKELY(*nimErr_)) goto LA93_;
														colontmp__7 = colontmp__9;
														colontmp__8 = slash___pureZos_136(colontmp__7, r);
														if (NIM_UNLIKELY(*nimErr_)) goto LA93_;
														eqsink___system_3234((&x_2), colontmp__8);
														{
															LA93_:;
														}
														{
															oldNimErrFin93_ = *nimErr_; *nimErr_ = NIM_FALSE;
															eqdestroy___system_3228((&colontmp__7));
															*nimErr_ = oldNimErrFin93_;
														}
														if (NIM_UNLIKELY(*nimErr_)) goto LA77_;
													} LA87: ;
													eqdestroy___system_3228((&r));
													goto LA71;
													{
														LA77_:;
													}
													{
														oldNimErrFin77_ = *nimErr_; *nimErr_ = NIM_FALSE;
														eqdestroy___system_3228((&r));
														*nimErr_ = oldNimErrFin77_;
													}
													if (NIM_UNLIKELY(*nimErr_)) goto LA59_;
												}
												LA75_: ;
												goto LA65;
											} LA71: ;
										} LA66: ;
									} LA65: ;
									eqsink___system_3234((&result), x_2);
									x_2.len = 0; x_2.p = NIM_NIL;
									eqdestroy___system_3228((&x_2));
									eqdestroy___system_3228((&colontmp__4));
									eqdestroy___system_3228((&x));
									eqdestroy___system_3228((&candidate));
									eqdestroy___system_3228((&path));
									goto BeforeRet_;
								}
								LA63_: ;
								i_2 += ((NI) 1);
								{
									LA59_:;
								}
								{
									oldNimErrFin59_ = *nimErr_; *nimErr_ = NIM_FALSE;
									eqdestroy___system_3228((&x_2));
									*nimErr_ = oldNimErrFin59_;
								}
								if (NIM_UNLIKELY(*nimErr_)) goto LA47_;
							} LA54: ;
						}
					}
					{
						LA47_:;
					}
					{
						oldNimErrFin47_ = *nimErr_; *nimErr_ = NIM_FALSE;
						eqdestroy___system_3228((&colontmp__4));
						eqdestroy___system_3228((&x));
						*nimErr_ = oldNimErrFin47_;
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
				} LA46: ;
				{
					if (!(splitsX60gensym33_ == ((NI) 0))) goto LA104_;
					goto LA25;
				}
				LA104_: ;
				splitsX60gensym33_ -= ((NI) 1);
				lastX60gensym33_ += ((NI) 1);
			} LA26: ;
		} LA25: ;
		{
			LA24_:;
		}
		{
			oldNimErrFin24_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&candidate));
			*nimErr_ = oldNimErrFin24_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	eqsink___system_3234((&result), TM__yu6cxgKBBXbNsTkT9cyMd4g_99);
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&path));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosgetConfigDir)(void) {
	NimStringV2 result;
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
	NimStringV2 colontmp__3;
	NimStringV2 colontmp__4;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
	colontmp__4 = getEnv__pureZos_459(TM__yu6cxgKBBXbNsTkT9cyMd4g_102, TM__yu6cxgKBBXbNsTkT9cyMd4g_103);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp_ = colontmp__4;
	colontmp__3 = slash___pureZos_136(colontmp_, TM__yu6cxgKBBXbNsTkT9cyMd4g_105);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__2 = colontmp__3;
	result = getEnv__pureZos_459(TM__yu6cxgKBBXbNsTkT9cyMd4g_101, colontmp__2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	normalizePathEnd__pureZos_66((&result), NIM_TRUE);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&colontmp__2));
		eqdestroy___system_3228((&colontmp_));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosisRootDir)(NimStringV2 path) {
	NIM_BOOL result;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = (NI)0;
	T1_ = parentDirPos__pureZos_206(path);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = (T1_ < ((NI) 0));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(int, exitStatusLikeShell__pureZos_1279)(int status) {
	int result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (int)0;
	{
		{
			NIM_BOOL T4_;
			int T7_;
			T4_ = (NIM_BOOL)0;
			T4_ = WIFSIGNALED__posixZposix_1063(status);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			if (!T4_) goto LA5_;
			T7_ = (int)0;
			T7_ = WTERMSIG__posixZposix_1054(status);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result = (NI32)(((NI32) 128) + T7_);
			goto LA1;
		}
		LA5_: ;
		result = WEXITSTATUS__posixZposix_1047(status);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	} LA1: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, existsEnv__pureZos_464)(NimStringV2 key) {
	NIM_BOOL result;
	NCSTRING T1_;
	NIM_BOOL T2_;
{	result = (NIM_BOOL)0;
	T1_ = (NCSTRING)0;
	T1_ = getenv(nimToCStringConv(key));
	T2_ = (NIM_BOOL)0;
	T2_ = eqeq___system_7534(T1_, ((NCSTRING) NIM_NIL));
	result = !(T2_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZos_1536)(tyTuple__LCURwohbLBusrL8hdCnvng* dest, tyTuple__LCURwohbLBusrL8hdCnvng src) {
	(*dest).Field0 = src.Field0;
	if ((*dest).Field1.p != src.Field1.p) {	eqdestroy___system_3228((&(*dest).Field1));
	}
(*dest).Field1.len = src.Field1.len; (*dest).Field1.p = src.Field1.p;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_1530)(tyTuple__LCURwohbLBusrL8hdCnvng* dest) {
	eqdestroy___system_3228((&(*dest).Field1));
}
N_LIB_PRIVATE N_NIMCALL(void, delEnv__pureZos_506)(NimStringV2 key) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		int T3_;
		NI32 T6_;
		T3_ = (int)0;
		T3_ = unsetenv(nimToCStringConv(key));
		if (!!((T3_ == ((NI32) 0)))) goto LA4_;
		T6_ = (NI32)0;
		T6_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_446(T6_, key);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA4_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZos_548)(tySequence__4eQHGndY6XBYpFOH09apV8Q* dest) {
	NI colontmp_;
	colontmp_ = ((NI) 0);
	{
		while (1) {
			{
				NI T5_;
				T5_ = (*dest).len;
				if (!!((colontmp_ < T5_))) goto LA6_;
				goto LA2;
			}
			LA6_: ;
			eqdestroy___system_3228((&(*dest).p->data[colontmp_].Field0));
			eqdestroy___system_3228((&(*dest).p->data[colontmp_].Field1));
			colontmp_ += ((NI) 1);
		} LA2: ;
	}
	if ((*dest).p && !((*dest).p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc((*dest).p, NIM_ALIGNOF(tyTuple__UV3llMMYFckfui8YMBuUZA));
}
}
N_LIB_PRIVATE N_NIMCALL(void, nosremoveFile)(NimStringV2 file) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NIM_BOOL T3_;
		NI32 T6_;
		T3_ = (NIM_BOOL)0;
		T3_ = nostryRemoveFile(file);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		if (!!(T3_)) goto LA4_;
		T6_ = (NI32)0;
		T6_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_446(T6_, file);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA4_: ;
	}BeforeRet_: ;
}
static N_INLINE(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, toTime__pureZos_17)(struct timespec ts) {
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q));
	result = initTime__pureZtimes_933(((NI64) (ts.tv_sec)), ((NI) (ts.tv_nsec)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q, nosgetLastModificationTime)(NimStringV2 file) {
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q result;
	struct stat res;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&result), sizeof(tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q));
	nimZeroMem((void*)(&res), sizeof(struct stat));
	{
		int T3_;
		NI32 T6_;
		T3_ = (int)0;
		T3_ = stat(nimToCStringConv(file), (&res));
		if (!(T3_ < ((NI32) 0))) goto LA4_;
		T6_ = (NI32)0;
		T6_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_446(T6_, file);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA4_: ;
	result = toTime__pureZos_17(res.st_mtim);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileNewer)(NimStringV2 a, NimStringV2 b) {
	NIM_BOOL result;
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q T1_;
	tyObject_Time__3y2ZpqsTJLqdZvpC9a0rU2Q T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T1_ = nosgetLastModificationTime(b);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T2_ = nosgetLastModificationTime(a);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ntLtTime(T1_, T2_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZos_554)(tySequence__4eQHGndY6XBYpFOH09apV8Q* dest, tySequence__4eQHGndY6XBYpFOH09apV8Q src) {
	if ((*dest).p != src.p) {	eqdestroy___pureZos_548(dest);
	}
(*dest).len = src.len; (*dest).p = src.p;
}
N_LIB_PRIVATE N_NIMCALL(NI, nosexecShellCmd)(NimStringV2 command) {
	NI result;
	int T1_;
	int T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	T1_ = (int)0;
	T1_ = system(nimToCStringConv(command));
	T2_ = (int)0;
	T2_ = exitStatusLikeShell__pureZos_1279(T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ((NI) (T2_));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, countSetBitsImpl__systemZcountbits95impl_26)(NU32 x) {
	NI result;
	int T1_;
	result = (NI)0;
	T1_ = (int)0;
	T1_ = __builtin_popcount(x);
	result = ((NI) (T1_));
	return result;
}
static N_INLINE(NI, countBits32)(NU32 n) {
	NI result;
	result = (NI)0;
	result = countSetBitsImpl__systemZcountbits95impl_26(n);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, createSymlink__pureZos_1184)(NimStringV2 src, NimStringV2 dest) {
NIM_BOOL oldNimErrFin7_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		int T4_;
		NimStringV2 colontmp_;
		NI32 T8_;
		NimStringV2 colontmp__2;
		tyTuple__UV3llMMYFckfui8YMBuUZA T9_;
		T4_ = (int)0;
		T4_ = symlink(nimToCStringConv(src), nimToCStringConv(dest));
		if (!!((T4_ == ((NI32) 0)))) goto LA5_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		T8_ = (NI32)0;
		T8_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		T9_.Field0 = src;
		T9_.Field1 = dest;
		colontmp__2 = dollar___pureZos_470((&T9_));
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		colontmp_ = colontmp__2;
		raiseOSError__pureZos_446(T8_, colontmp_);
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		{
			LA7_:;
		}
		{
			oldNimErrFin7_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&colontmp_));
			*nimErr_ = oldNimErrFin7_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&dest));
		eqdestroy___system_3228((&src));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, expandSymlink__pureZos_1190)(NimStringV2 symlinkPath) {
	NimStringV2 result;
	NI len;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = mnewString(((NI) 1024));
	len = readlink(nimToCStringConv(symlinkPath), nimToCStringConv(result), ((NI) 1024));
	{
		NI32 T5_;
		if (!(len < ((NI) 0))) goto LA3_;
		T5_ = (NI32)0;
		T5_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_446(T5_, symlinkPath);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA3_: ;
	{
		NimStringV2 colontmp_;
		if (!(((NI) 1024) < len)) goto LA8_;
		colontmp_ = mnewString(((NI) ((NI)(len + ((NI) 1)))));
		eqsink___system_3234((&result), colontmp_);
		len = readlink(nimToCStringConv(symlinkPath), nimToCStringConv(result), len);
	}
	LA8_: ;
	setLengthStrV2((&result), ((NI) (len)));
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, noscopyFile)(NimStringV2 source, NimStringV2 dest, tySet_tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA options) {
	NIM_BOOL colontmp_;
	NIM_BOOL isSymlink;
	NIM_BOOL colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	{
		if (!!((countBits32((7 & options)) == ((NI) 1)))) goto LA4_;
		failedAssertImpl__systemZassertions_65(TM__yu6cxgKBBXbNsTkT9cyMd4g_107);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA4_: ;
	isSymlink = nossymlinkExists(source);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmp__2 = (NIM_BOOL)0;
	{
		colontmp__2 = isSymlink;
		{
			if (!!(colontmp__2)) goto LA9_;
			goto LA6;
		}
		LA9_: ;
		{
			colontmp_ = ((options &((NU8)1<<((NU)(((tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA) 2))&7U)))!=0);
			{
				if (!colontmp_) goto LA14_;
				goto LA11;
			}
			LA14_: ;
			colontmp_ = NIM_FALSE;
		} LA11: ;
		colontmp__2 = colontmp_;
	} LA6: ;
	{
		if (!colontmp__2) goto LA18_;
		eqdestroy___system_3228((&dest));
		goto BeforeRet_;
	}
	LA18_: ;
	{
		NIM_BOOL colontmp__3;
		FILE* d;
		FILE* s;
		void* buf;
		colontmp__3 = (NIM_BOOL)0;
		{
			colontmp__3 = isSymlink;
			{
				if (!!(colontmp__3)) goto LA24_;
				goto LA21;
			}
			LA24_: ;
			colontmp__3 = ((options &((NU8)1<<((NU)(((tyEnum_CopyFlag__pdzel23GjJ9cPFw8c5ldeRA) 0))&7U)))!=0);
		} LA21: ;
		{
			NimStringV2 colontmp__4;
			NimStringV2 T30_;
			if (!colontmp__3) goto LA28_;
			colontmp__4.len = 0; colontmp__4.p = NIM_NIL;
			T30_.len = 0; T30_.p = NIM_NIL;
			T30_ = expandSymlink__pureZos_1190(source);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			colontmp__4 = dest;
			dest.len = 0; dest.p = NIM_NIL;
			createSymlink__pureZos_1184(T30_, colontmp__4);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			goto LA20;
		}
		LA28_: ;
		d = (FILE*)0;
		s = (FILE*)0;
		{
			NIM_BOOL T33_;
			NI32 T36_;
			T33_ = (NIM_BOOL)0;
			T33_ = open__systemZio_452(&s, source, ((tyEnum_FileMode__ZJfK20XeZ9bv2j1pZjw9aswg) 0), ((NI) -1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			if (!!(T33_)) goto LA34_;
			T36_ = (NI32)0;
			T36_ = osLastError__pureZos_449();
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			raiseOSError__pureZos_446(T36_, source);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
		LA34_: ;
		{
			NIM_BOOL T39_;
			NI32 T42_;
			T39_ = (NIM_BOOL)0;
			T39_ = open__systemZio_452(&d, dest, ((tyEnum_FileMode__ZJfK20XeZ9bv2j1pZjw9aswg) 1), ((NI) -1));
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			if (!!(T39_)) goto LA40_;
			close__systemZio_275(s);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			T42_ = (NI32)0;
			T42_ = osLastError__pureZos_449();
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
			raiseOSError__pureZos_446(T42_, dest);
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
		LA40_: ;
		buf = allocImpl__system_1724(((NI) 8000));
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		{
			while (1) {
				NI bytesread;
				bytesread = readBuffer__systemZio_187(s, buf, ((NI) 8000));
				if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				{
					NI byteswritten;
					if (!(((NI) 0) < bytesread)) goto LA47_;
					byteswritten = writeBuffer__systemZio_219(d, buf, ((NI) (bytesread)));
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					{
						NI32 T53_;
						if (!!((bytesread == byteswritten))) goto LA51_;
						dealloc(buf);
						close__systemZio_275(s);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						close__systemZio_275(d);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						T53_ = (NI32)0;
						T53_ = osLastError__pureZos_449();
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
						raiseOSError__pureZos_446(T53_, dest);
						if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
					}
					LA51_: ;
				}
				LA47_: ;
				{
					if (!!((bytesread == ((NI) 8000)))) goto LA56_;
					goto LA43;
				}
				LA56_: ;
			}
		} LA43: ;
		dealloc(buf);
		close__systemZio_275(s);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		flushFile__systemZio_284(d);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		close__systemZio_275(d);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	} LA20: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&dest));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, rawRemoveDir__pureZos_1707)(NimStringV2 dir) {
	NIM_BOOL colontmp_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_ = (NIM_BOOL)0;
	{
		int T2_;
		T2_ = (int)0;
		T2_ = rmdir(nimToCStringConv(dir));
		colontmp_ = !((T2_ == ((NI32) 0)));
		{
			if (!!(colontmp_)) goto LA5_;
			goto LA1;
		}
		LA5_: ;
		colontmp_ = !((errno == ((int) 2)));
	} LA1: ;
	{
		NI32 T11_;
		if (!colontmp_) goto LA9_;
		T11_ = (NI32)0;
		T11_ = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		raiseOSError__pureZos_446(T11_, dir);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	LA9_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, nosremoveDir)(NimStringV2 dir, NIM_BOOL checkDir) {
NIM_BOOL oldNimErrFin31_;
NIM_BOOL oldNimErrFin17_;
NIM_BOOL oldNimErrFin13_;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		NimStringV2 path;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg kind;
		DIR* d;
		path.len = 0; path.p = NIM_NIL;
		kind = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		d = opendir(nimToCStringConv(dir));
		{
			{
				if (!(d == ((DIR*) NIM_NIL))) goto LA6_;
				{
					NI32 T12_;
					if (!checkDir) goto LA10_;
					T12_ = (NI32)0;
					T12_ = osLastError__pureZos_449();
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
					raiseOSError__pureZos_446(T12_, dir);
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				}
				LA10_: ;
				goto LA3;
			}
			LA6_: ;
			{
				while (1) {
					{
						NimStringV2 y;
						struct dirent* x;
						NIM_BOOL colontmp_;
						y.len = 0; y.p = NIM_NIL;
						x = readdir(d);
						{
							if (!(x == ((struct dirent*) NIM_NIL))) goto LA20_;
							eqdestroy___system_3228((&y));
							goto LA14;
						}
						LA20_: ;
						y = cstrToNimstr(((NCSTRING) ((*x).d_name)));
						colontmp_ = (NIM_BOOL)0;
						{
							colontmp_ = !(eqStrings(y, TM__yu6cxgKBBXbNsTkT9cyMd4g_108));
							{
								if (!!(colontmp_)) goto LA25_;
								goto LA22;
							}
							LA25_: ;
							colontmp_ = !(eqStrings(y, TM__yu6cxgKBBXbNsTkT9cyMd4g_109));
						} LA22: ;
						{
							NimStringV2 path_2;
							struct stat s;
							tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k;
							if (!colontmp_) goto LA29_;
							path_2.len = 0; path_2.p = NIM_NIL;
							nimZeroMem((void*)(&s), sizeof(struct stat));
							path_2 = slash___pureZos_136(dir, y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
							{
								if (!NIM_TRUE) goto LA34_;
								eqcopy___system_3231((&y), path_2);
							}
							LA34_: ;
							k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
							switch ((*x).d_type) {
							case ((NI) 4):
							{
								k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
							}
							break;
							case ((NI) 10):
							{
								{
									{
										NIM_BOOL T41_;
										T41_ = (NIM_BOOL)0;
										T41_ = nosdirExists(path_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
										if (!T41_) goto LA42_;
										k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
										goto LA38;
									}
									LA42_: ;
									k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1);
								} LA38: ;
							}
							break;
							case ((NI) 0):
							{
								{
									{
										int T48_;
										T48_ = (int)0;
										T48_ = lstat(nimToCStringConv(path_2), (&s));
										if (!(T48_ < ((NI32) 0))) goto LA49_;
										eqdestroy___system_3228((&path_2));
										eqdestroy___system_3228((&y));
										goto LA16;
									}
									LA49_: ;
									{
										NIM_BOOL T53_;
										T53_ = (NIM_BOOL)0;
										T53_ = S_ISDIR(s.st_mode);
										if (!T53_) goto LA54_;
										k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
										goto LA45;
									}
									LA54_: ;
									{
										NIM_BOOL T58_;
										T58_ = (NIM_BOOL)0;
										T58_ = S_ISLNK(s.st_mode);
										if (!T58_) goto LA59_;
										k = getSymlinkFileKind__pureZos_1399(path_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
										goto LA45;
									}
									LA59_: ;
								} LA45: ;
							}
							break;
							default:
							{
							}
							break;
							}
							kind = k;
							eqsink___system_3234((&path), y);
							y.len = 0; y.p = NIM_NIL;
							switch (kind) {
							case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0):
							case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1):
							case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3):
							{
								nosremoveFile(path);
								if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
							}
							break;
							case ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2):
							{
								nosremoveDir(path, NIM_TRUE);
								if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
							}
							break;
							}
							{
								LA31_:;
							}
							{
								oldNimErrFin31_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___system_3228((&path_2));
								*nimErr_ = oldNimErrFin31_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA17_;
						}
						LA29_: ;
						{
							LA17_:;
						}
						{
							oldNimErrFin17_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3228((&y));
							*nimErr_ = oldNimErrFin17_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
					} LA16: ;
				}
			} LA14: ;
			{
				LA13_:;
			}
			{
				int T70_;
				oldNimErrFin13_ = *nimErr_; *nimErr_ = NIM_FALSE;
				T70_ = (int)0;
				T70_ = closedir(d);
				(void)(T70_);
				*nimErr_ = oldNimErrFin13_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		} LA3: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&path));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	rawRemoveDir__pureZos_1707(dir);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, tryMoveFSObject__pureZos_1266)(NimStringV2 source, NimStringV2 dest, NIM_BOOL isDir) {
	NIM_BOOL result;
	int T2_;
NIM_BOOL oldNimErrFin11_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	T2_ = (int)0;
	T2_ = rename(nimToCStringConv(source), nimToCStringConv(dest));
	result = (T2_ == ((NI32) 0));
	{
		NI32 err;
		NIM_BOOL isAccessDeniedError;
		if (!!(result)) goto LA5_;
		err = osLastError__pureZos_449();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		isAccessDeniedError = (err == ((NI32) 18));
		{
			NimStringV2 colontmp_;
			NimStringV2 colontmp__2;
			tyTuple__UV3llMMYFckfui8YMBuUZA T12_;
			if (!!(isAccessDeniedError)) goto LA9_;
			colontmp_.len = 0; colontmp_.p = NIM_NIL;
			T12_.Field0 = source;
			T12_.Field1 = dest;
			colontmp__2 = dollar___pureZos_470((&T12_));
			if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
			colontmp_ = colontmp__2;
			raiseOSError__pureZos_446(err, colontmp_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
			{
				LA11_:;
			}
			{
				oldNimErrFin11_ = *nimErr_; *nimErr_ = NIM_FALSE;
				eqdestroy___system_3228((&colontmp_));
				*nimErr_ = oldNimErrFin11_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
		LA9_: ;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&dest));
		eqdestroy___system_3228((&source));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, popCurrentException)(void) {
	Exception** colontmp_;
	colontmp_ = &(*currException__system_3855).up;
	eqcopy___system_3893(&currException__system_3855, (*colontmp_), NIM_FALSE);
}
N_LIB_PRIVATE N_NIMCALL(void, nosmoveFile)(NimStringV2 source, NimStringV2 dest) {
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
	{
		NIM_BOOL T4_;
		NimStringV2 colontmp__3;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		eqcopy___system_3231((&colontmp_), source);
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		eqcopy___system_3231((&colontmp__2), dest);
		T4_ = (NIM_BOOL)0;
		T4_ = tryMoveFSObject__pureZos_1266(colontmp_, colontmp__2, NIM_FALSE);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
		colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
		eqcopy___system_3231((&colontmp__3), dest);
		noscopyFile(source, colontmp__3, 1);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		nosremoveFile(source);
		if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
		if (NIM_UNLIKELY(*nimErr_)) {
			LA7_:;
			{
				NIM_BOOL T11_;
				*nimErr_ = NIM_FALSE;
				T11_ = (NIM_BOOL)0;
				T11_ = nostryRemoveFile(dest);
				if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
				(void)(T11_);
				reraiseException();
				goto LA9_;
				popCurrentException();
				LA9_:;
			}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&dest));
		eqdestroy___system_3228((&source));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, noscopyDir)(NimStringV2 source, NimStringV2 dest) {
NIM_BOOL oldNimErrFin67_;
NIM_BOOL oldNimErrFin31_;
NIM_BOOL oldNimErrFin17_;
NIM_BOOL oldNimErrFin13_;
NIM_BOOL oldNimErrFin2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	noscreateDir(dest);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		NimStringV2 path;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg kind;
		DIR* d;
		path.len = 0; path.p = NIM_NIL;
		kind = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		d = opendir(nimToCStringConv(source));
		{
			{
				if (!(d == ((DIR*) NIM_NIL))) goto LA6_;
				{
					NI32 T12_;
					if (!NIM_FALSE) goto LA10_;
					T12_ = (NI32)0;
					T12_ = osLastError__pureZos_449();
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
					raiseOSError__pureZos_446(T12_, source);
					if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
				}
				LA10_: ;
				goto LA3;
			}
			LA6_: ;
			{
				while (1) {
					{
						NimStringV2 y;
						struct dirent* x;
						NIM_BOOL colontmp_;
						y.len = 0; y.p = NIM_NIL;
						x = readdir(d);
						{
							if (!(x == ((struct dirent*) NIM_NIL))) goto LA20_;
							eqdestroy___system_3228((&y));
							goto LA14;
						}
						LA20_: ;
						y = cstrToNimstr(((NCSTRING) ((*x).d_name)));
						colontmp_ = (NIM_BOOL)0;
						{
							colontmp_ = !(eqStrings(y, TM__yu6cxgKBBXbNsTkT9cyMd4g_110));
							{
								if (!!(colontmp_)) goto LA25_;
								goto LA22;
							}
							LA25_: ;
							colontmp_ = !(eqStrings(y, TM__yu6cxgKBBXbNsTkT9cyMd4g_111));
						} LA22: ;
						{
							NimStringV2 colontmp__2;
							NimStringV2 path_2;
							NimStringV2 noSource;
							tyTuple__UV3llMMYFckfui8YMBuUZA colontmp__3;
							struct stat s;
							tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k;
							tyTuple__UV3llMMYFckfui8YMBuUZA colontmp__4;
							if (!colontmp_) goto LA29_;
							colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
							path_2.len = 0; path_2.p = NIM_NIL;
							noSource.len = 0; noSource.p = NIM_NIL;
							nimZeroMem((void*)(&colontmp__3), sizeof(tyTuple__UV3llMMYFckfui8YMBuUZA));
							nimZeroMem((void*)(&s), sizeof(struct stat));
							path_2 = slash___pureZos_136(source, y);
							if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
							{
								if (!NIM_TRUE) goto LA34_;
								eqcopy___system_3231((&y), path_2);
							}
							LA34_: ;
							k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
							switch ((*x).d_type) {
							case ((NI) 4):
							{
								k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
							}
							break;
							case ((NI) 10):
							{
								{
									{
										NIM_BOOL T41_;
										T41_ = (NIM_BOOL)0;
										T41_ = nosdirExists(path_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
										if (!T41_) goto LA42_;
										k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
										goto LA38;
									}
									LA42_: ;
									k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1);
								} LA38: ;
							}
							break;
							case ((NI) 0):
							{
								{
									{
										int T48_;
										T48_ = (int)0;
										T48_ = lstat(nimToCStringConv(path_2), (&s));
										if (!(T48_ < ((NI32) 0))) goto LA49_;
										eqdestroy___pureZos_328((&colontmp__3));
										eqdestroy___system_3228((&noSource));
										eqdestroy___system_3228((&path_2));
										eqdestroy___system_3228((&y));
										goto LA16;
									}
									LA49_: ;
									{
										NIM_BOOL T53_;
										T53_ = (NIM_BOOL)0;
										T53_ = S_ISDIR(s.st_mode);
										if (!T53_) goto LA54_;
										k = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
										goto LA45;
									}
									LA54_: ;
									{
										NIM_BOOL T58_;
										T58_ = (NIM_BOOL)0;
										T58_ = S_ISLNK(s.st_mode);
										if (!T58_) goto LA59_;
										k = getSymlinkFileKind__pureZos_1399(path_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
										goto LA45;
									}
									LA59_: ;
								} LA45: ;
							}
							break;
							default:
							{
							}
							break;
							}
							kind = k;
							eqsink___system_3234((&path), y);
							y.len = 0; y.p = NIM_NIL;
							colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
							eqcopy___system_3231((&colontmp__2), path);
							colontmp__4 = nossplitPath(colontmp__2);
							if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
							colontmp__3 = colontmp__4;
							noSource = colontmp__3.Field1;
							colontmp__3.Field1.len = 0; colontmp__3.Field1.p = NIM_NIL;
							{
								NimStringV2 T70_;
								{
									NimStringV2 colontmp__5;
									NimStringV2 colontmp__6;
									if (!(kind == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2))) goto LA65_;
									colontmp__5.len = 0; colontmp__5.p = NIM_NIL;
									colontmp__6 = slash___pureZos_136(dest, noSource);
									if (NIM_UNLIKELY(*nimErr_)) goto LA67_;
									colontmp__5 = colontmp__6;
									noscopyDir(path, colontmp__5);
									if (NIM_UNLIKELY(*nimErr_)) goto LA67_;
									eqdestroy___system_3228((&colontmp__5));
									goto LA62;
									{
										LA67_:;
									}
									{
										oldNimErrFin67_ = *nimErr_; *nimErr_ = NIM_FALSE;
										eqdestroy___system_3228((&colontmp__5));
										*nimErr_ = oldNimErrFin67_;
									}
									if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
								}
								LA65_: ;
								T70_.len = 0; T70_.p = NIM_NIL;
								T70_ = slash___pureZos_136(dest, noSource);
								if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
								noscopyFile(path, T70_, 1);
								if (NIM_UNLIKELY(*nimErr_)) goto LA31_;
							} LA62: ;
							{
								LA31_:;
							}
							{
								oldNimErrFin31_ = *nimErr_; *nimErr_ = NIM_FALSE;
								eqdestroy___pureZos_328((&colontmp__3));
								eqdestroy___system_3228((&noSource));
								eqdestroy___system_3228((&path_2));
								*nimErr_ = oldNimErrFin31_;
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA17_;
						}
						LA29_: ;
						{
							LA17_:;
						}
						{
							oldNimErrFin17_ = *nimErr_; *nimErr_ = NIM_FALSE;
							eqdestroy___system_3228((&y));
							*nimErr_ = oldNimErrFin17_;
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
					} LA16: ;
				}
			} LA14: ;
			{
				LA13_:;
			}
			{
				int T77_;
				oldNimErrFin13_ = *nimErr_; *nimErr_ = NIM_FALSE;
				T77_ = (int)0;
				T77_ = closedir(d);
				(void)(T77_);
				*nimErr_ = oldNimErrFin13_;
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA2_;
		} LA3: ;
		{
			LA2_:;
		}
		{
			oldNimErrFin2_ = *nimErr_; *nimErr_ = NIM_FALSE;
			eqdestroy___system_3228((&path));
			*nimErr_ = oldNimErrFin2_;
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, moveDir__pureZos_1752)(NimStringV2 source, NimStringV2 dest) {
	NimStringV2 colontmp_;
	NimStringV2 colontmp__2;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmp_.len = 0; colontmp_.p = NIM_NIL;
	colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
	{
		NIM_BOOL T4_;
		colontmp_.len = 0; colontmp_.p = NIM_NIL;
		eqcopy___system_3231((&colontmp_), source);
		colontmp__2.len = 0; colontmp__2.p = NIM_NIL;
		eqcopy___system_3231((&colontmp__2), dest);
		T4_ = (NIM_BOOL)0;
		T4_ = tryMoveFSObject__pureZos_1266(colontmp_, colontmp__2, NIM_TRUE);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		noscopyDir(source, dest);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		nosremoveDir(source, NIM_FALSE);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	LA5_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___system_3228((&dest));
		eqdestroy___system_3228((&source));
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
